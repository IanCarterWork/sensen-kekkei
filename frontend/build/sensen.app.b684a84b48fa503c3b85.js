/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunksensen_wapp"] = self["webpackChunksensen_wapp"] || []).push([["app"],{

/***/ "./pipe/app/activities/home/index.js":
/*!*******************************************!*\
  !*** ./pipe/app/activities/home/index.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HomeActivity\": () => (/* binding */ HomeActivity)\n/* harmony export */ });\n/* harmony import */ var sensen_jutsu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sensen-jutsu */ \"./node_modules/sensen-jutsu/index.js\");\n/* harmony import */ var sensen_jutsu_animation_preset__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sensen-jutsu/animation/preset */ \"./node_modules/sensen-jutsu/animation/preset.js\");\n/* harmony import */ var _index_activity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.activity */ \"./pipe/app/activities/home/index.activity\");\n\n\n\nconst HomeActivity = (0,sensen_jutsu__WEBPACK_IMPORTED_MODULE_0__.Component)({\n  name: 'hello',\n  state: {\n    ref: 'SubTitle'\n  },\n  methods: {},\n  transition: {\n    onbuild: sensen_jutsu_animation_preset__WEBPACK_IMPORTED_MODULE_1__.FxSlideHorizontal,\n    ondestroy: sensen_jutsu_animation_preset__WEBPACK_IMPORTED_MODULE_1__.FxSlideHorizontal\n  },\n\n  render({\n    element,\n    children,\n    state\n  }) {\n    return _index_activity__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n  }\n\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9waXBlL2FwcC9hY3Rpdml0aWVzL2hvbWUvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUZBOztBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQVpBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2Vuc2VuLXdhcHAvLi9waXBlL2FwcC9hY3Rpdml0aWVzL2hvbWUvaW5kZXguanM/YjNjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwic2Vuc2VuLWp1dHN1XCI7XG5pbXBvcnQgeyBGeFNsaWRlSG9yaXpvbnRhbCB9IGZyb20gXCJzZW5zZW4tanV0c3UvYW5pbWF0aW9uL3ByZXNldFwiO1xuaW1wb3J0IG1vY2t1cCBmcm9tIFwiLi9pbmRleC5hY3Rpdml0eVwiO1xuZXhwb3J0IGNvbnN0IEhvbWVBY3Rpdml0eSA9IENvbXBvbmVudCh7XG4gICAgbmFtZTogJ2hlbGxvJyxcbiAgICBzdGF0ZToge1xuICAgICAgICByZWY6ICdTdWJUaXRsZScsXG4gICAgfSxcbiAgICBtZXRob2RzOiB7fSxcbiAgICB0cmFuc2l0aW9uOiB7XG4gICAgICAgIG9uYnVpbGQ6IEZ4U2xpZGVIb3Jpem9udGFsLFxuICAgICAgICBvbmRlc3Ryb3k6IEZ4U2xpZGVIb3Jpem9udGFsLFxuICAgIH0sXG4gICAgcmVuZGVyKHsgZWxlbWVudCwgY2hpbGRyZW4sIHN0YXRlIH0pIHtcbiAgICAgICAgcmV0dXJuIG1vY2t1cDtcbiAgICB9XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pipe/app/activities/home/index.js\n");

/***/ }),

/***/ "./pipe/app/index.js":
/*!***************************!*\
  !*** ./pipe/app/index.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var sensen_jutsu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sensen-jutsu */ \"./node_modules/sensen-jutsu/index.js\");\n/* harmony import */ var sensen_jutsu_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sensen-jutsu/router */ \"./node_modules/sensen-jutsu/router.js\");\n/* harmony import */ var _activities_home__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./activities/home */ \"./pipe/app/activities/home/index.js\");\n\n\n\nsensen_jutsu__WEBPACK_IMPORTED_MODULE_0__.Jutsu.Kuchiyoce('root', {\n  state: {\n    appName: 'Sensen Terminal'\n  },\n\n  main(state, canvas) {\n    return new sensen_jutsu_router__WEBPACK_IMPORTED_MODULE_1__.SensenRouter({\n      default: 'home',\n      canvas\n    }).add(new sensen_jutsu_router__WEBPACK_IMPORTED_MODULE_1__.SensenRouterEntry({\n      pattern: 'home',\n      method: 'get',\n      component: _activities_home__WEBPACK_IMPORTED_MODULE_2__.HomeActivity\n    })).run(state);\n  }\n\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9waXBlL2FwcC9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7O0FBZkEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZW5zZW4td2FwcC8uL3BpcGUvYXBwL2luZGV4LmpzPzI5Y2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSnV0c3UgfSBmcm9tIFwic2Vuc2VuLWp1dHN1XCI7XG5pbXBvcnQgeyBTZW5zZW5Sb3V0ZXIsIFNlbnNlblJvdXRlckVudHJ5IH0gZnJvbSBcInNlbnNlbi1qdXRzdS9yb3V0ZXJcIjtcbmltcG9ydCB7IEhvbWVBY3Rpdml0eSB9IGZyb20gXCIuL2FjdGl2aXRpZXMvaG9tZVwiO1xuSnV0c3UuS3VjaGl5b2NlKCdyb290Jywge1xuICAgIHN0YXRlOiB7XG4gICAgICAgIGFwcE5hbWU6ICdTZW5zZW4gVGVybWluYWwnXG4gICAgfSxcbiAgICBtYWluKHN0YXRlLCBjYW52YXMpIHtcbiAgICAgICAgcmV0dXJuIChuZXcgU2Vuc2VuUm91dGVyKHtcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdob21lJyxcbiAgICAgICAgICAgIGNhbnZhc1xuICAgICAgICB9KSlcbiAgICAgICAgICAgIC5hZGQobmV3IFNlbnNlblJvdXRlckVudHJ5KHtcbiAgICAgICAgICAgIHBhdHRlcm46ICdob21lJyxcbiAgICAgICAgICAgIG1ldGhvZDogJ2dldCcsXG4gICAgICAgICAgICBjb21wb25lbnQ6IEhvbWVBY3Rpdml0eVxuICAgICAgICB9KSlcbiAgICAgICAgICAgIC5ydW4oc3RhdGUpO1xuICAgIH1cbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pipe/app/index.js\n");

/***/ }),

/***/ "./node_modules/ejs/lib/ejs.js":
/*!*************************************!*\
  !*** ./node_modules/ejs/lib/ejs.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("/*\n * EJS Embedded JavaScript templates\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\n\n\n/**\n * @file Embedded JavaScript templating engine. {@link http://ejs.co}\n * @author Matthew Eernisse <mde@fleegix.org>\n * @author Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\n * @project EJS\n * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}\n */\n\n/**\n * EJS internal functions.\n *\n * Technically this \"module\" lies in the same file as {@link module:ejs}, for\n * the sake of organization all the private functions re grouped into this\n * module.\n *\n * @module ejs-internal\n * @private\n */\n\n/**\n * Embedded JavaScript templating engine.\n *\n * @module ejs\n * @public\n */\n\nvar fs = __webpack_require__(/*! fs */ \"?a259\");\nvar path = __webpack_require__(/*! path */ \"?a5fc\");\nvar utils = __webpack_require__(/*! ./utils */ \"./node_modules/ejs/lib/utils.js\");\n\nvar scopeOptionWarned = false;\n/** @type {string} */\nvar _VERSION_STRING = (__webpack_require__(/*! ../package.json */ \"./node_modules/ejs/package.json\").version);\nvar _DEFAULT_OPEN_DELIMITER = '<';\nvar _DEFAULT_CLOSE_DELIMITER = '>';\nvar _DEFAULT_DELIMITER = '%';\nvar _DEFAULT_LOCALS_NAME = 'locals';\nvar _NAME = 'ejs';\nvar _REGEX_STRING = '(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)';\nvar _OPTS_PASSABLE_WITH_DATA = ['delimiter', 'scope', 'context', 'debug', 'compileDebug',\n  'client', '_with', 'rmWhitespace', 'strict', 'filename', 'async'];\n// We don't allow 'cache' option to be passed in the data obj for\n// the normal `render` call, but this is where Express 2 & 3 put it\n// so we make an exception for `renderFile`\nvar _OPTS_PASSABLE_WITH_DATA_EXPRESS = _OPTS_PASSABLE_WITH_DATA.concat('cache');\nvar _BOM = /^\\uFEFF/;\n\n/**\n * EJS template function cache. This can be a LRU object from lru-cache NPM\n * module. By default, it is {@link module:utils.cache}, a simple in-process\n * cache that grows continuously.\n *\n * @type {Cache}\n */\n\nexports.cache = utils.cache;\n\n/**\n * Custom file loader. Useful for template preprocessing or restricting access\n * to a certain part of the filesystem.\n *\n * @type {fileLoader}\n */\n\nexports.fileLoader = fs.readFileSync;\n\n/**\n * Name of the object containing the locals.\n *\n * This variable is overridden by {@link Options}`.localsName` if it is not\n * `undefined`.\n *\n * @type {String}\n * @public\n */\n\nexports.localsName = _DEFAULT_LOCALS_NAME;\n\n/**\n * Promise implementation -- defaults to the native implementation if available\n * This is mostly just for testability\n *\n * @type {PromiseConstructorLike}\n * @public\n */\n\nexports.promiseImpl = (new Function('return this;'))().Promise;\n\n/**\n * Get the path to the included file from the parent file path and the\n * specified path.\n *\n * @param {String}  name     specified path\n * @param {String}  filename parent file path\n * @param {Boolean} [isDir=false] whether the parent file path is a directory\n * @return {String}\n */\nexports.resolveInclude = function(name, filename, isDir) {\n  var dirname = path.dirname;\n  var extname = path.extname;\n  var resolve = path.resolve;\n  var includePath = resolve(isDir ? filename : dirname(filename), name);\n  var ext = extname(name);\n  if (!ext) {\n    includePath += '.ejs';\n  }\n  return includePath;\n};\n\n/**\n * Try to resolve file path on multiple directories\n *\n * @param  {String}        name  specified path\n * @param  {Array<String>} paths list of possible parent directory paths\n * @return {String}\n */\nfunction resolvePaths(name, paths) {\n  var filePath;\n  if (paths.some(function (v) {\n    filePath = exports.resolveInclude(name, v, true);\n    return fs.existsSync(filePath);\n  })) {\n    return filePath;\n  }\n}\n\n/**\n * Get the path to the included file by Options\n *\n * @param  {String}  path    specified path\n * @param  {Options} options compilation options\n * @return {String}\n */\nfunction getIncludePath(path, options) {\n  var includePath;\n  var filePath;\n  var views = options.views;\n  var match = /^[A-Za-z]+:\\\\|^\\//.exec(path);\n\n  // Abs path\n  if (match && match.length) {\n    path = path.replace(/^\\/*/, '');\n    if (Array.isArray(options.root)) {\n      includePath = resolvePaths(path, options.root);\n    } else {\n      includePath = exports.resolveInclude(path, options.root || '/', true);\n    }\n  }\n  // Relative paths\n  else {\n    // Look relative to a passed filename first\n    if (options.filename) {\n      filePath = exports.resolveInclude(path, options.filename);\n      if (fs.existsSync(filePath)) {\n        includePath = filePath;\n      }\n    }\n    // Then look in any views directories\n    if (!includePath && Array.isArray(views)) {\n      includePath = resolvePaths(path, views);\n    }\n    if (!includePath && typeof options.includer !== 'function') {\n      throw new Error('Could not find the include file \"' +\n          options.escapeFunction(path) + '\"');\n    }\n  }\n  return includePath;\n}\n\n/**\n * Get the template from a string or a file, either compiled on-the-fly or\n * read from cache (if enabled), and cache the template if needed.\n *\n * If `template` is not set, the file specified in `options.filename` will be\n * read.\n *\n * If `options.cache` is true, this function reads the file from\n * `options.filename` so it must be set prior to calling this function.\n *\n * @memberof module:ejs-internal\n * @param {Options} options   compilation options\n * @param {String} [template] template source\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `options.client`, either type might be returned.\n * @static\n */\n\nfunction handleCache(options, template) {\n  var func;\n  var filename = options.filename;\n  var hasTemplate = arguments.length > 1;\n\n  if (options.cache) {\n    if (!filename) {\n      throw new Error('cache option requires a filename');\n    }\n    func = exports.cache.get(filename);\n    if (func) {\n      return func;\n    }\n    if (!hasTemplate) {\n      template = fileLoader(filename).toString().replace(_BOM, '');\n    }\n  }\n  else if (!hasTemplate) {\n    // istanbul ignore if: should not happen at all\n    if (!filename) {\n      throw new Error('Internal EJS error: no file name or template '\n                    + 'provided');\n    }\n    template = fileLoader(filename).toString().replace(_BOM, '');\n  }\n  func = exports.compile(template, options);\n  if (options.cache) {\n    exports.cache.set(filename, func);\n  }\n  return func;\n}\n\n/**\n * Try calling handleCache with the given options and data and call the\n * callback with the result. If an error occurs, call the callback with\n * the error. Used by renderFile().\n *\n * @memberof module:ejs-internal\n * @param {Options} options    compilation options\n * @param {Object} data        template data\n * @param {RenderFileCallback} cb callback\n * @static\n */\n\nfunction tryHandleCache(options, data, cb) {\n  var result;\n  if (!cb) {\n    if (typeof exports.promiseImpl == 'function') {\n      return new exports.promiseImpl(function (resolve, reject) {\n        try {\n          result = handleCache(options)(data);\n          resolve(result);\n        }\n        catch (err) {\n          reject(err);\n        }\n      });\n    }\n    else {\n      throw new Error('Please provide a callback function');\n    }\n  }\n  else {\n    try {\n      result = handleCache(options)(data);\n    }\n    catch (err) {\n      return cb(err);\n    }\n\n    cb(null, result);\n  }\n}\n\n/**\n * fileLoader is independent\n *\n * @param {String} filePath ejs file path.\n * @return {String} The contents of the specified file.\n * @static\n */\n\nfunction fileLoader(filePath){\n  return exports.fileLoader(filePath);\n}\n\n/**\n * Get the template function.\n *\n * If `options.cache` is `true`, then the template is cached.\n *\n * @memberof module:ejs-internal\n * @param {String}  path    path for the specified file\n * @param {Options} options compilation options\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `options.client`, either type might be returned\n * @static\n */\n\nfunction includeFile(path, options) {\n  var opts = utils.shallowCopy({}, options);\n  opts.filename = getIncludePath(path, opts);\n  if (typeof options.includer === 'function') {\n    var includerResult = options.includer(path, opts.filename);\n    if (includerResult) {\n      if (includerResult.filename) {\n        opts.filename = includerResult.filename;\n      }\n      if (includerResult.template) {\n        return handleCache(opts, includerResult.template);\n      }\n    }\n  }\n  return handleCache(opts);\n}\n\n/**\n * Re-throw the given `err` in context to the `str` of ejs, `filename`, and\n * `lineno`.\n *\n * @implements {RethrowCallback}\n * @memberof module:ejs-internal\n * @param {Error}  err      Error object\n * @param {String} str      EJS source\n * @param {String} flnm     file name of the EJS file\n * @param {Number} lineno   line number of the error\n * @param {EscapeCallback} esc\n * @static\n */\n\nfunction rethrow(err, str, flnm, lineno, esc) {\n  var lines = str.split('\\n');\n  var start = Math.max(lineno - 3, 0);\n  var end = Math.min(lines.length, lineno + 3);\n  var filename = esc(flnm);\n  // Error context\n  var context = lines.slice(start, end).map(function (line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? ' >> ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'ejs') + ':'\n    + lineno + '\\n'\n    + context + '\\n\\n'\n    + err.message;\n\n  throw err;\n}\n\nfunction stripSemi(str){\n  return str.replace(/;(\\s*$)/, '$1');\n}\n\n/**\n * Compile the given `str` of ejs into a template function.\n *\n * @param {String}  template EJS template\n *\n * @param {Options} [opts] compilation options\n *\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `opts.client`, either type might be returned.\n * Note that the return type of the function also depends on the value of `opts.async`.\n * @public\n */\n\nexports.compile = function compile(template, opts) {\n  var templ;\n\n  // v1 compat\n  // 'scope' is 'context'\n  // FIXME: Remove this in a future version\n  if (opts && opts.scope) {\n    if (!scopeOptionWarned){\n      console.warn('`scope` option is deprecated and will be removed in EJS 3');\n      scopeOptionWarned = true;\n    }\n    if (!opts.context) {\n      opts.context = opts.scope;\n    }\n    delete opts.scope;\n  }\n  templ = new Template(template, opts);\n  return templ.compile();\n};\n\n/**\n * Render the given `template` of ejs.\n *\n * If you would like to include options but not data, you need to explicitly\n * call this function with `data` being an empty object or `null`.\n *\n * @param {String}   template EJS template\n * @param {Object}  [data={}] template data\n * @param {Options} [opts={}] compilation and rendering options\n * @return {(String|Promise<String>)}\n * Return value type depends on `opts.async`.\n * @public\n */\n\nexports.render = function (template, d, o) {\n  var data = d || {};\n  var opts = o || {};\n\n  // No options object -- if there are optiony names\n  // in the data, copy them to options\n  if (arguments.length == 2) {\n    utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA);\n  }\n\n  return handleCache(opts, template)(data);\n};\n\n/**\n * Render an EJS file at the given `path` and callback `cb(err, str)`.\n *\n * If you would like to include options but not data, you need to explicitly\n * call this function with `data` being an empty object or `null`.\n *\n * @param {String}             path     path to the EJS file\n * @param {Object}            [data={}] template data\n * @param {Options}           [opts={}] compilation and rendering options\n * @param {RenderFileCallback} cb callback\n * @public\n */\n\nexports.renderFile = function () {\n  var args = Array.prototype.slice.call(arguments);\n  var filename = args.shift();\n  var cb;\n  var opts = {filename: filename};\n  var data;\n  var viewOpts;\n\n  // Do we have a callback?\n  if (typeof arguments[arguments.length - 1] == 'function') {\n    cb = args.pop();\n  }\n  // Do we have data/opts?\n  if (args.length) {\n    // Should always have data obj\n    data = args.shift();\n    // Normal passed opts (data obj + opts obj)\n    if (args.length) {\n      // Use shallowCopy so we don't pollute passed in opts obj with new vals\n      utils.shallowCopy(opts, args.pop());\n    }\n    // Special casing for Express (settings + opts-in-data)\n    else {\n      // Express 3 and 4\n      if (data.settings) {\n        // Pull a few things from known locations\n        if (data.settings.views) {\n          opts.views = data.settings.views;\n        }\n        if (data.settings['view cache']) {\n          opts.cache = true;\n        }\n        // Undocumented after Express 2, but still usable, esp. for\n        // items that are unsafe to be passed along with data, like `root`\n        viewOpts = data.settings['view options'];\n        if (viewOpts) {\n          utils.shallowCopy(opts, viewOpts);\n        }\n      }\n      // Express 2 and lower, values set in app.locals, or people who just\n      // want to pass options in their data. NOTE: These values will override\n      // anything previously set in settings  or settings['view options']\n      utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA_EXPRESS);\n    }\n    opts.filename = filename;\n  }\n  else {\n    data = {};\n  }\n\n  return tryHandleCache(opts, data, cb);\n};\n\n/**\n * Clear intermediate JavaScript cache. Calls {@link Cache#reset}.\n * @public\n */\n\n/**\n * EJS template class\n * @public\n */\nexports.Template = Template;\n\nexports.clearCache = function () {\n  exports.cache.reset();\n};\n\nfunction Template(text, opts) {\n  opts = opts || {};\n  var options = {};\n  this.templateText = text;\n  /** @type {string | null} */\n  this.mode = null;\n  this.truncate = false;\n  this.currentLine = 1;\n  this.source = '';\n  options.client = opts.client || false;\n  options.escapeFunction = opts.escape || opts.escapeFunction || utils.escapeXML;\n  options.compileDebug = opts.compileDebug !== false;\n  options.debug = !!opts.debug;\n  options.filename = opts.filename;\n  options.openDelimiter = opts.openDelimiter || exports.openDelimiter || _DEFAULT_OPEN_DELIMITER;\n  options.closeDelimiter = opts.closeDelimiter || exports.closeDelimiter || _DEFAULT_CLOSE_DELIMITER;\n  options.delimiter = opts.delimiter || exports.delimiter || _DEFAULT_DELIMITER;\n  options.strict = opts.strict || false;\n  options.context = opts.context;\n  options.cache = opts.cache || false;\n  options.rmWhitespace = opts.rmWhitespace;\n  options.root = opts.root;\n  options.includer = opts.includer;\n  options.outputFunctionName = opts.outputFunctionName;\n  options.localsName = opts.localsName || exports.localsName || _DEFAULT_LOCALS_NAME;\n  options.views = opts.views;\n  options.async = opts.async;\n  options.destructuredLocals = opts.destructuredLocals;\n  options.legacyInclude = typeof opts.legacyInclude != 'undefined' ? !!opts.legacyInclude : true;\n\n  if (options.strict) {\n    options._with = false;\n  }\n  else {\n    options._with = typeof opts._with != 'undefined' ? opts._with : true;\n  }\n\n  this.opts = options;\n\n  this.regex = this.createRegex();\n}\n\nTemplate.modes = {\n  EVAL: 'eval',\n  ESCAPED: 'escaped',\n  RAW: 'raw',\n  COMMENT: 'comment',\n  LITERAL: 'literal'\n};\n\nTemplate.prototype = {\n  createRegex: function () {\n    var str = _REGEX_STRING;\n    var delim = utils.escapeRegExpChars(this.opts.delimiter);\n    var open = utils.escapeRegExpChars(this.opts.openDelimiter);\n    var close = utils.escapeRegExpChars(this.opts.closeDelimiter);\n    str = str.replace(/%/g, delim)\n      .replace(/</g, open)\n      .replace(/>/g, close);\n    return new RegExp(str);\n  },\n\n  compile: function () {\n    /** @type {string} */\n    var src;\n    /** @type {ClientFunction} */\n    var fn;\n    var opts = this.opts;\n    var prepended = '';\n    var appended = '';\n    /** @type {EscapeCallback} */\n    var escapeFn = opts.escapeFunction;\n    /** @type {FunctionConstructor} */\n    var ctor;\n    /** @type {string} */\n    var sanitizedFilename = opts.filename ? JSON.stringify(opts.filename) : 'undefined';\n\n    if (!this.source) {\n      this.generateSource();\n      prepended +=\n        '  var __output = \"\";\\n' +\n        '  function __append(s) { if (s !== undefined && s !== null) __output += s }\\n';\n      if (opts.outputFunctionName) {\n        prepended += '  var ' + opts.outputFunctionName + ' = __append;' + '\\n';\n      }\n      if (opts.destructuredLocals && opts.destructuredLocals.length) {\n        var destructuring = '  var __locals = (' + opts.localsName + ' || {}),\\n';\n        for (var i = 0; i < opts.destructuredLocals.length; i++) {\n          var name = opts.destructuredLocals[i];\n          if (i > 0) {\n            destructuring += ',\\n  ';\n          }\n          destructuring += name + ' = __locals.' + name;\n        }\n        prepended += destructuring + ';\\n';\n      }\n      if (opts._with !== false) {\n        prepended +=  '  with (' + opts.localsName + ' || {}) {' + '\\n';\n        appended += '  }' + '\\n';\n      }\n      appended += '  return __output;' + '\\n';\n      this.source = prepended + this.source + appended;\n    }\n\n    if (opts.compileDebug) {\n      src = 'var __line = 1' + '\\n'\n        + '  , __lines = ' + JSON.stringify(this.templateText) + '\\n'\n        + '  , __filename = ' + sanitizedFilename + ';' + '\\n'\n        + 'try {' + '\\n'\n        + this.source\n        + '} catch (e) {' + '\\n'\n        + '  rethrow(e, __lines, __filename, __line, escapeFn);' + '\\n'\n        + '}' + '\\n';\n    }\n    else {\n      src = this.source;\n    }\n\n    if (opts.client) {\n      src = 'escapeFn = escapeFn || ' + escapeFn.toString() + ';' + '\\n' + src;\n      if (opts.compileDebug) {\n        src = 'rethrow = rethrow || ' + rethrow.toString() + ';' + '\\n' + src;\n      }\n    }\n\n    if (opts.strict) {\n      src = '\"use strict\";\\n' + src;\n    }\n    if (opts.debug) {\n      console.log(src);\n    }\n    if (opts.compileDebug && opts.filename) {\n      src = src + '\\n'\n        + '//# sourceURL=' + sanitizedFilename + '\\n';\n    }\n\n    try {\n      if (opts.async) {\n        // Have to use generated function for this, since in envs without support,\n        // it breaks in parsing\n        try {\n          ctor = (new Function('return (async function(){}).constructor;'))();\n        }\n        catch(e) {\n          if (e instanceof SyntaxError) {\n            throw new Error('This environment does not support async/await');\n          }\n          else {\n            throw e;\n          }\n        }\n      }\n      else {\n        ctor = Function;\n      }\n      fn = new ctor(opts.localsName + ', escapeFn, include, rethrow', src);\n    }\n    catch(e) {\n      // istanbul ignore else\n      if (e instanceof SyntaxError) {\n        if (opts.filename) {\n          e.message += ' in ' + opts.filename;\n        }\n        e.message += ' while compiling ejs\\n\\n';\n        e.message += 'If the above error is not helpful, you may want to try EJS-Lint:\\n';\n        e.message += 'https://github.com/RyanZim/EJS-Lint';\n        if (!opts.async) {\n          e.message += '\\n';\n          e.message += 'Or, if you meant to create an async function, pass `async: true` as an option.';\n        }\n      }\n      throw e;\n    }\n\n    // Return a callable function which will execute the function\n    // created by the source-code, with the passed data as locals\n    // Adds a local `include` function which allows full recursive include\n    var returnedFn = opts.client ? fn : function anonymous(data) {\n      var include = function (path, includeData) {\n        var d = utils.shallowCopy({}, data);\n        if (includeData) {\n          d = utils.shallowCopy(d, includeData);\n        }\n        return includeFile(path, opts)(d);\n      };\n      return fn.apply(opts.context, [data || {}, escapeFn, include, rethrow]);\n    };\n    if (opts.filename && typeof Object.defineProperty === 'function') {\n      var filename = opts.filename;\n      var basename = path.basename(filename, path.extname(filename));\n      try {\n        Object.defineProperty(returnedFn, 'name', {\n          value: basename,\n          writable: false,\n          enumerable: false,\n          configurable: true\n        });\n      } catch (e) {/* ignore */}\n    }\n    return returnedFn;\n  },\n\n  generateSource: function () {\n    var opts = this.opts;\n\n    if (opts.rmWhitespace) {\n      // Have to use two separate replace here as `^` and `$` operators don't\n      // work well with `\\r` and empty lines don't work well with the `m` flag.\n      this.templateText =\n        this.templateText.replace(/[\\r\\n]+/g, '\\n').replace(/^\\s+|\\s+$/gm, '');\n    }\n\n    // Slurp spaces and tabs before <%_ and after _%>\n    this.templateText =\n      this.templateText.replace(/[ \\t]*<%_/gm, '<%_').replace(/_%>[ \\t]*/gm, '_%>');\n\n    var self = this;\n    var matches = this.parseTemplateText();\n    var d = this.opts.delimiter;\n    var o = this.opts.openDelimiter;\n    var c = this.opts.closeDelimiter;\n\n    if (matches && matches.length) {\n      matches.forEach(function (line, index) {\n        var closing;\n        // If this is an opening tag, check for closing tags\n        // FIXME: May end up with some false positives here\n        // Better to store modes as k/v with openDelimiter + delimiter as key\n        // Then this can simply check against the map\n        if ( line.indexOf(o + d) === 0        // If it is a tag\n          && line.indexOf(o + d + d) !== 0) { // and is not escaped\n          closing = matches[index + 2];\n          if (!(closing == d + c || closing == '-' + d + c || closing == '_' + d + c)) {\n            throw new Error('Could not find matching close tag for \"' + line + '\".');\n          }\n        }\n        self.scanLine(line);\n      });\n    }\n\n  },\n\n  parseTemplateText: function () {\n    var str = this.templateText;\n    var pat = this.regex;\n    var result = pat.exec(str);\n    var arr = [];\n    var firstPos;\n\n    while (result) {\n      firstPos = result.index;\n\n      if (firstPos !== 0) {\n        arr.push(str.substring(0, firstPos));\n        str = str.slice(firstPos);\n      }\n\n      arr.push(result[0]);\n      str = str.slice(result[0].length);\n      result = pat.exec(str);\n    }\n\n    if (str) {\n      arr.push(str);\n    }\n\n    return arr;\n  },\n\n  _addOutput: function (line) {\n    if (this.truncate) {\n      // Only replace single leading linebreak in the line after\n      // -%> tag -- this is the single, trailing linebreak\n      // after the tag that the truncation mode replaces\n      // Handle Win / Unix / old Mac linebreaks -- do the \\r\\n\n      // combo first in the regex-or\n      line = line.replace(/^(?:\\r\\n|\\r|\\n)/, '');\n      this.truncate = false;\n    }\n    if (!line) {\n      return line;\n    }\n\n    // Preserve literal slashes\n    line = line.replace(/\\\\/g, '\\\\\\\\');\n\n    // Convert linebreaks\n    line = line.replace(/\\n/g, '\\\\n');\n    line = line.replace(/\\r/g, '\\\\r');\n\n    // Escape double-quotes\n    // - this will be the delimiter during execution\n    line = line.replace(/\"/g, '\\\\\"');\n    this.source += '    ; __append(\"' + line + '\")' + '\\n';\n  },\n\n  scanLine: function (line) {\n    var self = this;\n    var d = this.opts.delimiter;\n    var o = this.opts.openDelimiter;\n    var c = this.opts.closeDelimiter;\n    var newLineCount = 0;\n\n    newLineCount = (line.split('\\n').length - 1);\n\n    switch (line) {\n    case o + d:\n    case o + d + '_':\n      this.mode = Template.modes.EVAL;\n      break;\n    case o + d + '=':\n      this.mode = Template.modes.ESCAPED;\n      break;\n    case o + d + '-':\n      this.mode = Template.modes.RAW;\n      break;\n    case o + d + '#':\n      this.mode = Template.modes.COMMENT;\n      break;\n    case o + d + d:\n      this.mode = Template.modes.LITERAL;\n      this.source += '    ; __append(\"' + line.replace(o + d + d, o + d) + '\")' + '\\n';\n      break;\n    case d + d + c:\n      this.mode = Template.modes.LITERAL;\n      this.source += '    ; __append(\"' + line.replace(d + d + c, d + c) + '\")' + '\\n';\n      break;\n    case d + c:\n    case '-' + d + c:\n    case '_' + d + c:\n      if (this.mode == Template.modes.LITERAL) {\n        this._addOutput(line);\n      }\n\n      this.mode = null;\n      this.truncate = line.indexOf('-') === 0 || line.indexOf('_') === 0;\n      break;\n    default:\n      // In script mode, depends on type of tag\n      if (this.mode) {\n        // If '//' is found without a line break, add a line break.\n        switch (this.mode) {\n        case Template.modes.EVAL:\n        case Template.modes.ESCAPED:\n        case Template.modes.RAW:\n          if (line.lastIndexOf('//') > line.lastIndexOf('\\n')) {\n            line += '\\n';\n          }\n        }\n        switch (this.mode) {\n        // Just executing code\n        case Template.modes.EVAL:\n          this.source += '    ; ' + line + '\\n';\n          break;\n          // Exec, esc, and output\n        case Template.modes.ESCAPED:\n          this.source += '    ; __append(escapeFn(' + stripSemi(line) + '))' + '\\n';\n          break;\n          // Exec and output\n        case Template.modes.RAW:\n          this.source += '    ; __append(' + stripSemi(line) + ')' + '\\n';\n          break;\n        case Template.modes.COMMENT:\n          // Do nothing\n          break;\n          // Literal <%% mode, append as raw output\n        case Template.modes.LITERAL:\n          this._addOutput(line);\n          break;\n        }\n      }\n      // In string mode, just add the output\n      else {\n        this._addOutput(line);\n      }\n    }\n\n    if (self.opts.compileDebug && newLineCount) {\n      this.currentLine += newLineCount;\n      this.source += '    ; __line = ' + this.currentLine + '\\n';\n    }\n  }\n};\n\n/**\n * Escape characters reserved in XML.\n *\n * This is simply an export of {@link module:utils.escapeXML}.\n *\n * If `markup` is `undefined` or `null`, the empty string is returned.\n *\n * @param {String} markup Input string\n * @return {String} Escaped string\n * @public\n * @func\n * */\nexports.escapeXML = utils.escapeXML;\n\n/**\n * Express.js support.\n *\n * This is an alias for {@link module:ejs.renderFile}, in order to support\n * Express.js out-of-the-box.\n *\n * @func\n */\n\nexports.__express = exports.renderFile;\n\n/**\n * Version of EJS.\n *\n * @readonly\n * @type {String}\n * @public\n */\n\nexports.VERSION = _VERSION_STRING;\n\n/**\n * Name for detection of EJS.\n *\n * @readonly\n * @type {String}\n * @public\n */\n\nexports.name = _NAME;\n\n/* istanbul ignore if */\nif (typeof window != 'undefined') {\n  window.ejs = exports;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZWpzL2xpYi9lanMuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2Vuc2VuLXdhcHAvLi9ub2RlX21vZHVsZXMvZWpzL2xpYi9lanMuanM/ZDQ5MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogRUpTIEVtYmVkZGVkIEphdmFTY3JpcHQgdGVtcGxhdGVzXG4gKiBDb3B5cmlnaHQgMjExMiBNYXR0aGV3IEVlcm5pc3NlIChtZGVAZmxlZWdpeC5vcmcpXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQGZpbGUgRW1iZWRkZWQgSmF2YVNjcmlwdCB0ZW1wbGF0aW5nIGVuZ2luZS4ge0BsaW5rIGh0dHA6Ly9lanMuY299XG4gKiBAYXV0aG9yIE1hdHRoZXcgRWVybmlzc2UgPG1kZUBmbGVlZ2l4Lm9yZz5cbiAqIEBhdXRob3IgVGlhbmNoZW5nIFwiVGltb3RoeVwiIEd1IDx0aW1vdGh5Z3U5OUBnbWFpbC5jb20+XG4gKiBAcHJvamVjdCBFSlNcbiAqIEBsaWNlbnNlIHtAbGluayBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wfVxuICovXG5cbi8qKlxuICogRUpTIGludGVybmFsIGZ1bmN0aW9ucy5cbiAqXG4gKiBUZWNobmljYWxseSB0aGlzIFwibW9kdWxlXCIgbGllcyBpbiB0aGUgc2FtZSBmaWxlIGFzIHtAbGluayBtb2R1bGU6ZWpzfSwgZm9yXG4gKiB0aGUgc2FrZSBvZiBvcmdhbml6YXRpb24gYWxsIHRoZSBwcml2YXRlIGZ1bmN0aW9ucyByZSBncm91cGVkIGludG8gdGhpc1xuICogbW9kdWxlLlxuICpcbiAqIEBtb2R1bGUgZWpzLWludGVybmFsXG4gKiBAcHJpdmF0ZVxuICovXG5cbi8qKlxuICogRW1iZWRkZWQgSmF2YVNjcmlwdCB0ZW1wbGF0aW5nIGVuZ2luZS5cbiAqXG4gKiBAbW9kdWxlIGVqc1xuICogQHB1YmxpY1xuICovXG5cbnZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG52YXIgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIHNjb3BlT3B0aW9uV2FybmVkID0gZmFsc2U7XG4vKiogQHR5cGUge3N0cmluZ30gKi9cbnZhciBfVkVSU0lPTl9TVFJJTkcgPSByZXF1aXJlKCcuLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xudmFyIF9ERUZBVUxUX09QRU5fREVMSU1JVEVSID0gJzwnO1xudmFyIF9ERUZBVUxUX0NMT1NFX0RFTElNSVRFUiA9ICc+JztcbnZhciBfREVGQVVMVF9ERUxJTUlURVIgPSAnJSc7XG52YXIgX0RFRkFVTFRfTE9DQUxTX05BTUUgPSAnbG9jYWxzJztcbnZhciBfTkFNRSA9ICdlanMnO1xudmFyIF9SRUdFWF9TVFJJTkcgPSAnKDwlJXwlJT58PCU9fDwlLXw8JV98PCUjfDwlfCU+fC0lPnxfJT4pJztcbnZhciBfT1BUU19QQVNTQUJMRV9XSVRIX0RBVEEgPSBbJ2RlbGltaXRlcicsICdzY29wZScsICdjb250ZXh0JywgJ2RlYnVnJywgJ2NvbXBpbGVEZWJ1ZycsXG4gICdjbGllbnQnLCAnX3dpdGgnLCAncm1XaGl0ZXNwYWNlJywgJ3N0cmljdCcsICdmaWxlbmFtZScsICdhc3luYyddO1xuLy8gV2UgZG9uJ3QgYWxsb3cgJ2NhY2hlJyBvcHRpb24gdG8gYmUgcGFzc2VkIGluIHRoZSBkYXRhIG9iaiBmb3Jcbi8vIHRoZSBub3JtYWwgYHJlbmRlcmAgY2FsbCwgYnV0IHRoaXMgaXMgd2hlcmUgRXhwcmVzcyAyICYgMyBwdXQgaXRcbi8vIHNvIHdlIG1ha2UgYW4gZXhjZXB0aW9uIGZvciBgcmVuZGVyRmlsZWBcbnZhciBfT1BUU19QQVNTQUJMRV9XSVRIX0RBVEFfRVhQUkVTUyA9IF9PUFRTX1BBU1NBQkxFX1dJVEhfREFUQS5jb25jYXQoJ2NhY2hlJyk7XG52YXIgX0JPTSA9IC9eXFx1RkVGRi87XG5cbi8qKlxuICogRUpTIHRlbXBsYXRlIGZ1bmN0aW9uIGNhY2hlLiBUaGlzIGNhbiBiZSBhIExSVSBvYmplY3QgZnJvbSBscnUtY2FjaGUgTlBNXG4gKiBtb2R1bGUuIEJ5IGRlZmF1bHQsIGl0IGlzIHtAbGluayBtb2R1bGU6dXRpbHMuY2FjaGV9LCBhIHNpbXBsZSBpbi1wcm9jZXNzXG4gKiBjYWNoZSB0aGF0IGdyb3dzIGNvbnRpbnVvdXNseS5cbiAqXG4gKiBAdHlwZSB7Q2FjaGV9XG4gKi9cblxuZXhwb3J0cy5jYWNoZSA9IHV0aWxzLmNhY2hlO1xuXG4vKipcbiAqIEN1c3RvbSBmaWxlIGxvYWRlci4gVXNlZnVsIGZvciB0ZW1wbGF0ZSBwcmVwcm9jZXNzaW5nIG9yIHJlc3RyaWN0aW5nIGFjY2Vzc1xuICogdG8gYSBjZXJ0YWluIHBhcnQgb2YgdGhlIGZpbGVzeXN0ZW0uXG4gKlxuICogQHR5cGUge2ZpbGVMb2FkZXJ9XG4gKi9cblxuZXhwb3J0cy5maWxlTG9hZGVyID0gZnMucmVhZEZpbGVTeW5jO1xuXG4vKipcbiAqIE5hbWUgb2YgdGhlIG9iamVjdCBjb250YWluaW5nIHRoZSBsb2NhbHMuXG4gKlxuICogVGhpcyB2YXJpYWJsZSBpcyBvdmVycmlkZGVuIGJ5IHtAbGluayBPcHRpb25zfWAubG9jYWxzTmFtZWAgaWYgaXQgaXMgbm90XG4gKiBgdW5kZWZpbmVkYC5cbiAqXG4gKiBAdHlwZSB7U3RyaW5nfVxuICogQHB1YmxpY1xuICovXG5cbmV4cG9ydHMubG9jYWxzTmFtZSA9IF9ERUZBVUxUX0xPQ0FMU19OQU1FO1xuXG4vKipcbiAqIFByb21pc2UgaW1wbGVtZW50YXRpb24gLS0gZGVmYXVsdHMgdG8gdGhlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBpZiBhdmFpbGFibGVcbiAqIFRoaXMgaXMgbW9zdGx5IGp1c3QgZm9yIHRlc3RhYmlsaXR5XG4gKlxuICogQHR5cGUge1Byb21pc2VDb25zdHJ1Y3Rvckxpa2V9XG4gKiBAcHVibGljXG4gKi9cblxuZXhwb3J0cy5wcm9taXNlSW1wbCA9IChuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzOycpKSgpLlByb21pc2U7XG5cbi8qKlxuICogR2V0IHRoZSBwYXRoIHRvIHRoZSBpbmNsdWRlZCBmaWxlIGZyb20gdGhlIHBhcmVudCBmaWxlIHBhdGggYW5kIHRoZVxuICogc3BlY2lmaWVkIHBhdGguXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9ICBuYW1lICAgICBzcGVjaWZpZWQgcGF0aFxuICogQHBhcmFtIHtTdHJpbmd9ICBmaWxlbmFtZSBwYXJlbnQgZmlsZSBwYXRoXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtpc0Rpcj1mYWxzZV0gd2hldGhlciB0aGUgcGFyZW50IGZpbGUgcGF0aCBpcyBhIGRpcmVjdG9yeVxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnRzLnJlc29sdmVJbmNsdWRlID0gZnVuY3Rpb24obmFtZSwgZmlsZW5hbWUsIGlzRGlyKSB7XG4gIHZhciBkaXJuYW1lID0gcGF0aC5kaXJuYW1lO1xuICB2YXIgZXh0bmFtZSA9IHBhdGguZXh0bmFtZTtcbiAgdmFyIHJlc29sdmUgPSBwYXRoLnJlc29sdmU7XG4gIHZhciBpbmNsdWRlUGF0aCA9IHJlc29sdmUoaXNEaXIgPyBmaWxlbmFtZSA6IGRpcm5hbWUoZmlsZW5hbWUpLCBuYW1lKTtcbiAgdmFyIGV4dCA9IGV4dG5hbWUobmFtZSk7XG4gIGlmICghZXh0KSB7XG4gICAgaW5jbHVkZVBhdGggKz0gJy5lanMnO1xuICB9XG4gIHJldHVybiBpbmNsdWRlUGF0aDtcbn07XG5cbi8qKlxuICogVHJ5IHRvIHJlc29sdmUgZmlsZSBwYXRoIG9uIG11bHRpcGxlIGRpcmVjdG9yaWVzXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSAgICAgICAgbmFtZSAgc3BlY2lmaWVkIHBhdGhcbiAqIEBwYXJhbSAge0FycmF5PFN0cmluZz59IHBhdGhzIGxpc3Qgb2YgcG9zc2libGUgcGFyZW50IGRpcmVjdG9yeSBwYXRoc1xuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiByZXNvbHZlUGF0aHMobmFtZSwgcGF0aHMpIHtcbiAgdmFyIGZpbGVQYXRoO1xuICBpZiAocGF0aHMuc29tZShmdW5jdGlvbiAodikge1xuICAgIGZpbGVQYXRoID0gZXhwb3J0cy5yZXNvbHZlSW5jbHVkZShuYW1lLCB2LCB0cnVlKTtcbiAgICByZXR1cm4gZnMuZXhpc3RzU3luYyhmaWxlUGF0aCk7XG4gIH0pKSB7XG4gICAgcmV0dXJuIGZpbGVQYXRoO1xuICB9XG59XG5cbi8qKlxuICogR2V0IHRoZSBwYXRoIHRvIHRoZSBpbmNsdWRlZCBmaWxlIGJ5IE9wdGlvbnNcbiAqXG4gKiBAcGFyYW0gIHtTdHJpbmd9ICBwYXRoICAgIHNwZWNpZmllZCBwYXRoXG4gKiBAcGFyYW0gIHtPcHRpb25zfSBvcHRpb25zIGNvbXBpbGF0aW9uIG9wdGlvbnNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0SW5jbHVkZVBhdGgocGF0aCwgb3B0aW9ucykge1xuICB2YXIgaW5jbHVkZVBhdGg7XG4gIHZhciBmaWxlUGF0aDtcbiAgdmFyIHZpZXdzID0gb3B0aW9ucy52aWV3cztcbiAgdmFyIG1hdGNoID0gL15bQS1aYS16XSs6XFxcXHxeXFwvLy5leGVjKHBhdGgpO1xuXG4gIC8vIEFicyBwYXRoXG4gIGlmIChtYXRjaCAmJiBtYXRjaC5sZW5ndGgpIHtcbiAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9eXFwvKi8sICcnKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLnJvb3QpKSB7XG4gICAgICBpbmNsdWRlUGF0aCA9IHJlc29sdmVQYXRocyhwYXRoLCBvcHRpb25zLnJvb3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbmNsdWRlUGF0aCA9IGV4cG9ydHMucmVzb2x2ZUluY2x1ZGUocGF0aCwgb3B0aW9ucy5yb290IHx8ICcvJywgdHJ1ZSk7XG4gICAgfVxuICB9XG4gIC8vIFJlbGF0aXZlIHBhdGhzXG4gIGVsc2Uge1xuICAgIC8vIExvb2sgcmVsYXRpdmUgdG8gYSBwYXNzZWQgZmlsZW5hbWUgZmlyc3RcbiAgICBpZiAob3B0aW9ucy5maWxlbmFtZSkge1xuICAgICAgZmlsZVBhdGggPSBleHBvcnRzLnJlc29sdmVJbmNsdWRlKHBhdGgsIG9wdGlvbnMuZmlsZW5hbWUpO1xuICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoZmlsZVBhdGgpKSB7XG4gICAgICAgIGluY2x1ZGVQYXRoID0gZmlsZVBhdGg7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFRoZW4gbG9vayBpbiBhbnkgdmlld3MgZGlyZWN0b3JpZXNcbiAgICBpZiAoIWluY2x1ZGVQYXRoICYmIEFycmF5LmlzQXJyYXkodmlld3MpKSB7XG4gICAgICBpbmNsdWRlUGF0aCA9IHJlc29sdmVQYXRocyhwYXRoLCB2aWV3cyk7XG4gICAgfVxuICAgIGlmICghaW5jbHVkZVBhdGggJiYgdHlwZW9mIG9wdGlvbnMuaW5jbHVkZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGZpbmQgdGhlIGluY2x1ZGUgZmlsZSBcIicgK1xuICAgICAgICAgIG9wdGlvbnMuZXNjYXBlRnVuY3Rpb24ocGF0aCkgKyAnXCInKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGluY2x1ZGVQYXRoO1xufVxuXG4vKipcbiAqIEdldCB0aGUgdGVtcGxhdGUgZnJvbSBhIHN0cmluZyBvciBhIGZpbGUsIGVpdGhlciBjb21waWxlZCBvbi10aGUtZmx5IG9yXG4gKiByZWFkIGZyb20gY2FjaGUgKGlmIGVuYWJsZWQpLCBhbmQgY2FjaGUgdGhlIHRlbXBsYXRlIGlmIG5lZWRlZC5cbiAqXG4gKiBJZiBgdGVtcGxhdGVgIGlzIG5vdCBzZXQsIHRoZSBmaWxlIHNwZWNpZmllZCBpbiBgb3B0aW9ucy5maWxlbmFtZWAgd2lsbCBiZVxuICogcmVhZC5cbiAqXG4gKiBJZiBgb3B0aW9ucy5jYWNoZWAgaXMgdHJ1ZSwgdGhpcyBmdW5jdGlvbiByZWFkcyB0aGUgZmlsZSBmcm9tXG4gKiBgb3B0aW9ucy5maWxlbmFtZWAgc28gaXQgbXVzdCBiZSBzZXQgcHJpb3IgdG8gY2FsbGluZyB0aGlzIGZ1bmN0aW9uLlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6ZWpzLWludGVybmFsXG4gKiBAcGFyYW0ge09wdGlvbnN9IG9wdGlvbnMgICBjb21waWxhdGlvbiBvcHRpb25zXG4gKiBAcGFyYW0ge1N0cmluZ30gW3RlbXBsYXRlXSB0ZW1wbGF0ZSBzb3VyY2VcbiAqIEByZXR1cm4geyhUZW1wbGF0ZUZ1bmN0aW9ufENsaWVudEZ1bmN0aW9uKX1cbiAqIERlcGVuZGluZyBvbiB0aGUgdmFsdWUgb2YgYG9wdGlvbnMuY2xpZW50YCwgZWl0aGVyIHR5cGUgbWlnaHQgYmUgcmV0dXJuZWQuXG4gKiBAc3RhdGljXG4gKi9cblxuZnVuY3Rpb24gaGFuZGxlQ2FjaGUob3B0aW9ucywgdGVtcGxhdGUpIHtcbiAgdmFyIGZ1bmM7XG4gIHZhciBmaWxlbmFtZSA9IG9wdGlvbnMuZmlsZW5hbWU7XG4gIHZhciBoYXNUZW1wbGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxO1xuXG4gIGlmIChvcHRpb25zLmNhY2hlKSB7XG4gICAgaWYgKCFmaWxlbmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYWNoZSBvcHRpb24gcmVxdWlyZXMgYSBmaWxlbmFtZScpO1xuICAgIH1cbiAgICBmdW5jID0gZXhwb3J0cy5jYWNoZS5nZXQoZmlsZW5hbWUpO1xuICAgIGlmIChmdW5jKSB7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9XG4gICAgaWYgKCFoYXNUZW1wbGF0ZSkge1xuICAgICAgdGVtcGxhdGUgPSBmaWxlTG9hZGVyKGZpbGVuYW1lKS50b1N0cmluZygpLnJlcGxhY2UoX0JPTSwgJycpO1xuICAgIH1cbiAgfVxuICBlbHNlIGlmICghaGFzVGVtcGxhdGUpIHtcbiAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWY6IHNob3VsZCBub3QgaGFwcGVuIGF0IGFsbFxuICAgIGlmICghZmlsZW5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW50ZXJuYWwgRUpTIGVycm9yOiBubyBmaWxlIG5hbWUgb3IgdGVtcGxhdGUgJ1xuICAgICAgICAgICAgICAgICAgICArICdwcm92aWRlZCcpO1xuICAgIH1cbiAgICB0ZW1wbGF0ZSA9IGZpbGVMb2FkZXIoZmlsZW5hbWUpLnRvU3RyaW5nKCkucmVwbGFjZShfQk9NLCAnJyk7XG4gIH1cbiAgZnVuYyA9IGV4cG9ydHMuY29tcGlsZSh0ZW1wbGF0ZSwgb3B0aW9ucyk7XG4gIGlmIChvcHRpb25zLmNhY2hlKSB7XG4gICAgZXhwb3J0cy5jYWNoZS5zZXQoZmlsZW5hbWUsIGZ1bmMpO1xuICB9XG4gIHJldHVybiBmdW5jO1xufVxuXG4vKipcbiAqIFRyeSBjYWxsaW5nIGhhbmRsZUNhY2hlIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMgYW5kIGRhdGEgYW5kIGNhbGwgdGhlXG4gKiBjYWxsYmFjayB3aXRoIHRoZSByZXN1bHQuIElmIGFuIGVycm9yIG9jY3VycywgY2FsbCB0aGUgY2FsbGJhY2sgd2l0aFxuICogdGhlIGVycm9yLiBVc2VkIGJ5IHJlbmRlckZpbGUoKS5cbiAqXG4gKiBAbWVtYmVyb2YgbW9kdWxlOmVqcy1pbnRlcm5hbFxuICogQHBhcmFtIHtPcHRpb25zfSBvcHRpb25zICAgIGNvbXBpbGF0aW9uIG9wdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhICAgICAgICB0ZW1wbGF0ZSBkYXRhXG4gKiBAcGFyYW0ge1JlbmRlckZpbGVDYWxsYmFja30gY2IgY2FsbGJhY2tcbiAqIEBzdGF0aWNcbiAqL1xuXG5mdW5jdGlvbiB0cnlIYW5kbGVDYWNoZShvcHRpb25zLCBkYXRhLCBjYikge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoIWNiKSB7XG4gICAgaWYgKHR5cGVvZiBleHBvcnRzLnByb21pc2VJbXBsID09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBuZXcgZXhwb3J0cy5wcm9taXNlSW1wbChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVzdWx0ID0gaGFuZGxlQ2FjaGUob3B0aW9ucykoZGF0YSk7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgcHJvdmlkZSBhIGNhbGxiYWNrIGZ1bmN0aW9uJyk7XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBoYW5kbGVDYWNoZShvcHRpb25zKShkYXRhKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgfVxuXG4gICAgY2IobnVsbCwgcmVzdWx0KTtcbiAgfVxufVxuXG4vKipcbiAqIGZpbGVMb2FkZXIgaXMgaW5kZXBlbmRlbnRcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZmlsZVBhdGggZWpzIGZpbGUgcGF0aC5cbiAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGNvbnRlbnRzIG9mIHRoZSBzcGVjaWZpZWQgZmlsZS5cbiAqIEBzdGF0aWNcbiAqL1xuXG5mdW5jdGlvbiBmaWxlTG9hZGVyKGZpbGVQYXRoKXtcbiAgcmV0dXJuIGV4cG9ydHMuZmlsZUxvYWRlcihmaWxlUGF0aCk7XG59XG5cbi8qKlxuICogR2V0IHRoZSB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAqXG4gKiBJZiBgb3B0aW9ucy5jYWNoZWAgaXMgYHRydWVgLCB0aGVuIHRoZSB0ZW1wbGF0ZSBpcyBjYWNoZWQuXG4gKlxuICogQG1lbWJlcm9mIG1vZHVsZTplanMtaW50ZXJuYWxcbiAqIEBwYXJhbSB7U3RyaW5nfSAgcGF0aCAgICBwYXRoIGZvciB0aGUgc3BlY2lmaWVkIGZpbGVcbiAqIEBwYXJhbSB7T3B0aW9uc30gb3B0aW9ucyBjb21waWxhdGlvbiBvcHRpb25zXG4gKiBAcmV0dXJuIHsoVGVtcGxhdGVGdW5jdGlvbnxDbGllbnRGdW5jdGlvbil9XG4gKiBEZXBlbmRpbmcgb24gdGhlIHZhbHVlIG9mIGBvcHRpb25zLmNsaWVudGAsIGVpdGhlciB0eXBlIG1pZ2h0IGJlIHJldHVybmVkXG4gKiBAc3RhdGljXG4gKi9cblxuZnVuY3Rpb24gaW5jbHVkZUZpbGUocGF0aCwgb3B0aW9ucykge1xuICB2YXIgb3B0cyA9IHV0aWxzLnNoYWxsb3dDb3B5KHt9LCBvcHRpb25zKTtcbiAgb3B0cy5maWxlbmFtZSA9IGdldEluY2x1ZGVQYXRoKHBhdGgsIG9wdHMpO1xuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5jbHVkZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgaW5jbHVkZXJSZXN1bHQgPSBvcHRpb25zLmluY2x1ZGVyKHBhdGgsIG9wdHMuZmlsZW5hbWUpO1xuICAgIGlmIChpbmNsdWRlclJlc3VsdCkge1xuICAgICAgaWYgKGluY2x1ZGVyUmVzdWx0LmZpbGVuYW1lKSB7XG4gICAgICAgIG9wdHMuZmlsZW5hbWUgPSBpbmNsdWRlclJlc3VsdC5maWxlbmFtZTtcbiAgICAgIH1cbiAgICAgIGlmIChpbmNsdWRlclJlc3VsdC50ZW1wbGF0ZSkge1xuICAgICAgICByZXR1cm4gaGFuZGxlQ2FjaGUob3B0cywgaW5jbHVkZXJSZXN1bHQudGVtcGxhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gaGFuZGxlQ2FjaGUob3B0cyk7XG59XG5cbi8qKlxuICogUmUtdGhyb3cgdGhlIGdpdmVuIGBlcnJgIGluIGNvbnRleHQgdG8gdGhlIGBzdHJgIG9mIGVqcywgYGZpbGVuYW1lYCwgYW5kXG4gKiBgbGluZW5vYC5cbiAqXG4gKiBAaW1wbGVtZW50cyB7UmV0aHJvd0NhbGxiYWNrfVxuICogQG1lbWJlcm9mIG1vZHVsZTplanMtaW50ZXJuYWxcbiAqIEBwYXJhbSB7RXJyb3J9ICBlcnIgICAgICBFcnJvciBvYmplY3RcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgICAgICBFSlMgc291cmNlXG4gKiBAcGFyYW0ge1N0cmluZ30gZmxubSAgICAgZmlsZSBuYW1lIG9mIHRoZSBFSlMgZmlsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVubyAgIGxpbmUgbnVtYmVyIG9mIHRoZSBlcnJvclxuICogQHBhcmFtIHtFc2NhcGVDYWxsYmFja30gZXNjXG4gKiBAc3RhdGljXG4gKi9cblxuZnVuY3Rpb24gcmV0aHJvdyhlcnIsIHN0ciwgZmxubSwgbGluZW5vLCBlc2MpIHtcbiAgdmFyIGxpbmVzID0gc3RyLnNwbGl0KCdcXG4nKTtcbiAgdmFyIHN0YXJ0ID0gTWF0aC5tYXgobGluZW5vIC0gMywgMCk7XG4gIHZhciBlbmQgPSBNYXRoLm1pbihsaW5lcy5sZW5ndGgsIGxpbmVubyArIDMpO1xuICB2YXIgZmlsZW5hbWUgPSBlc2MoZmxubSk7XG4gIC8vIEVycm9yIGNvbnRleHRcbiAgdmFyIGNvbnRleHQgPSBsaW5lcy5zbGljZShzdGFydCwgZW5kKS5tYXAoZnVuY3Rpb24gKGxpbmUsIGkpe1xuICAgIHZhciBjdXJyID0gaSArIHN0YXJ0ICsgMTtcbiAgICByZXR1cm4gKGN1cnIgPT0gbGluZW5vID8gJyA+PiAnIDogJyAgICAnKVxuICAgICAgKyBjdXJyXG4gICAgICArICd8ICdcbiAgICAgICsgbGluZTtcbiAgfSkuam9pbignXFxuJyk7XG5cbiAgLy8gQWx0ZXIgZXhjZXB0aW9uIG1lc3NhZ2VcbiAgZXJyLnBhdGggPSBmaWxlbmFtZTtcbiAgZXJyLm1lc3NhZ2UgPSAoZmlsZW5hbWUgfHwgJ2VqcycpICsgJzonXG4gICAgKyBsaW5lbm8gKyAnXFxuJ1xuICAgICsgY29udGV4dCArICdcXG5cXG4nXG4gICAgKyBlcnIubWVzc2FnZTtcblxuICB0aHJvdyBlcnI7XG59XG5cbmZ1bmN0aW9uIHN0cmlwU2VtaShzdHIpe1xuICByZXR1cm4gc3RyLnJlcGxhY2UoLzsoXFxzKiQpLywgJyQxJyk7XG59XG5cbi8qKlxuICogQ29tcGlsZSB0aGUgZ2l2ZW4gYHN0cmAgb2YgZWpzIGludG8gYSB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gIHRlbXBsYXRlIEVKUyB0ZW1wbGF0ZVxuICpcbiAqIEBwYXJhbSB7T3B0aW9uc30gW29wdHNdIGNvbXBpbGF0aW9uIG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJuIHsoVGVtcGxhdGVGdW5jdGlvbnxDbGllbnRGdW5jdGlvbil9XG4gKiBEZXBlbmRpbmcgb24gdGhlIHZhbHVlIG9mIGBvcHRzLmNsaWVudGAsIGVpdGhlciB0eXBlIG1pZ2h0IGJlIHJldHVybmVkLlxuICogTm90ZSB0aGF0IHRoZSByZXR1cm4gdHlwZSBvZiB0aGUgZnVuY3Rpb24gYWxzbyBkZXBlbmRzIG9uIHRoZSB2YWx1ZSBvZiBgb3B0cy5hc3luY2AuXG4gKiBAcHVibGljXG4gKi9cblxuZXhwb3J0cy5jb21waWxlID0gZnVuY3Rpb24gY29tcGlsZSh0ZW1wbGF0ZSwgb3B0cykge1xuICB2YXIgdGVtcGw7XG5cbiAgLy8gdjEgY29tcGF0XG4gIC8vICdzY29wZScgaXMgJ2NvbnRleHQnXG4gIC8vIEZJWE1FOiBSZW1vdmUgdGhpcyBpbiBhIGZ1dHVyZSB2ZXJzaW9uXG4gIGlmIChvcHRzICYmIG9wdHMuc2NvcGUpIHtcbiAgICBpZiAoIXNjb3BlT3B0aW9uV2FybmVkKXtcbiAgICAgIGNvbnNvbGUud2FybignYHNjb3BlYCBvcHRpb24gaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIEVKUyAzJyk7XG4gICAgICBzY29wZU9wdGlvbldhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIGlmICghb3B0cy5jb250ZXh0KSB7XG4gICAgICBvcHRzLmNvbnRleHQgPSBvcHRzLnNjb3BlO1xuICAgIH1cbiAgICBkZWxldGUgb3B0cy5zY29wZTtcbiAgfVxuICB0ZW1wbCA9IG5ldyBUZW1wbGF0ZSh0ZW1wbGF0ZSwgb3B0cyk7XG4gIHJldHVybiB0ZW1wbC5jb21waWxlKCk7XG59O1xuXG4vKipcbiAqIFJlbmRlciB0aGUgZ2l2ZW4gYHRlbXBsYXRlYCBvZiBlanMuXG4gKlxuICogSWYgeW91IHdvdWxkIGxpa2UgdG8gaW5jbHVkZSBvcHRpb25zIGJ1dCBub3QgZGF0YSwgeW91IG5lZWQgdG8gZXhwbGljaXRseVxuICogY2FsbCB0aGlzIGZ1bmN0aW9uIHdpdGggYGRhdGFgIGJlaW5nIGFuIGVtcHR5IG9iamVjdCBvciBgbnVsbGAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9ICAgdGVtcGxhdGUgRUpTIHRlbXBsYXRlXG4gKiBAcGFyYW0ge09iamVjdH0gIFtkYXRhPXt9XSB0ZW1wbGF0ZSBkYXRhXG4gKiBAcGFyYW0ge09wdGlvbnN9IFtvcHRzPXt9XSBjb21waWxhdGlvbiBhbmQgcmVuZGVyaW5nIG9wdGlvbnNcbiAqIEByZXR1cm4geyhTdHJpbmd8UHJvbWlzZTxTdHJpbmc+KX1cbiAqIFJldHVybiB2YWx1ZSB0eXBlIGRlcGVuZHMgb24gYG9wdHMuYXN5bmNgLlxuICogQHB1YmxpY1xuICovXG5cbmV4cG9ydHMucmVuZGVyID0gZnVuY3Rpb24gKHRlbXBsYXRlLCBkLCBvKSB7XG4gIHZhciBkYXRhID0gZCB8fCB7fTtcbiAgdmFyIG9wdHMgPSBvIHx8IHt9O1xuXG4gIC8vIE5vIG9wdGlvbnMgb2JqZWN0IC0tIGlmIHRoZXJlIGFyZSBvcHRpb255IG5hbWVzXG4gIC8vIGluIHRoZSBkYXRhLCBjb3B5IHRoZW0gdG8gb3B0aW9uc1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7XG4gICAgdXRpbHMuc2hhbGxvd0NvcHlGcm9tTGlzdChvcHRzLCBkYXRhLCBfT1BUU19QQVNTQUJMRV9XSVRIX0RBVEEpO1xuICB9XG5cbiAgcmV0dXJuIGhhbmRsZUNhY2hlKG9wdHMsIHRlbXBsYXRlKShkYXRhKTtcbn07XG5cbi8qKlxuICogUmVuZGVyIGFuIEVKUyBmaWxlIGF0IHRoZSBnaXZlbiBgcGF0aGAgYW5kIGNhbGxiYWNrIGBjYihlcnIsIHN0cilgLlxuICpcbiAqIElmIHlvdSB3b3VsZCBsaWtlIHRvIGluY2x1ZGUgb3B0aW9ucyBidXQgbm90IGRhdGEsIHlvdSBuZWVkIHRvIGV4cGxpY2l0bHlcbiAqIGNhbGwgdGhpcyBmdW5jdGlvbiB3aXRoIGBkYXRhYCBiZWluZyBhbiBlbXB0eSBvYmplY3Qgb3IgYG51bGxgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSAgICAgICAgICAgICBwYXRoICAgICBwYXRoIHRvIHRoZSBFSlMgZmlsZVxuICogQHBhcmFtIHtPYmplY3R9ICAgICAgICAgICAgW2RhdGE9e31dIHRlbXBsYXRlIGRhdGFcbiAqIEBwYXJhbSB7T3B0aW9uc30gICAgICAgICAgIFtvcHRzPXt9XSBjb21waWxhdGlvbiBhbmQgcmVuZGVyaW5nIG9wdGlvbnNcbiAqIEBwYXJhbSB7UmVuZGVyRmlsZUNhbGxiYWNrfSBjYiBjYWxsYmFja1xuICogQHB1YmxpY1xuICovXG5cbmV4cG9ydHMucmVuZGVyRmlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICB2YXIgZmlsZW5hbWUgPSBhcmdzLnNoaWZ0KCk7XG4gIHZhciBjYjtcbiAgdmFyIG9wdHMgPSB7ZmlsZW5hbWU6IGZpbGVuYW1lfTtcbiAgdmFyIGRhdGE7XG4gIHZhciB2aWV3T3B0cztcblxuICAvLyBEbyB3ZSBoYXZlIGEgY2FsbGJhY2s/XG4gIGlmICh0eXBlb2YgYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBhcmdzLnBvcCgpO1xuICB9XG4gIC8vIERvIHdlIGhhdmUgZGF0YS9vcHRzP1xuICBpZiAoYXJncy5sZW5ndGgpIHtcbiAgICAvLyBTaG91bGQgYWx3YXlzIGhhdmUgZGF0YSBvYmpcbiAgICBkYXRhID0gYXJncy5zaGlmdCgpO1xuICAgIC8vIE5vcm1hbCBwYXNzZWQgb3B0cyAoZGF0YSBvYmogKyBvcHRzIG9iailcbiAgICBpZiAoYXJncy5sZW5ndGgpIHtcbiAgICAgIC8vIFVzZSBzaGFsbG93Q29weSBzbyB3ZSBkb24ndCBwb2xsdXRlIHBhc3NlZCBpbiBvcHRzIG9iaiB3aXRoIG5ldyB2YWxzXG4gICAgICB1dGlscy5zaGFsbG93Q29weShvcHRzLCBhcmdzLnBvcCgpKTtcbiAgICB9XG4gICAgLy8gU3BlY2lhbCBjYXNpbmcgZm9yIEV4cHJlc3MgKHNldHRpbmdzICsgb3B0cy1pbi1kYXRhKVxuICAgIGVsc2Uge1xuICAgICAgLy8gRXhwcmVzcyAzIGFuZCA0XG4gICAgICBpZiAoZGF0YS5zZXR0aW5ncykge1xuICAgICAgICAvLyBQdWxsIGEgZmV3IHRoaW5ncyBmcm9tIGtub3duIGxvY2F0aW9uc1xuICAgICAgICBpZiAoZGF0YS5zZXR0aW5ncy52aWV3cykge1xuICAgICAgICAgIG9wdHMudmlld3MgPSBkYXRhLnNldHRpbmdzLnZpZXdzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnNldHRpbmdzWyd2aWV3IGNhY2hlJ10pIHtcbiAgICAgICAgICBvcHRzLmNhY2hlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVbmRvY3VtZW50ZWQgYWZ0ZXIgRXhwcmVzcyAyLCBidXQgc3RpbGwgdXNhYmxlLCBlc3AuIGZvclxuICAgICAgICAvLyBpdGVtcyB0aGF0IGFyZSB1bnNhZmUgdG8gYmUgcGFzc2VkIGFsb25nIHdpdGggZGF0YSwgbGlrZSBgcm9vdGBcbiAgICAgICAgdmlld09wdHMgPSBkYXRhLnNldHRpbmdzWyd2aWV3IG9wdGlvbnMnXTtcbiAgICAgICAgaWYgKHZpZXdPcHRzKSB7XG4gICAgICAgICAgdXRpbHMuc2hhbGxvd0NvcHkob3B0cywgdmlld09wdHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBFeHByZXNzIDIgYW5kIGxvd2VyLCB2YWx1ZXMgc2V0IGluIGFwcC5sb2NhbHMsIG9yIHBlb3BsZSB3aG8ganVzdFxuICAgICAgLy8gd2FudCB0byBwYXNzIG9wdGlvbnMgaW4gdGhlaXIgZGF0YS4gTk9URTogVGhlc2UgdmFsdWVzIHdpbGwgb3ZlcnJpZGVcbiAgICAgIC8vIGFueXRoaW5nIHByZXZpb3VzbHkgc2V0IGluIHNldHRpbmdzICBvciBzZXR0aW5nc1sndmlldyBvcHRpb25zJ11cbiAgICAgIHV0aWxzLnNoYWxsb3dDb3B5RnJvbUxpc3Qob3B0cywgZGF0YSwgX09QVFNfUEFTU0FCTEVfV0lUSF9EQVRBX0VYUFJFU1MpO1xuICAgIH1cbiAgICBvcHRzLmZpbGVuYW1lID0gZmlsZW5hbWU7XG4gIH1cbiAgZWxzZSB7XG4gICAgZGF0YSA9IHt9O1xuICB9XG5cbiAgcmV0dXJuIHRyeUhhbmRsZUNhY2hlKG9wdHMsIGRhdGEsIGNiKTtcbn07XG5cbi8qKlxuICogQ2xlYXIgaW50ZXJtZWRpYXRlIEphdmFTY3JpcHQgY2FjaGUuIENhbGxzIHtAbGluayBDYWNoZSNyZXNldH0uXG4gKiBAcHVibGljXG4gKi9cblxuLyoqXG4gKiBFSlMgdGVtcGxhdGUgY2xhc3NcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0cy5UZW1wbGF0ZSA9IFRlbXBsYXRlO1xuXG5leHBvcnRzLmNsZWFyQ2FjaGUgPSBmdW5jdGlvbiAoKSB7XG4gIGV4cG9ydHMuY2FjaGUucmVzZXQoKTtcbn07XG5cbmZ1bmN0aW9uIFRlbXBsYXRlKHRleHQsIG9wdHMpIHtcbiAgb3B0cyA9IG9wdHMgfHwge307XG4gIHZhciBvcHRpb25zID0ge307XG4gIHRoaXMudGVtcGxhdGVUZXh0ID0gdGV4dDtcbiAgLyoqIEB0eXBlIHtzdHJpbmcgfCBudWxsfSAqL1xuICB0aGlzLm1vZGUgPSBudWxsO1xuICB0aGlzLnRydW5jYXRlID0gZmFsc2U7XG4gIHRoaXMuY3VycmVudExpbmUgPSAxO1xuICB0aGlzLnNvdXJjZSA9ICcnO1xuICBvcHRpb25zLmNsaWVudCA9IG9wdHMuY2xpZW50IHx8IGZhbHNlO1xuICBvcHRpb25zLmVzY2FwZUZ1bmN0aW9uID0gb3B0cy5lc2NhcGUgfHwgb3B0cy5lc2NhcGVGdW5jdGlvbiB8fCB1dGlscy5lc2NhcGVYTUw7XG4gIG9wdGlvbnMuY29tcGlsZURlYnVnID0gb3B0cy5jb21waWxlRGVidWcgIT09IGZhbHNlO1xuICBvcHRpb25zLmRlYnVnID0gISFvcHRzLmRlYnVnO1xuICBvcHRpb25zLmZpbGVuYW1lID0gb3B0cy5maWxlbmFtZTtcbiAgb3B0aW9ucy5vcGVuRGVsaW1pdGVyID0gb3B0cy5vcGVuRGVsaW1pdGVyIHx8IGV4cG9ydHMub3BlbkRlbGltaXRlciB8fCBfREVGQVVMVF9PUEVOX0RFTElNSVRFUjtcbiAgb3B0aW9ucy5jbG9zZURlbGltaXRlciA9IG9wdHMuY2xvc2VEZWxpbWl0ZXIgfHwgZXhwb3J0cy5jbG9zZURlbGltaXRlciB8fCBfREVGQVVMVF9DTE9TRV9ERUxJTUlURVI7XG4gIG9wdGlvbnMuZGVsaW1pdGVyID0gb3B0cy5kZWxpbWl0ZXIgfHwgZXhwb3J0cy5kZWxpbWl0ZXIgfHwgX0RFRkFVTFRfREVMSU1JVEVSO1xuICBvcHRpb25zLnN0cmljdCA9IG9wdHMuc3RyaWN0IHx8IGZhbHNlO1xuICBvcHRpb25zLmNvbnRleHQgPSBvcHRzLmNvbnRleHQ7XG4gIG9wdGlvbnMuY2FjaGUgPSBvcHRzLmNhY2hlIHx8IGZhbHNlO1xuICBvcHRpb25zLnJtV2hpdGVzcGFjZSA9IG9wdHMucm1XaGl0ZXNwYWNlO1xuICBvcHRpb25zLnJvb3QgPSBvcHRzLnJvb3Q7XG4gIG9wdGlvbnMuaW5jbHVkZXIgPSBvcHRzLmluY2x1ZGVyO1xuICBvcHRpb25zLm91dHB1dEZ1bmN0aW9uTmFtZSA9IG9wdHMub3V0cHV0RnVuY3Rpb25OYW1lO1xuICBvcHRpb25zLmxvY2Fsc05hbWUgPSBvcHRzLmxvY2Fsc05hbWUgfHwgZXhwb3J0cy5sb2NhbHNOYW1lIHx8IF9ERUZBVUxUX0xPQ0FMU19OQU1FO1xuICBvcHRpb25zLnZpZXdzID0gb3B0cy52aWV3cztcbiAgb3B0aW9ucy5hc3luYyA9IG9wdHMuYXN5bmM7XG4gIG9wdGlvbnMuZGVzdHJ1Y3R1cmVkTG9jYWxzID0gb3B0cy5kZXN0cnVjdHVyZWRMb2NhbHM7XG4gIG9wdGlvbnMubGVnYWN5SW5jbHVkZSA9IHR5cGVvZiBvcHRzLmxlZ2FjeUluY2x1ZGUgIT0gJ3VuZGVmaW5lZCcgPyAhIW9wdHMubGVnYWN5SW5jbHVkZSA6IHRydWU7XG5cbiAgaWYgKG9wdGlvbnMuc3RyaWN0KSB7XG4gICAgb3B0aW9ucy5fd2l0aCA9IGZhbHNlO1xuICB9XG4gIGVsc2Uge1xuICAgIG9wdGlvbnMuX3dpdGggPSB0eXBlb2Ygb3B0cy5fd2l0aCAhPSAndW5kZWZpbmVkJyA/IG9wdHMuX3dpdGggOiB0cnVlO1xuICB9XG5cbiAgdGhpcy5vcHRzID0gb3B0aW9ucztcblxuICB0aGlzLnJlZ2V4ID0gdGhpcy5jcmVhdGVSZWdleCgpO1xufVxuXG5UZW1wbGF0ZS5tb2RlcyA9IHtcbiAgRVZBTDogJ2V2YWwnLFxuICBFU0NBUEVEOiAnZXNjYXBlZCcsXG4gIFJBVzogJ3JhdycsXG4gIENPTU1FTlQ6ICdjb21tZW50JyxcbiAgTElURVJBTDogJ2xpdGVyYWwnXG59O1xuXG5UZW1wbGF0ZS5wcm90b3R5cGUgPSB7XG4gIGNyZWF0ZVJlZ2V4OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0ciA9IF9SRUdFWF9TVFJJTkc7XG4gICAgdmFyIGRlbGltID0gdXRpbHMuZXNjYXBlUmVnRXhwQ2hhcnModGhpcy5vcHRzLmRlbGltaXRlcik7XG4gICAgdmFyIG9wZW4gPSB1dGlscy5lc2NhcGVSZWdFeHBDaGFycyh0aGlzLm9wdHMub3BlbkRlbGltaXRlcik7XG4gICAgdmFyIGNsb3NlID0gdXRpbHMuZXNjYXBlUmVnRXhwQ2hhcnModGhpcy5vcHRzLmNsb3NlRGVsaW1pdGVyKTtcbiAgICBzdHIgPSBzdHIucmVwbGFjZSgvJS9nLCBkZWxpbSlcbiAgICAgIC5yZXBsYWNlKC88L2csIG9wZW4pXG4gICAgICAucmVwbGFjZSgvPi9nLCBjbG9zZSk7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoc3RyKTtcbiAgfSxcblxuICBjb21waWxlOiBmdW5jdGlvbiAoKSB7XG4gICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgdmFyIHNyYztcbiAgICAvKiogQHR5cGUge0NsaWVudEZ1bmN0aW9ufSAqL1xuICAgIHZhciBmbjtcbiAgICB2YXIgb3B0cyA9IHRoaXMub3B0cztcbiAgICB2YXIgcHJlcGVuZGVkID0gJyc7XG4gICAgdmFyIGFwcGVuZGVkID0gJyc7XG4gICAgLyoqIEB0eXBlIHtFc2NhcGVDYWxsYmFja30gKi9cbiAgICB2YXIgZXNjYXBlRm4gPSBvcHRzLmVzY2FwZUZ1bmN0aW9uO1xuICAgIC8qKiBAdHlwZSB7RnVuY3Rpb25Db25zdHJ1Y3Rvcn0gKi9cbiAgICB2YXIgY3RvcjtcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICB2YXIgc2FuaXRpemVkRmlsZW5hbWUgPSBvcHRzLmZpbGVuYW1lID8gSlNPTi5zdHJpbmdpZnkob3B0cy5maWxlbmFtZSkgOiAndW5kZWZpbmVkJztcblxuICAgIGlmICghdGhpcy5zb3VyY2UpIHtcbiAgICAgIHRoaXMuZ2VuZXJhdGVTb3VyY2UoKTtcbiAgICAgIHByZXBlbmRlZCArPVxuICAgICAgICAnICB2YXIgX19vdXRwdXQgPSBcIlwiO1xcbicgK1xuICAgICAgICAnICBmdW5jdGlvbiBfX2FwcGVuZChzKSB7IGlmIChzICE9PSB1bmRlZmluZWQgJiYgcyAhPT0gbnVsbCkgX19vdXRwdXQgKz0gcyB9XFxuJztcbiAgICAgIGlmIChvcHRzLm91dHB1dEZ1bmN0aW9uTmFtZSkge1xuICAgICAgICBwcmVwZW5kZWQgKz0gJyAgdmFyICcgKyBvcHRzLm91dHB1dEZ1bmN0aW9uTmFtZSArICcgPSBfX2FwcGVuZDsnICsgJ1xcbic7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5kZXN0cnVjdHVyZWRMb2NhbHMgJiYgb3B0cy5kZXN0cnVjdHVyZWRMb2NhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBkZXN0cnVjdHVyaW5nID0gJyAgdmFyIF9fbG9jYWxzID0gKCcgKyBvcHRzLmxvY2Fsc05hbWUgKyAnIHx8IHt9KSxcXG4nO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdHMuZGVzdHJ1Y3R1cmVkTG9jYWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIG5hbWUgPSBvcHRzLmRlc3RydWN0dXJlZExvY2Fsc1tpXTtcbiAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGRlc3RydWN0dXJpbmcgKz0gJyxcXG4gICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlc3RydWN0dXJpbmcgKz0gbmFtZSArICcgPSBfX2xvY2Fscy4nICsgbmFtZTtcbiAgICAgICAgfVxuICAgICAgICBwcmVwZW5kZWQgKz0gZGVzdHJ1Y3R1cmluZyArICc7XFxuJztcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLl93aXRoICE9PSBmYWxzZSkge1xuICAgICAgICBwcmVwZW5kZWQgKz0gICcgIHdpdGggKCcgKyBvcHRzLmxvY2Fsc05hbWUgKyAnIHx8IHt9KSB7JyArICdcXG4nO1xuICAgICAgICBhcHBlbmRlZCArPSAnICB9JyArICdcXG4nO1xuICAgICAgfVxuICAgICAgYXBwZW5kZWQgKz0gJyAgcmV0dXJuIF9fb3V0cHV0OycgKyAnXFxuJztcbiAgICAgIHRoaXMuc291cmNlID0gcHJlcGVuZGVkICsgdGhpcy5zb3VyY2UgKyBhcHBlbmRlZDtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5jb21waWxlRGVidWcpIHtcbiAgICAgIHNyYyA9ICd2YXIgX19saW5lID0gMScgKyAnXFxuJ1xuICAgICAgICArICcgICwgX19saW5lcyA9ICcgKyBKU09OLnN0cmluZ2lmeSh0aGlzLnRlbXBsYXRlVGV4dCkgKyAnXFxuJ1xuICAgICAgICArICcgICwgX19maWxlbmFtZSA9ICcgKyBzYW5pdGl6ZWRGaWxlbmFtZSArICc7JyArICdcXG4nXG4gICAgICAgICsgJ3RyeSB7JyArICdcXG4nXG4gICAgICAgICsgdGhpcy5zb3VyY2VcbiAgICAgICAgKyAnfSBjYXRjaCAoZSkgeycgKyAnXFxuJ1xuICAgICAgICArICcgIHJldGhyb3coZSwgX19saW5lcywgX19maWxlbmFtZSwgX19saW5lLCBlc2NhcGVGbik7JyArICdcXG4nXG4gICAgICAgICsgJ30nICsgJ1xcbic7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc3JjID0gdGhpcy5zb3VyY2U7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuY2xpZW50KSB7XG4gICAgICBzcmMgPSAnZXNjYXBlRm4gPSBlc2NhcGVGbiB8fCAnICsgZXNjYXBlRm4udG9TdHJpbmcoKSArICc7JyArICdcXG4nICsgc3JjO1xuICAgICAgaWYgKG9wdHMuY29tcGlsZURlYnVnKSB7XG4gICAgICAgIHNyYyA9ICdyZXRocm93ID0gcmV0aHJvdyB8fCAnICsgcmV0aHJvdy50b1N0cmluZygpICsgJzsnICsgJ1xcbicgKyBzcmM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuc3RyaWN0KSB7XG4gICAgICBzcmMgPSAnXCJ1c2Ugc3RyaWN0XCI7XFxuJyArIHNyYztcbiAgICB9XG4gICAgaWYgKG9wdHMuZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKHNyYyk7XG4gICAgfVxuICAgIGlmIChvcHRzLmNvbXBpbGVEZWJ1ZyAmJiBvcHRzLmZpbGVuYW1lKSB7XG4gICAgICBzcmMgPSBzcmMgKyAnXFxuJ1xuICAgICAgICArICcvLyMgc291cmNlVVJMPScgKyBzYW5pdGl6ZWRGaWxlbmFtZSArICdcXG4nO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpZiAob3B0cy5hc3luYykge1xuICAgICAgICAvLyBIYXZlIHRvIHVzZSBnZW5lcmF0ZWQgZnVuY3Rpb24gZm9yIHRoaXMsIHNpbmNlIGluIGVudnMgd2l0aG91dCBzdXBwb3J0LFxuICAgICAgICAvLyBpdCBicmVha3MgaW4gcGFyc2luZ1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGN0b3IgPSAobmV3IEZ1bmN0aW9uKCdyZXR1cm4gKGFzeW5jIGZ1bmN0aW9uKCl7fSkuY29uc3RydWN0b3I7JykpKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2goZSkge1xuICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgU3ludGF4RXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBlbnZpcm9ubWVudCBkb2VzIG5vdCBzdXBwb3J0IGFzeW5jL2F3YWl0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjdG9yID0gRnVuY3Rpb247XG4gICAgICB9XG4gICAgICBmbiA9IG5ldyBjdG9yKG9wdHMubG9jYWxzTmFtZSArICcsIGVzY2FwZUZuLCBpbmNsdWRlLCByZXRocm93Jywgc3JjKTtcbiAgICB9XG4gICAgY2F0Y2goZSkge1xuICAgICAgLy8gaXN0YW5idWwgaWdub3JlIGVsc2VcbiAgICAgIGlmIChlIGluc3RhbmNlb2YgU3ludGF4RXJyb3IpIHtcbiAgICAgICAgaWYgKG9wdHMuZmlsZW5hbWUpIHtcbiAgICAgICAgICBlLm1lc3NhZ2UgKz0gJyBpbiAnICsgb3B0cy5maWxlbmFtZTtcbiAgICAgICAgfVxuICAgICAgICBlLm1lc3NhZ2UgKz0gJyB3aGlsZSBjb21waWxpbmcgZWpzXFxuXFxuJztcbiAgICAgICAgZS5tZXNzYWdlICs9ICdJZiB0aGUgYWJvdmUgZXJyb3IgaXMgbm90IGhlbHBmdWwsIHlvdSBtYXkgd2FudCB0byB0cnkgRUpTLUxpbnQ6XFxuJztcbiAgICAgICAgZS5tZXNzYWdlICs9ICdodHRwczovL2dpdGh1Yi5jb20vUnlhblppbS9FSlMtTGludCc7XG4gICAgICAgIGlmICghb3B0cy5hc3luYykge1xuICAgICAgICAgIGUubWVzc2FnZSArPSAnXFxuJztcbiAgICAgICAgICBlLm1lc3NhZ2UgKz0gJ09yLCBpZiB5b3UgbWVhbnQgdG8gY3JlYXRlIGFuIGFzeW5jIGZ1bmN0aW9uLCBwYXNzIGBhc3luYzogdHJ1ZWAgYXMgYW4gb3B0aW9uLic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRocm93IGU7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGEgY2FsbGFibGUgZnVuY3Rpb24gd2hpY2ggd2lsbCBleGVjdXRlIHRoZSBmdW5jdGlvblxuICAgIC8vIGNyZWF0ZWQgYnkgdGhlIHNvdXJjZS1jb2RlLCB3aXRoIHRoZSBwYXNzZWQgZGF0YSBhcyBsb2NhbHNcbiAgICAvLyBBZGRzIGEgbG9jYWwgYGluY2x1ZGVgIGZ1bmN0aW9uIHdoaWNoIGFsbG93cyBmdWxsIHJlY3Vyc2l2ZSBpbmNsdWRlXG4gICAgdmFyIHJldHVybmVkRm4gPSBvcHRzLmNsaWVudCA/IGZuIDogZnVuY3Rpb24gYW5vbnltb3VzKGRhdGEpIHtcbiAgICAgIHZhciBpbmNsdWRlID0gZnVuY3Rpb24gKHBhdGgsIGluY2x1ZGVEYXRhKSB7XG4gICAgICAgIHZhciBkID0gdXRpbHMuc2hhbGxvd0NvcHkoe30sIGRhdGEpO1xuICAgICAgICBpZiAoaW5jbHVkZURhdGEpIHtcbiAgICAgICAgICBkID0gdXRpbHMuc2hhbGxvd0NvcHkoZCwgaW5jbHVkZURhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmNsdWRlRmlsZShwYXRoLCBvcHRzKShkKTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gZm4uYXBwbHkob3B0cy5jb250ZXh0LCBbZGF0YSB8fCB7fSwgZXNjYXBlRm4sIGluY2x1ZGUsIHJldGhyb3ddKTtcbiAgICB9O1xuICAgIGlmIChvcHRzLmZpbGVuYW1lICYmIHR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydHkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhciBmaWxlbmFtZSA9IG9wdHMuZmlsZW5hbWU7XG4gICAgICB2YXIgYmFzZW5hbWUgPSBwYXRoLmJhc2VuYW1lKGZpbGVuYW1lLCBwYXRoLmV4dG5hbWUoZmlsZW5hbWUpKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXR1cm5lZEZuLCAnbmFtZScsIHtcbiAgICAgICAgICB2YWx1ZTogYmFzZW5hbWUsXG4gICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsvKiBpZ25vcmUgKi99XG4gICAgfVxuICAgIHJldHVybiByZXR1cm5lZEZuO1xuICB9LFxuXG4gIGdlbmVyYXRlU291cmNlOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9wdHMgPSB0aGlzLm9wdHM7XG5cbiAgICBpZiAob3B0cy5ybVdoaXRlc3BhY2UpIHtcbiAgICAgIC8vIEhhdmUgdG8gdXNlIHR3byBzZXBhcmF0ZSByZXBsYWNlIGhlcmUgYXMgYF5gIGFuZCBgJGAgb3BlcmF0b3JzIGRvbid0XG4gICAgICAvLyB3b3JrIHdlbGwgd2l0aCBgXFxyYCBhbmQgZW1wdHkgbGluZXMgZG9uJ3Qgd29yayB3ZWxsIHdpdGggdGhlIGBtYCBmbGFnLlxuICAgICAgdGhpcy50ZW1wbGF0ZVRleHQgPVxuICAgICAgICB0aGlzLnRlbXBsYXRlVGV4dC5yZXBsYWNlKC9bXFxyXFxuXSsvZywgJ1xcbicpLnJlcGxhY2UoL15cXHMrfFxccyskL2dtLCAnJyk7XG4gICAgfVxuXG4gICAgLy8gU2x1cnAgc3BhY2VzIGFuZCB0YWJzIGJlZm9yZSA8JV8gYW5kIGFmdGVyIF8lPlxuICAgIHRoaXMudGVtcGxhdGVUZXh0ID1cbiAgICAgIHRoaXMudGVtcGxhdGVUZXh0LnJlcGxhY2UoL1sgXFx0XSo8JV8vZ20sICc8JV8nKS5yZXBsYWNlKC9fJT5bIFxcdF0qL2dtLCAnXyU+Jyk7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIG1hdGNoZXMgPSB0aGlzLnBhcnNlVGVtcGxhdGVUZXh0KCk7XG4gICAgdmFyIGQgPSB0aGlzLm9wdHMuZGVsaW1pdGVyO1xuICAgIHZhciBvID0gdGhpcy5vcHRzLm9wZW5EZWxpbWl0ZXI7XG4gICAgdmFyIGMgPSB0aGlzLm9wdHMuY2xvc2VEZWxpbWl0ZXI7XG5cbiAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCkge1xuICAgICAgbWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uIChsaW5lLCBpbmRleCkge1xuICAgICAgICB2YXIgY2xvc2luZztcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhbiBvcGVuaW5nIHRhZywgY2hlY2sgZm9yIGNsb3NpbmcgdGFnc1xuICAgICAgICAvLyBGSVhNRTogTWF5IGVuZCB1cCB3aXRoIHNvbWUgZmFsc2UgcG9zaXRpdmVzIGhlcmVcbiAgICAgICAgLy8gQmV0dGVyIHRvIHN0b3JlIG1vZGVzIGFzIGsvdiB3aXRoIG9wZW5EZWxpbWl0ZXIgKyBkZWxpbWl0ZXIgYXMga2V5XG4gICAgICAgIC8vIFRoZW4gdGhpcyBjYW4gc2ltcGx5IGNoZWNrIGFnYWluc3QgdGhlIG1hcFxuICAgICAgICBpZiAoIGxpbmUuaW5kZXhPZihvICsgZCkgPT09IDAgICAgICAgIC8vIElmIGl0IGlzIGEgdGFnXG4gICAgICAgICAgJiYgbGluZS5pbmRleE9mKG8gKyBkICsgZCkgIT09IDApIHsgLy8gYW5kIGlzIG5vdCBlc2NhcGVkXG4gICAgICAgICAgY2xvc2luZyA9IG1hdGNoZXNbaW5kZXggKyAyXTtcbiAgICAgICAgICBpZiAoIShjbG9zaW5nID09IGQgKyBjIHx8IGNsb3NpbmcgPT0gJy0nICsgZCArIGMgfHwgY2xvc2luZyA9PSAnXycgKyBkICsgYykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGZpbmQgbWF0Y2hpbmcgY2xvc2UgdGFnIGZvciBcIicgKyBsaW5lICsgJ1wiLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZWxmLnNjYW5MaW5lKGxpbmUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gIH0sXG5cbiAgcGFyc2VUZW1wbGF0ZVRleHQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RyID0gdGhpcy50ZW1wbGF0ZVRleHQ7XG4gICAgdmFyIHBhdCA9IHRoaXMucmVnZXg7XG4gICAgdmFyIHJlc3VsdCA9IHBhdC5leGVjKHN0cik7XG4gICAgdmFyIGFyciA9IFtdO1xuICAgIHZhciBmaXJzdFBvcztcblxuICAgIHdoaWxlIChyZXN1bHQpIHtcbiAgICAgIGZpcnN0UG9zID0gcmVzdWx0LmluZGV4O1xuXG4gICAgICBpZiAoZmlyc3RQb3MgIT09IDApIHtcbiAgICAgICAgYXJyLnB1c2goc3RyLnN1YnN0cmluZygwLCBmaXJzdFBvcykpO1xuICAgICAgICBzdHIgPSBzdHIuc2xpY2UoZmlyc3RQb3MpO1xuICAgICAgfVxuXG4gICAgICBhcnIucHVzaChyZXN1bHRbMF0pO1xuICAgICAgc3RyID0gc3RyLnNsaWNlKHJlc3VsdFswXS5sZW5ndGgpO1xuICAgICAgcmVzdWx0ID0gcGF0LmV4ZWMoc3RyKTtcbiAgICB9XG5cbiAgICBpZiAoc3RyKSB7XG4gICAgICBhcnIucHVzaChzdHIpO1xuICAgIH1cblxuICAgIHJldHVybiBhcnI7XG4gIH0sXG5cbiAgX2FkZE91dHB1dDogZnVuY3Rpb24gKGxpbmUpIHtcbiAgICBpZiAodGhpcy50cnVuY2F0ZSkge1xuICAgICAgLy8gT25seSByZXBsYWNlIHNpbmdsZSBsZWFkaW5nIGxpbmVicmVhayBpbiB0aGUgbGluZSBhZnRlclxuICAgICAgLy8gLSU+IHRhZyAtLSB0aGlzIGlzIHRoZSBzaW5nbGUsIHRyYWlsaW5nIGxpbmVicmVha1xuICAgICAgLy8gYWZ0ZXIgdGhlIHRhZyB0aGF0IHRoZSB0cnVuY2F0aW9uIG1vZGUgcmVwbGFjZXNcbiAgICAgIC8vIEhhbmRsZSBXaW4gLyBVbml4IC8gb2xkIE1hYyBsaW5lYnJlYWtzIC0tIGRvIHRoZSBcXHJcXG5cbiAgICAgIC8vIGNvbWJvIGZpcnN0IGluIHRoZSByZWdleC1vclxuICAgICAgbGluZSA9IGxpbmUucmVwbGFjZSgvXig/OlxcclxcbnxcXHJ8XFxuKS8sICcnKTtcbiAgICAgIHRoaXMudHJ1bmNhdGUgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFsaW5lKSB7XG4gICAgICByZXR1cm4gbGluZTtcbiAgICB9XG5cbiAgICAvLyBQcmVzZXJ2ZSBsaXRlcmFsIHNsYXNoZXNcbiAgICBsaW5lID0gbGluZS5yZXBsYWNlKC9cXFxcL2csICdcXFxcXFxcXCcpO1xuXG4gICAgLy8gQ29udmVydCBsaW5lYnJlYWtzXG4gICAgbGluZSA9IGxpbmUucmVwbGFjZSgvXFxuL2csICdcXFxcbicpO1xuICAgIGxpbmUgPSBsaW5lLnJlcGxhY2UoL1xcci9nLCAnXFxcXHInKTtcblxuICAgIC8vIEVzY2FwZSBkb3VibGUtcXVvdGVzXG4gICAgLy8gLSB0aGlzIHdpbGwgYmUgdGhlIGRlbGltaXRlciBkdXJpbmcgZXhlY3V0aW9uXG4gICAgbGluZSA9IGxpbmUucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpO1xuICAgIHRoaXMuc291cmNlICs9ICcgICAgOyBfX2FwcGVuZChcIicgKyBsaW5lICsgJ1wiKScgKyAnXFxuJztcbiAgfSxcblxuICBzY2FuTGluZTogZnVuY3Rpb24gKGxpbmUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGQgPSB0aGlzLm9wdHMuZGVsaW1pdGVyO1xuICAgIHZhciBvID0gdGhpcy5vcHRzLm9wZW5EZWxpbWl0ZXI7XG4gICAgdmFyIGMgPSB0aGlzLm9wdHMuY2xvc2VEZWxpbWl0ZXI7XG4gICAgdmFyIG5ld0xpbmVDb3VudCA9IDA7XG5cbiAgICBuZXdMaW5lQ291bnQgPSAobGluZS5zcGxpdCgnXFxuJykubGVuZ3RoIC0gMSk7XG5cbiAgICBzd2l0Y2ggKGxpbmUpIHtcbiAgICBjYXNlIG8gKyBkOlxuICAgIGNhc2UgbyArIGQgKyAnXyc6XG4gICAgICB0aGlzLm1vZGUgPSBUZW1wbGF0ZS5tb2Rlcy5FVkFMO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBvICsgZCArICc9JzpcbiAgICAgIHRoaXMubW9kZSA9IFRlbXBsYXRlLm1vZGVzLkVTQ0FQRUQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlIG8gKyBkICsgJy0nOlxuICAgICAgdGhpcy5tb2RlID0gVGVtcGxhdGUubW9kZXMuUkFXO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBvICsgZCArICcjJzpcbiAgICAgIHRoaXMubW9kZSA9IFRlbXBsYXRlLm1vZGVzLkNPTU1FTlQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlIG8gKyBkICsgZDpcbiAgICAgIHRoaXMubW9kZSA9IFRlbXBsYXRlLm1vZGVzLkxJVEVSQUw7XG4gICAgICB0aGlzLnNvdXJjZSArPSAnICAgIDsgX19hcHBlbmQoXCInICsgbGluZS5yZXBsYWNlKG8gKyBkICsgZCwgbyArIGQpICsgJ1wiKScgKyAnXFxuJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgZCArIGQgKyBjOlxuICAgICAgdGhpcy5tb2RlID0gVGVtcGxhdGUubW9kZXMuTElURVJBTDtcbiAgICAgIHRoaXMuc291cmNlICs9ICcgICAgOyBfX2FwcGVuZChcIicgKyBsaW5lLnJlcGxhY2UoZCArIGQgKyBjLCBkICsgYykgKyAnXCIpJyArICdcXG4nO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBkICsgYzpcbiAgICBjYXNlICctJyArIGQgKyBjOlxuICAgIGNhc2UgJ18nICsgZCArIGM6XG4gICAgICBpZiAodGhpcy5tb2RlID09IFRlbXBsYXRlLm1vZGVzLkxJVEVSQUwpIHtcbiAgICAgICAgdGhpcy5fYWRkT3V0cHV0KGxpbmUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1vZGUgPSBudWxsO1xuICAgICAgdGhpcy50cnVuY2F0ZSA9IGxpbmUuaW5kZXhPZignLScpID09PSAwIHx8IGxpbmUuaW5kZXhPZignXycpID09PSAwO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIEluIHNjcmlwdCBtb2RlLCBkZXBlbmRzIG9uIHR5cGUgb2YgdGFnXG4gICAgICBpZiAodGhpcy5tb2RlKSB7XG4gICAgICAgIC8vIElmICcvLycgaXMgZm91bmQgd2l0aG91dCBhIGxpbmUgYnJlYWssIGFkZCBhIGxpbmUgYnJlYWsuXG4gICAgICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XG4gICAgICAgIGNhc2UgVGVtcGxhdGUubW9kZXMuRVZBTDpcbiAgICAgICAgY2FzZSBUZW1wbGF0ZS5tb2Rlcy5FU0NBUEVEOlxuICAgICAgICBjYXNlIFRlbXBsYXRlLm1vZGVzLlJBVzpcbiAgICAgICAgICBpZiAobGluZS5sYXN0SW5kZXhPZignLy8nKSA+IGxpbmUubGFzdEluZGV4T2YoJ1xcbicpKSB7XG4gICAgICAgICAgICBsaW5lICs9ICdcXG4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgICAgICAvLyBKdXN0IGV4ZWN1dGluZyBjb2RlXG4gICAgICAgIGNhc2UgVGVtcGxhdGUubW9kZXMuRVZBTDpcbiAgICAgICAgICB0aGlzLnNvdXJjZSArPSAnICAgIDsgJyArIGxpbmUgKyAnXFxuJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgICAvLyBFeGVjLCBlc2MsIGFuZCBvdXRwdXRcbiAgICAgICAgY2FzZSBUZW1wbGF0ZS5tb2Rlcy5FU0NBUEVEOlxuICAgICAgICAgIHRoaXMuc291cmNlICs9ICcgICAgOyBfX2FwcGVuZChlc2NhcGVGbignICsgc3RyaXBTZW1pKGxpbmUpICsgJykpJyArICdcXG4nO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIC8vIEV4ZWMgYW5kIG91dHB1dFxuICAgICAgICBjYXNlIFRlbXBsYXRlLm1vZGVzLlJBVzpcbiAgICAgICAgICB0aGlzLnNvdXJjZSArPSAnICAgIDsgX19hcHBlbmQoJyArIHN0cmlwU2VtaShsaW5lKSArICcpJyArICdcXG4nO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFRlbXBsYXRlLm1vZGVzLkNPTU1FTlQ6XG4gICAgICAgICAgLy8gRG8gbm90aGluZ1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIC8vIExpdGVyYWwgPCUlIG1vZGUsIGFwcGVuZCBhcyByYXcgb3V0cHV0XG4gICAgICAgIGNhc2UgVGVtcGxhdGUubW9kZXMuTElURVJBTDpcbiAgICAgICAgICB0aGlzLl9hZGRPdXRwdXQobGluZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEluIHN0cmluZyBtb2RlLCBqdXN0IGFkZCB0aGUgb3V0cHV0XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fYWRkT3V0cHV0KGxpbmUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzZWxmLm9wdHMuY29tcGlsZURlYnVnICYmIG5ld0xpbmVDb3VudCkge1xuICAgICAgdGhpcy5jdXJyZW50TGluZSArPSBuZXdMaW5lQ291bnQ7XG4gICAgICB0aGlzLnNvdXJjZSArPSAnICAgIDsgX19saW5lID0gJyArIHRoaXMuY3VycmVudExpbmUgKyAnXFxuJztcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogRXNjYXBlIGNoYXJhY3RlcnMgcmVzZXJ2ZWQgaW4gWE1MLlxuICpcbiAqIFRoaXMgaXMgc2ltcGx5IGFuIGV4cG9ydCBvZiB7QGxpbmsgbW9kdWxlOnV0aWxzLmVzY2FwZVhNTH0uXG4gKlxuICogSWYgYG1hcmt1cGAgaXMgYHVuZGVmaW5lZGAgb3IgYG51bGxgLCB0aGUgZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtYXJrdXAgSW5wdXQgc3RyaW5nXG4gKiBAcmV0dXJuIHtTdHJpbmd9IEVzY2FwZWQgc3RyaW5nXG4gKiBAcHVibGljXG4gKiBAZnVuY1xuICogKi9cbmV4cG9ydHMuZXNjYXBlWE1MID0gdXRpbHMuZXNjYXBlWE1MO1xuXG4vKipcbiAqIEV4cHJlc3MuanMgc3VwcG9ydC5cbiAqXG4gKiBUaGlzIGlzIGFuIGFsaWFzIGZvciB7QGxpbmsgbW9kdWxlOmVqcy5yZW5kZXJGaWxlfSwgaW4gb3JkZXIgdG8gc3VwcG9ydFxuICogRXhwcmVzcy5qcyBvdXQtb2YtdGhlLWJveC5cbiAqXG4gKiBAZnVuY1xuICovXG5cbmV4cG9ydHMuX19leHByZXNzID0gZXhwb3J0cy5yZW5kZXJGaWxlO1xuXG4vKipcbiAqIFZlcnNpb24gb2YgRUpTLlxuICpcbiAqIEByZWFkb25seVxuICogQHR5cGUge1N0cmluZ31cbiAqIEBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLlZFUlNJT04gPSBfVkVSU0lPTl9TVFJJTkc7XG5cbi8qKlxuICogTmFtZSBmb3IgZGV0ZWN0aW9uIG9mIEVKUy5cbiAqXG4gKiBAcmVhZG9ubHlcbiAqIEB0eXBlIHtTdHJpbmd9XG4gKiBAcHVibGljXG4gKi9cblxuZXhwb3J0cy5uYW1lID0gX05BTUU7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuaWYgKHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgd2luZG93LmVqcyA9IGV4cG9ydHM7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/ejs/lib/ejs.js\n");

/***/ }),

/***/ "./node_modules/ejs/lib/utils.js":
/*!***************************************!*\
  !*** ./node_modules/ejs/lib/utils.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("/*\n * EJS Embedded JavaScript templates\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\n/**\n * Private utility functions\n * @module utils\n * @private\n */\n\n\n\nvar regExpChars = /[|\\\\{}()[\\]^$+*?.]/g;\n\n/**\n * Escape characters reserved in regular expressions.\n *\n * If `string` is `undefined` or `null`, the empty string is returned.\n *\n * @param {String} string Input string\n * @return {String} Escaped string\n * @static\n * @private\n */\nexports.escapeRegExpChars = function (string) {\n  // istanbul ignore if\n  if (!string) {\n    return '';\n  }\n  return String(string).replace(regExpChars, '\\\\$&');\n};\n\nvar _ENCODE_HTML_RULES = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&#34;',\n  \"'\": '&#39;'\n};\nvar _MATCH_HTML = /[&<>'\"]/g;\n\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n}\n\n/**\n * Stringified version of constants used by {@link module:utils.escapeXML}.\n *\n * It is used in the process of generating {@link ClientFunction}s.\n *\n * @readonly\n * @type {String}\n */\n\nvar escapeFuncStr =\n  'var _ENCODE_HTML_RULES = {\\n'\n+ '      \"&\": \"&amp;\"\\n'\n+ '    , \"<\": \"&lt;\"\\n'\n+ '    , \">\": \"&gt;\"\\n'\n+ '    , \\'\"\\': \"&#34;\"\\n'\n+ '    , \"\\'\": \"&#39;\"\\n'\n+ '    }\\n'\n+ '  , _MATCH_HTML = /[&<>\\'\"]/g;\\n'\n+ 'function encode_char(c) {\\n'\n+ '  return _ENCODE_HTML_RULES[c] || c;\\n'\n+ '};\\n';\n\n/**\n * Escape characters reserved in XML.\n *\n * If `markup` is `undefined` or `null`, the empty string is returned.\n *\n * @implements {EscapeCallback}\n * @param {String} markup Input string\n * @return {String} Escaped string\n * @static\n * @private\n */\n\nexports.escapeXML = function (markup) {\n  return markup == undefined\n    ? ''\n    : String(markup)\n      .replace(_MATCH_HTML, encode_char);\n};\nexports.escapeXML.toString = function () {\n  return Function.prototype.toString.call(this) + ';\\n' + escapeFuncStr;\n};\n\n/**\n * Naive copy of properties from one object to another.\n * Does not recurse into non-scalar properties\n * Does not check to see if the property has a value before copying\n *\n * @param  {Object} to   Destination object\n * @param  {Object} from Source object\n * @return {Object}      Destination object\n * @static\n * @private\n */\nexports.shallowCopy = function (to, from) {\n  from = from || {};\n  for (var p in from) {\n    to[p] = from[p];\n  }\n  return to;\n};\n\n/**\n * Naive copy of a list of key names, from one object to another.\n * Only copies property if it is actually defined\n * Does not recurse into non-scalar properties\n *\n * @param  {Object} to   Destination object\n * @param  {Object} from Source object\n * @param  {Array} list List of properties to copy\n * @return {Object}      Destination object\n * @static\n * @private\n */\nexports.shallowCopyFromList = function (to, from, list) {\n  for (var i = 0; i < list.length; i++) {\n    var p = list[i];\n    if (typeof from[p] != 'undefined') {\n      to[p] = from[p];\n    }\n  }\n  return to;\n};\n\n/**\n * Simple in-process cache implementation. Does not implement limits of any\n * sort.\n *\n * @implements {Cache}\n * @static\n * @private\n */\nexports.cache = {\n  _data: {},\n  set: function (key, val) {\n    this._data[key] = val;\n  },\n  get: function (key) {\n    return this._data[key];\n  },\n  remove: function (key) {\n    delete this._data[key];\n  },\n  reset: function () {\n    this._data = {};\n  }\n};\n\n/**\n * Transforms hyphen case variable into camel case.\n *\n * @param {String} string Hyphen case string\n * @return {String} Camel case string\n * @static\n * @private\n */\nexports.hyphenToCamel = function (str) {\n  return str.replace(/-[a-z]/g, function (match) { return match[1].toUpperCase(); });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZWpzL2xpYi91dGlscy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2Vuc2VuLXdhcHAvLi9ub2RlX21vZHVsZXMvZWpzL2xpYi91dGlscy5qcz8wMjIxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBFSlMgRW1iZWRkZWQgSmF2YVNjcmlwdCB0ZW1wbGF0ZXNcbiAqIENvcHlyaWdodCAyMTEyIE1hdHRoZXcgRWVybmlzc2UgKG1kZUBmbGVlZ2l4Lm9yZylcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiovXG5cbi8qKlxuICogUHJpdmF0ZSB1dGlsaXR5IGZ1bmN0aW9uc1xuICogQG1vZHVsZSB1dGlsc1xuICogQHByaXZhdGVcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciByZWdFeHBDaGFycyA9IC9bfFxcXFx7fSgpW1xcXV4kKyo/Ll0vZztcblxuLyoqXG4gKiBFc2NhcGUgY2hhcmFjdGVycyByZXNlcnZlZCBpbiByZWd1bGFyIGV4cHJlc3Npb25zLlxuICpcbiAqIElmIGBzdHJpbmdgIGlzIGB1bmRlZmluZWRgIG9yIGBudWxsYCwgdGhlIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIElucHV0IHN0cmluZ1xuICogQHJldHVybiB7U3RyaW5nfSBFc2NhcGVkIHN0cmluZ1xuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0cy5lc2NhcGVSZWdFeHBDaGFycyA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmICghc3RyaW5nKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHJldHVybiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlZ0V4cENoYXJzLCAnXFxcXCQmJyk7XG59O1xuXG52YXIgX0VOQ09ERV9IVE1MX1JVTEVTID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc8JzogJyZsdDsnLFxuICAnPic6ICcmZ3Q7JyxcbiAgJ1wiJzogJyYjMzQ7JyxcbiAgXCInXCI6ICcmIzM5Oydcbn07XG52YXIgX01BVENIX0hUTUwgPSAvWyY8PidcIl0vZztcblxuZnVuY3Rpb24gZW5jb2RlX2NoYXIoYykge1xuICByZXR1cm4gX0VOQ09ERV9IVE1MX1JVTEVTW2NdIHx8IGM7XG59XG5cbi8qKlxuICogU3RyaW5naWZpZWQgdmVyc2lvbiBvZiBjb25zdGFudHMgdXNlZCBieSB7QGxpbmsgbW9kdWxlOnV0aWxzLmVzY2FwZVhNTH0uXG4gKlxuICogSXQgaXMgdXNlZCBpbiB0aGUgcHJvY2VzcyBvZiBnZW5lcmF0aW5nIHtAbGluayBDbGllbnRGdW5jdGlvbn1zLlxuICpcbiAqIEByZWFkb25seVxuICogQHR5cGUge1N0cmluZ31cbiAqL1xuXG52YXIgZXNjYXBlRnVuY1N0ciA9XG4gICd2YXIgX0VOQ09ERV9IVE1MX1JVTEVTID0ge1xcbidcbisgJyAgICAgIFwiJlwiOiBcIiZhbXA7XCJcXG4nXG4rICcgICAgLCBcIjxcIjogXCImbHQ7XCJcXG4nXG4rICcgICAgLCBcIj5cIjogXCImZ3Q7XCJcXG4nXG4rICcgICAgLCBcXCdcIlxcJzogXCImIzM0O1wiXFxuJ1xuKyAnICAgICwgXCJcXCdcIjogXCImIzM5O1wiXFxuJ1xuKyAnICAgIH1cXG4nXG4rICcgICwgX01BVENIX0hUTUwgPSAvWyY8PlxcJ1wiXS9nO1xcbidcbisgJ2Z1bmN0aW9uIGVuY29kZV9jaGFyKGMpIHtcXG4nXG4rICcgIHJldHVybiBfRU5DT0RFX0hUTUxfUlVMRVNbY10gfHwgYztcXG4nXG4rICd9O1xcbic7XG5cbi8qKlxuICogRXNjYXBlIGNoYXJhY3RlcnMgcmVzZXJ2ZWQgaW4gWE1MLlxuICpcbiAqIElmIGBtYXJrdXBgIGlzIGB1bmRlZmluZWRgIG9yIGBudWxsYCwgdGhlIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZC5cbiAqXG4gKiBAaW1wbGVtZW50cyB7RXNjYXBlQ2FsbGJhY2t9XG4gKiBAcGFyYW0ge1N0cmluZ30gbWFya3VwIElucHV0IHN0cmluZ1xuICogQHJldHVybiB7U3RyaW5nfSBFc2NhcGVkIHN0cmluZ1xuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLmVzY2FwZVhNTCA9IGZ1bmN0aW9uIChtYXJrdXApIHtcbiAgcmV0dXJuIG1hcmt1cCA9PSB1bmRlZmluZWRcbiAgICA/ICcnXG4gICAgOiBTdHJpbmcobWFya3VwKVxuICAgICAgLnJlcGxhY2UoX01BVENIX0hUTUwsIGVuY29kZV9jaGFyKTtcbn07XG5leHBvcnRzLmVzY2FwZVhNTC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMpICsgJztcXG4nICsgZXNjYXBlRnVuY1N0cjtcbn07XG5cbi8qKlxuICogTmFpdmUgY29weSBvZiBwcm9wZXJ0aWVzIGZyb20gb25lIG9iamVjdCB0byBhbm90aGVyLlxuICogRG9lcyBub3QgcmVjdXJzZSBpbnRvIG5vbi1zY2FsYXIgcHJvcGVydGllc1xuICogRG9lcyBub3QgY2hlY2sgdG8gc2VlIGlmIHRoZSBwcm9wZXJ0eSBoYXMgYSB2YWx1ZSBiZWZvcmUgY29weWluZ1xuICpcbiAqIEBwYXJhbSAge09iamVjdH0gdG8gICBEZXN0aW5hdGlvbiBvYmplY3RcbiAqIEBwYXJhbSAge09iamVjdH0gZnJvbSBTb3VyY2Ugb2JqZWN0XG4gKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgRGVzdGluYXRpb24gb2JqZWN0XG4gKiBAc3RhdGljXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnRzLnNoYWxsb3dDb3B5ID0gZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG4gIGZyb20gPSBmcm9tIHx8IHt9O1xuICBmb3IgKHZhciBwIGluIGZyb20pIHtcbiAgICB0b1twXSA9IGZyb21bcF07XG4gIH1cbiAgcmV0dXJuIHRvO1xufTtcblxuLyoqXG4gKiBOYWl2ZSBjb3B5IG9mIGEgbGlzdCBvZiBrZXkgbmFtZXMsIGZyb20gb25lIG9iamVjdCB0byBhbm90aGVyLlxuICogT25seSBjb3BpZXMgcHJvcGVydHkgaWYgaXQgaXMgYWN0dWFsbHkgZGVmaW5lZFxuICogRG9lcyBub3QgcmVjdXJzZSBpbnRvIG5vbi1zY2FsYXIgcHJvcGVydGllc1xuICpcbiAqIEBwYXJhbSAge09iamVjdH0gdG8gICBEZXN0aW5hdGlvbiBvYmplY3RcbiAqIEBwYXJhbSAge09iamVjdH0gZnJvbSBTb3VyY2Ugb2JqZWN0XG4gKiBAcGFyYW0gIHtBcnJheX0gbGlzdCBMaXN0IG9mIHByb3BlcnRpZXMgdG8gY29weVxuICogQHJldHVybiB7T2JqZWN0fSAgICAgIERlc3RpbmF0aW9uIG9iamVjdFxuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0cy5zaGFsbG93Q29weUZyb21MaXN0ID0gZnVuY3Rpb24gKHRvLCBmcm9tLCBsaXN0KSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwID0gbGlzdFtpXTtcbiAgICBpZiAodHlwZW9mIGZyb21bcF0gIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRvW3BdID0gZnJvbVtwXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvO1xufTtcblxuLyoqXG4gKiBTaW1wbGUgaW4tcHJvY2VzcyBjYWNoZSBpbXBsZW1lbnRhdGlvbi4gRG9lcyBub3QgaW1wbGVtZW50IGxpbWl0cyBvZiBhbnlcbiAqIHNvcnQuXG4gKlxuICogQGltcGxlbWVudHMge0NhY2hlfVxuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0cy5jYWNoZSA9IHtcbiAgX2RhdGE6IHt9LFxuICBzZXQ6IGZ1bmN0aW9uIChrZXksIHZhbCkge1xuICAgIHRoaXMuX2RhdGFba2V5XSA9IHZhbDtcbiAgfSxcbiAgZ2V0OiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGFba2V5XTtcbiAgfSxcbiAgcmVtb3ZlOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgZGVsZXRlIHRoaXMuX2RhdGFba2V5XTtcbiAgfSxcbiAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9kYXRhID0ge307XG4gIH1cbn07XG5cbi8qKlxuICogVHJhbnNmb3JtcyBoeXBoZW4gY2FzZSB2YXJpYWJsZSBpbnRvIGNhbWVsIGNhc2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBIeXBoZW4gY2FzZSBzdHJpbmdcbiAqIEByZXR1cm4ge1N0cmluZ30gQ2FtZWwgY2FzZSBzdHJpbmdcbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydHMuaHlwaGVuVG9DYW1lbCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC8tW2Etel0vZywgZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaFsxXS50b1VwcGVyQ2FzZSgpOyB9KTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/ejs/lib/utils.js\n");

/***/ }),

/***/ "./pipe/app/activities/home/index.activity":
/*!*************************************************!*\
  !*** ./pipe/app/activities/home/index.activity ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = \"<h1>Hello Home</h1>\\n\\n\\n\";\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9waXBlL2FwcC9hY3Rpdml0aWVzL2hvbWUvaW5kZXguYWN0aXZpdHkuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2Vuc2VuLXdhcHAvLi9waXBlL2FwcC9hY3Rpdml0aWVzL2hvbWUvaW5kZXguYWN0aXZpdHk/YmZkNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8aDE+SGVsbG8gSG9tZTwvaDE+XFxuXFxuXFxuXCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pipe/app/activities/home/index.activity\n");

/***/ }),

/***/ "./node_modules/sensen-jutsu/animation/index.js":
/*!******************************************************!*\
  !*** ./node_modules/sensen-jutsu/animation/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SensenAnimationEngine\": () => (/* binding */ SensenAnimationEngine)\n/* harmony export */ });\nclass SensenAnimationEngine {\n    constructor(options) {\n        this.options = options;\n        this.defaultFrame = 1000 / 60;\n    }\n    Start() {\n        const interpolarity = [];\n        const frame = this.options.duration / (this.options.frame || this.defaultFrame);\n        /**\n         * Profilling\n         */\n        this.options.from.forEach((v, k) => {\n            const delta = (Math.abs(this.options.to[k] - v) / frame);\n            const sens = this.options.to[k] > v;\n            let from = v;\n            let to = sens ? this.options.to[k] + delta : this.options.to[k] - delta;\n            interpolarity[k] = [];\n            if (sens) {\n                for (let x = from; x <= to; x += delta) {\n                    interpolarity[k][interpolarity[k].length] = x >= this.options.to[k] ? this.options.to[k] : x;\n                }\n            }\n            else {\n                for (let x = from; x >= to; x -= delta) {\n                    interpolarity[k][interpolarity[k].length] = (x <= this.options.to[k]) ? this.options.to[k] : x;\n                }\n            }\n        });\n        /**\n         * Play\n         */\n        if (!interpolarity.length) {\n            throw (`Sensen.Fx.Engine : No Interpolarity Data < ${JSON.stringify(interpolarity)} >`);\n        }\n        let x = 0;\n        const limit = interpolarity[0].length - 1;\n        const player = () => {\n            const couple = interpolarity.map(entry => entry[x]);\n            const percent = (x / limit) * 100;\n            if (x >= limit) {\n                this.options.hit(interpolarity.map(entry => entry[limit]), this, percent);\n                if (typeof this.options.done == 'function') {\n                    this.options.done(this);\n                }\n            }\n            else {\n                x++;\n                this.options.hit(couple, this, percent);\n                globalThis.requestAnimationFrame(player);\n            }\n        };\n        /**\n         * Trigger Engine\n         */\n        player();\n        return this;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2Vuc2VuLWp1dHN1L2FuaW1hdGlvbi9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZW5zZW4td2FwcC8uL25vZGVfbW9kdWxlcy9zZW5zZW4tanV0c3UvYW5pbWF0aW9uL2luZGV4LmpzPzIzNWMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFNlbnNlbkFuaW1hdGlvbkVuZ2luZSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmRlZmF1bHRGcmFtZSA9IDEwMDAgLyA2MDtcbiAgICB9XG4gICAgU3RhcnQoKSB7XG4gICAgICAgIGNvbnN0IGludGVycG9sYXJpdHkgPSBbXTtcbiAgICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLm9wdGlvbnMuZHVyYXRpb24gLyAodGhpcy5vcHRpb25zLmZyYW1lIHx8IHRoaXMuZGVmYXVsdEZyYW1lKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb2ZpbGxpbmdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3B0aW9ucy5mcm9tLmZvckVhY2goKHYsIGspID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gKE1hdGguYWJzKHRoaXMub3B0aW9ucy50b1trXSAtIHYpIC8gZnJhbWUpO1xuICAgICAgICAgICAgY29uc3Qgc2VucyA9IHRoaXMub3B0aW9ucy50b1trXSA+IHY7XG4gICAgICAgICAgICBsZXQgZnJvbSA9IHY7XG4gICAgICAgICAgICBsZXQgdG8gPSBzZW5zID8gdGhpcy5vcHRpb25zLnRvW2tdICsgZGVsdGEgOiB0aGlzLm9wdGlvbnMudG9ba10gLSBkZWx0YTtcbiAgICAgICAgICAgIGludGVycG9sYXJpdHlba10gPSBbXTtcbiAgICAgICAgICAgIGlmIChzZW5zKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeCA9IGZyb207IHggPD0gdG87IHggKz0gZGVsdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhcml0eVtrXVtpbnRlcnBvbGFyaXR5W2tdLmxlbmd0aF0gPSB4ID49IHRoaXMub3B0aW9ucy50b1trXSA/IHRoaXMub3B0aW9ucy50b1trXSA6IHg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeCA9IGZyb207IHggPj0gdG87IHggLT0gZGVsdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhcml0eVtrXVtpbnRlcnBvbGFyaXR5W2tdLmxlbmd0aF0gPSAoeCA8PSB0aGlzLm9wdGlvbnMudG9ba10pID8gdGhpcy5vcHRpb25zLnRvW2tdIDogeDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGxheVxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCFpbnRlcnBvbGFyaXR5Lmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgKGBTZW5zZW4uRnguRW5naW5lIDogTm8gSW50ZXJwb2xhcml0eSBEYXRhIDwgJHtKU09OLnN0cmluZ2lmeShpbnRlcnBvbGFyaXR5KX0gPmApO1xuICAgICAgICB9XG4gICAgICAgIGxldCB4ID0gMDtcbiAgICAgICAgY29uc3QgbGltaXQgPSBpbnRlcnBvbGFyaXR5WzBdLmxlbmd0aCAtIDE7XG4gICAgICAgIGNvbnN0IHBsYXllciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvdXBsZSA9IGludGVycG9sYXJpdHkubWFwKGVudHJ5ID0+IGVudHJ5W3hdKTtcbiAgICAgICAgICAgIGNvbnN0IHBlcmNlbnQgPSAoeCAvIGxpbWl0KSAqIDEwMDtcbiAgICAgICAgICAgIGlmICh4ID49IGxpbWl0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmhpdChpbnRlcnBvbGFyaXR5Lm1hcChlbnRyeSA9PiBlbnRyeVtsaW1pdF0pLCB0aGlzLCBwZXJjZW50KTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5kb25lID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmRvbmUodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgeCsrO1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5oaXQoY291cGxlLCB0aGlzLCBwZXJjZW50KTtcbiAgICAgICAgICAgICAgICBnbG9iYWxUaGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZShwbGF5ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJpZ2dlciBFbmdpbmVcbiAgICAgICAgICovXG4gICAgICAgIHBsYXllcigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/sensen-jutsu/animation/index.js\n");

/***/ }),

/***/ "./node_modules/sensen-jutsu/animation/preset.js":
/*!*******************************************************!*\
  !*** ./node_modules/sensen-jutsu/animation/preset.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FxPresenter\": () => (/* binding */ FxPresenter),\n/* harmony export */   \"FxScalingIn\": () => (/* binding */ FxScalingIn),\n/* harmony export */   \"FxScalingOut\": () => (/* binding */ FxScalingOut),\n/* harmony export */   \"FxSlideHorizontal\": () => (/* binding */ FxSlideHorizontal),\n/* harmony export */   \"FxSlideVertical\": () => (/* binding */ FxSlideVertical)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.js */ \"./node_modules/sensen-jutsu/animation/index.js\");\n\nconst FxPresenter = {\n    async entry(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [0], to: [100],\n                    duration: 360,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            widget.style.opacity = `${interpolarity[0] / 100}`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n    async entryReverse(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [0], to: [100],\n                    duration: 200,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            widget.style.opacity = `${interpolarity[0] / 10}`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n    async exit(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [100], to: [0],\n                    duration: 200,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            widget.style.opacity = `${interpolarity[0] / 10}`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n    async exitReverse(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [100], to: [0],\n                    duration: 200,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            widget.style.opacity = `${interpolarity[0] / 10}`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n};\nconst FxSlideHorizontal = {\n    async entry(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [110], to: [0],\n                    duration: 256,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            widget.style.transform = `translateX(${interpolarity[0]}%)`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n    async entryReverse(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [-110], to: [0],\n                    duration: 256,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            widget.style.transform = `translateX(${interpolarity[0]}%)`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n    async exit(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [0], to: [110],\n                    duration: 400,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            widget.style.transform = `translateX(${interpolarity[0]}%)`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n    async exitReverse(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [0], to: [-110],\n                    duration: 400,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            widget.style.transform = `translateX(${interpolarity[0]}%)`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n};\nconst FxSlideVertical = {\n    async entry(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [110], to: [0],\n                    duration: 256,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            widget.style.transform = `translateY(${interpolarity[0]}%)`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n    async entryReverse(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [-110], to: [0],\n                    duration: 256,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            widget.style.transform = `translateY(${interpolarity[0]}%)`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n    async exit(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [0], to: [110],\n                    duration: 400,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            widget.style.transform = `translateY(${interpolarity[0]}%)`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n    async exitReverse(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [0], to: [-110],\n                    duration: 400,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            widget.style.transform = `translateY(${interpolarity[0]}%)`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n};\nconst FxScalingIn = {\n    async entry(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [0, 0], to: [100, 100],\n                    duration: 256,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            const scale = interpolarity[0] / 100;\n                            const opacity = interpolarity[1] / 100;\n                            widget.style.transform = `scale(${scale})`;\n                            widget.style.opacity = `${opacity > 1 ? 1 : opacity}`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n    async entryReverse(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [0, 0], to: [100, 100],\n                    duration: 256,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            const scale = interpolarity[0] / 100;\n                            const opacity = interpolarity[1] / 100;\n                            widget.style.transform = `scale(${scale})`;\n                            widget.style.opacity = `${opacity > 1 ? 1 : opacity}`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n    async exit(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [100, 100], to: [0, 0],\n                    duration: 400,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            const scale = interpolarity[0] / 100;\n                            const opacity = interpolarity[1] / 100;\n                            widget.style.transform = `scale(${scale})`;\n                            widget.style.opacity = `${opacity > 1 ? 1 : opacity}`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n    async exitReverse(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [100, 100], to: [0, 0],\n                    duration: 400,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            const scale = interpolarity[0] / 100;\n                            const opacity = interpolarity[1] / 100;\n                            widget.style.transform = `scale(${scale})`;\n                            widget.style.opacity = `${opacity > 1 ? 1 : opacity}`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n};\nconst FxScalingOut = {\n    async entry(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [200, 0], to: [100, 100],\n                    duration: 256,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            const scale = interpolarity[0] / 100;\n                            const opacity = interpolarity[1] / 100;\n                            widget.style.transform = `scale(${scale})`;\n                            widget.style.opacity = `${opacity > 1 ? 1 : opacity}`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n    async entryReverse(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [100, 0], to: [200, 100],\n                    duration: 256,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            const scale = interpolarity[0] / 100;\n                            const opacity = interpolarity[1] / 100;\n                            widget.style.transform = `scale(${scale})`;\n                            widget.style.opacity = `${opacity > 1 ? 1 : opacity}`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n    async exit(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [100, 100], to: [200, 0],\n                    duration: 400,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            const scale = interpolarity[0] / 100;\n                            const opacity = interpolarity[1] / 100;\n                            widget.style.transform = `scale(${scale})`;\n                            widget.style.opacity = `${opacity > 1 ? 1 : opacity}`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n    async exitReverse(widget) {\n        return new Promise((done, fail) => {\n            try {\n                const fx = new _index_js__WEBPACK_IMPORTED_MODULE_0__.SensenAnimationEngine({\n                    from: [200, 100], to: [100, 0],\n                    duration: 400,\n                    hit: (interpolarity) => {\n                        if (widget) {\n                            const scale = interpolarity[0] / 100;\n                            const opacity = interpolarity[1] / 100;\n                            widget.style.transform = `scale(${scale})`;\n                            widget.style.opacity = `${opacity > 1 ? 1 : opacity}`;\n                        }\n                    },\n                    done: () => done(widget)\n                });\n                fx.Start();\n            }\n            catch (e) {\n                fail(e);\n            }\n        });\n    },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2Vuc2VuLWp1dHN1L2FuaW1hdGlvbi9wcmVzZXQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2Vuc2VuLXdhcHAvLi9ub2RlX21vZHVsZXMvc2Vuc2VuLWp1dHN1L2FuaW1hdGlvbi9wcmVzZXQuanM/YTlmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZW5zZW5BbmltYXRpb25FbmdpbmUgfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuZXhwb3J0IGNvbnN0IEZ4UHJlc2VudGVyID0ge1xuICAgIGFzeW5jIGVudHJ5KHdpZGdldCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKGRvbmUsIGZhaWwpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZnggPSBuZXcgU2Vuc2VuQW5pbWF0aW9uRW5naW5lKHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogWzBdLCB0bzogWzEwMF0sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzNjAsXG4gICAgICAgICAgICAgICAgICAgIGhpdDogKGludGVycG9sYXJpdHkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWRnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXQuc3R5bGUub3BhY2l0eSA9IGAke2ludGVycG9sYXJpdHlbMF0gLyAxMDB9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZG9uZTogKCkgPT4gZG9uZSh3aWRnZXQpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZnguU3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZmFpbChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyBlbnRyeVJldmVyc2Uod2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoZG9uZSwgZmFpbCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmeCA9IG5ldyBTZW5zZW5BbmltYXRpb25FbmdpbmUoe1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBbMF0sIHRvOiBbMTAwXSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgaGl0OiAoaW50ZXJwb2xhcml0eSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZGdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldC5zdHlsZS5vcGFjaXR5ID0gYCR7aW50ZXJwb2xhcml0eVswXSAvIDEwfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRvbmU6ICgpID0+IGRvbmUod2lkZ2V0KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZ4LlN0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGZhaWwoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgZXhpdCh3aWRnZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChkb25lLCBmYWlsKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZ4ID0gbmV3IFNlbnNlbkFuaW1hdGlvbkVuZ2luZSh7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IFsxMDBdLCB0bzogWzBdLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwLFxuICAgICAgICAgICAgICAgICAgICBoaXQ6IChpbnRlcnBvbGFyaXR5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LnN0eWxlLm9wYWNpdHkgPSBgJHtpbnRlcnBvbGFyaXR5WzBdIC8gMTB9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZG9uZTogKCkgPT4gZG9uZSh3aWRnZXQpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZnguU3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZmFpbChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyBleGl0UmV2ZXJzZSh3aWRnZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChkb25lLCBmYWlsKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZ4ID0gbmV3IFNlbnNlbkFuaW1hdGlvbkVuZ2luZSh7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IFsxMDBdLCB0bzogWzBdLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwLFxuICAgICAgICAgICAgICAgICAgICBoaXQ6IChpbnRlcnBvbGFyaXR5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LnN0eWxlLm9wYWNpdHkgPSBgJHtpbnRlcnBvbGFyaXR5WzBdIC8gMTB9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZG9uZTogKCkgPT4gZG9uZSh3aWRnZXQpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZnguU3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZmFpbChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgRnhTbGlkZUhvcml6b250YWwgPSB7XG4gICAgYXN5bmMgZW50cnkod2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoZG9uZSwgZmFpbCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmeCA9IG5ldyBTZW5zZW5BbmltYXRpb25FbmdpbmUoe1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBbMTEwXSwgdG86IFswXSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1NixcbiAgICAgICAgICAgICAgICAgICAgaGl0OiAoaW50ZXJwb2xhcml0eSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZGdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke2ludGVycG9sYXJpdHlbMF19JSlgO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkb25lOiAoKSA9PiBkb25lKHdpZGdldClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmeC5TdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBmYWlsKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGVudHJ5UmV2ZXJzZSh3aWRnZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChkb25lLCBmYWlsKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZ4ID0gbmV3IFNlbnNlbkFuaW1hdGlvbkVuZ2luZSh7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IFstMTEwXSwgdG86IFswXSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1NixcbiAgICAgICAgICAgICAgICAgICAgaGl0OiAoaW50ZXJwb2xhcml0eSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZGdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke2ludGVycG9sYXJpdHlbMF19JSlgO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkb25lOiAoKSA9PiBkb25lKHdpZGdldClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmeC5TdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBmYWlsKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGV4aXQod2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoZG9uZSwgZmFpbCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmeCA9IG5ldyBTZW5zZW5BbmltYXRpb25FbmdpbmUoe1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBbMF0sIHRvOiBbMTEwXSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDQwMCxcbiAgICAgICAgICAgICAgICAgICAgaGl0OiAoaW50ZXJwb2xhcml0eSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZGdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke2ludGVycG9sYXJpdHlbMF19JSlgO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkb25lOiAoKSA9PiBkb25lKHdpZGdldClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmeC5TdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBmYWlsKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGV4aXRSZXZlcnNlKHdpZGdldCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKGRvbmUsIGZhaWwpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZnggPSBuZXcgU2Vuc2VuQW5pbWF0aW9uRW5naW5lKHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogWzBdLCB0bzogWy0xMTBdLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNDAwLFxuICAgICAgICAgICAgICAgICAgICBoaXQ6IChpbnRlcnBvbGFyaXR5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7aW50ZXJwb2xhcml0eVswXX0lKWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRvbmU6ICgpID0+IGRvbmUod2lkZ2V0KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZ4LlN0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGZhaWwoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG59O1xuZXhwb3J0IGNvbnN0IEZ4U2xpZGVWZXJ0aWNhbCA9IHtcbiAgICBhc3luYyBlbnRyeSh3aWRnZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChkb25lLCBmYWlsKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZ4ID0gbmV3IFNlbnNlbkFuaW1hdGlvbkVuZ2luZSh7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IFsxMTBdLCB0bzogWzBdLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjU2LFxuICAgICAgICAgICAgICAgICAgICBoaXQ6IChpbnRlcnBvbGFyaXR5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7aW50ZXJwb2xhcml0eVswXX0lKWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRvbmU6ICgpID0+IGRvbmUod2lkZ2V0KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZ4LlN0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGZhaWwoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgZW50cnlSZXZlcnNlKHdpZGdldCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKGRvbmUsIGZhaWwpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZnggPSBuZXcgU2Vuc2VuQW5pbWF0aW9uRW5naW5lKHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogWy0xMTBdLCB0bzogWzBdLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjU2LFxuICAgICAgICAgICAgICAgICAgICBoaXQ6IChpbnRlcnBvbGFyaXR5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7aW50ZXJwb2xhcml0eVswXX0lKWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRvbmU6ICgpID0+IGRvbmUod2lkZ2V0KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZ4LlN0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGZhaWwoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgZXhpdCh3aWRnZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChkb25lLCBmYWlsKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZ4ID0gbmV3IFNlbnNlbkFuaW1hdGlvbkVuZ2luZSh7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IFswXSwgdG86IFsxMTBdLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNDAwLFxuICAgICAgICAgICAgICAgICAgICBoaXQ6IChpbnRlcnBvbGFyaXR5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7aW50ZXJwb2xhcml0eVswXX0lKWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRvbmU6ICgpID0+IGRvbmUod2lkZ2V0KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZ4LlN0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGZhaWwoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgZXhpdFJldmVyc2Uod2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoZG9uZSwgZmFpbCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmeCA9IG5ldyBTZW5zZW5BbmltYXRpb25FbmdpbmUoe1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBbMF0sIHRvOiBbLTExMF0sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA0MDAsXG4gICAgICAgICAgICAgICAgICAgIGhpdDogKGludGVycG9sYXJpdHkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWRnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXQuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoJHtpbnRlcnBvbGFyaXR5WzBdfSUpYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZG9uZTogKCkgPT4gZG9uZSh3aWRnZXQpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZnguU3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZmFpbChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgRnhTY2FsaW5nSW4gPSB7XG4gICAgYXN5bmMgZW50cnkod2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoZG9uZSwgZmFpbCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmeCA9IG5ldyBTZW5zZW5BbmltYXRpb25FbmdpbmUoe1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBbMCwgMF0sIHRvOiBbMTAwLCAxMDBdLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjU2LFxuICAgICAgICAgICAgICAgICAgICBoaXQ6IChpbnRlcnBvbGFyaXR5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBpbnRlcnBvbGFyaXR5WzBdIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wYWNpdHkgPSBpbnRlcnBvbGFyaXR5WzFdIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldC5zdHlsZS50cmFuc2Zvcm0gPSBgc2NhbGUoJHtzY2FsZX0pYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXQuc3R5bGUub3BhY2l0eSA9IGAke29wYWNpdHkgPiAxID8gMSA6IG9wYWNpdHl9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZG9uZTogKCkgPT4gZG9uZSh3aWRnZXQpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZnguU3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZmFpbChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyBlbnRyeVJldmVyc2Uod2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoZG9uZSwgZmFpbCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmeCA9IG5ldyBTZW5zZW5BbmltYXRpb25FbmdpbmUoe1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBbMCwgMF0sIHRvOiBbMTAwLCAxMDBdLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjU2LFxuICAgICAgICAgICAgICAgICAgICBoaXQ6IChpbnRlcnBvbGFyaXR5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBpbnRlcnBvbGFyaXR5WzBdIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wYWNpdHkgPSBpbnRlcnBvbGFyaXR5WzFdIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldC5zdHlsZS50cmFuc2Zvcm0gPSBgc2NhbGUoJHtzY2FsZX0pYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXQuc3R5bGUub3BhY2l0eSA9IGAke29wYWNpdHkgPiAxID8gMSA6IG9wYWNpdHl9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZG9uZTogKCkgPT4gZG9uZSh3aWRnZXQpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZnguU3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZmFpbChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyBleGl0KHdpZGdldCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKGRvbmUsIGZhaWwpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZnggPSBuZXcgU2Vuc2VuQW5pbWF0aW9uRW5naW5lKHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogWzEwMCwgMTAwXSwgdG86IFswLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDQwMCxcbiAgICAgICAgICAgICAgICAgICAgaGl0OiAoaW50ZXJwb2xhcml0eSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZGdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gaW50ZXJwb2xhcml0eVswXSAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcGFjaXR5ID0gaW50ZXJwb2xhcml0eVsxXSAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXQuc3R5bGUudHJhbnNmb3JtID0gYHNjYWxlKCR7c2NhbGV9KWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LnN0eWxlLm9wYWNpdHkgPSBgJHtvcGFjaXR5ID4gMSA/IDEgOiBvcGFjaXR5fWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRvbmU6ICgpID0+IGRvbmUod2lkZ2V0KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZ4LlN0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGZhaWwoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgZXhpdFJldmVyc2Uod2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoZG9uZSwgZmFpbCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmeCA9IG5ldyBTZW5zZW5BbmltYXRpb25FbmdpbmUoe1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBbMTAwLCAxMDBdLCB0bzogWzAsIDBdLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNDAwLFxuICAgICAgICAgICAgICAgICAgICBoaXQ6IChpbnRlcnBvbGFyaXR5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBpbnRlcnBvbGFyaXR5WzBdIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wYWNpdHkgPSBpbnRlcnBvbGFyaXR5WzFdIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldC5zdHlsZS50cmFuc2Zvcm0gPSBgc2NhbGUoJHtzY2FsZX0pYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXQuc3R5bGUub3BhY2l0eSA9IGAke29wYWNpdHkgPiAxID8gMSA6IG9wYWNpdHl9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZG9uZTogKCkgPT4gZG9uZSh3aWRnZXQpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZnguU3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZmFpbChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgRnhTY2FsaW5nT3V0ID0ge1xuICAgIGFzeW5jIGVudHJ5KHdpZGdldCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKGRvbmUsIGZhaWwpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZnggPSBuZXcgU2Vuc2VuQW5pbWF0aW9uRW5naW5lKHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogWzIwMCwgMF0sIHRvOiBbMTAwLCAxMDBdLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjU2LFxuICAgICAgICAgICAgICAgICAgICBoaXQ6IChpbnRlcnBvbGFyaXR5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBpbnRlcnBvbGFyaXR5WzBdIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wYWNpdHkgPSBpbnRlcnBvbGFyaXR5WzFdIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldC5zdHlsZS50cmFuc2Zvcm0gPSBgc2NhbGUoJHtzY2FsZX0pYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXQuc3R5bGUub3BhY2l0eSA9IGAke29wYWNpdHkgPiAxID8gMSA6IG9wYWNpdHl9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZG9uZTogKCkgPT4gZG9uZSh3aWRnZXQpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZnguU3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZmFpbChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBhc3luYyBlbnRyeVJldmVyc2Uod2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoZG9uZSwgZmFpbCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmeCA9IG5ldyBTZW5zZW5BbmltYXRpb25FbmdpbmUoe1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBbMTAwLCAwXSwgdG86IFsyMDAsIDEwMF0sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTYsXG4gICAgICAgICAgICAgICAgICAgIGhpdDogKGludGVycG9sYXJpdHkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWRnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IGludGVycG9sYXJpdHlbMF0gLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3BhY2l0eSA9IGludGVycG9sYXJpdHlbMV0gLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke3NjYWxlfSlgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldC5zdHlsZS5vcGFjaXR5ID0gYCR7b3BhY2l0eSA+IDEgPyAxIDogb3BhY2l0eX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkb25lOiAoKSA9PiBkb25lKHdpZGdldClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmeC5TdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBmYWlsKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGV4aXQod2lkZ2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoZG9uZSwgZmFpbCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmeCA9IG5ldyBTZW5zZW5BbmltYXRpb25FbmdpbmUoe1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBbMTAwLCAxMDBdLCB0bzogWzIwMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA0MDAsXG4gICAgICAgICAgICAgICAgICAgIGhpdDogKGludGVycG9sYXJpdHkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWRnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IGludGVycG9sYXJpdHlbMF0gLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3BhY2l0eSA9IGludGVycG9sYXJpdHlbMV0gLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke3NjYWxlfSlgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldC5zdHlsZS5vcGFjaXR5ID0gYCR7b3BhY2l0eSA+IDEgPyAxIDogb3BhY2l0eX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkb25lOiAoKSA9PiBkb25lKHdpZGdldClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmeC5TdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBmYWlsKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGV4aXRSZXZlcnNlKHdpZGdldCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKGRvbmUsIGZhaWwpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZnggPSBuZXcgU2Vuc2VuQW5pbWF0aW9uRW5naW5lKHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogWzIwMCwgMTAwXSwgdG86IFsxMDAsIDBdLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNDAwLFxuICAgICAgICAgICAgICAgICAgICBoaXQ6IChpbnRlcnBvbGFyaXR5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBpbnRlcnBvbGFyaXR5WzBdIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wYWNpdHkgPSBpbnRlcnBvbGFyaXR5WzFdIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldC5zdHlsZS50cmFuc2Zvcm0gPSBgc2NhbGUoJHtzY2FsZX0pYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXQuc3R5bGUub3BhY2l0eSA9IGAke29wYWNpdHkgPiAxID8gMSA6IG9wYWNpdHl9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZG9uZTogKCkgPT4gZG9uZSh3aWRnZXQpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZnguU3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZmFpbChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/sensen-jutsu/animation/preset.js\n");

/***/ }),

/***/ "./node_modules/sensen-jutsu/appearance.js":
/*!*************************************************!*\
  !*** ./node_modules/sensen-jutsu/appearance.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OIAppearance\": () => (/* binding */ OIAppearance),\n/* harmony export */   \"OIAppearanceProp\": () => (/* binding */ OIAppearanceProp),\n/* harmony export */   \"OIAppearanceValue\": () => (/* binding */ OIAppearanceValue),\n/* harmony export */   \"SensenAppearance\": () => (/* binding */ SensenAppearance)\n/* harmony export */ });\n/* harmony import */ var _emitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./emitter.js */ \"./node_modules/sensen-jutsu/emitter.js\");\n/* harmony import */ var _metric_random_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./metric-random.js */ \"./node_modules/sensen-jutsu/metric-random.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities.js */ \"./node_modules/sensen-jutsu/utilities.js\");\n/* harmony import */ var _pathScheme_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pathScheme.js */ \"./node_modules/sensen-jutsu/pathScheme.js\");\n\n\n\n\nclass SensenAppearance {\n    constructor(props) {\n        this.$dom = {};\n        this.$UiD = '';\n        this.$emitter = {};\n        this.props = {};\n        this.emit = {};\n        this.$refs = {};\n        this.$dom = document.createElement('style');\n        this.$UiD = this.$generateUiD();\n        this.$emitter = new _emitter_js__WEBPACK_IMPORTED_MODULE_0__.SensenEmitter();\n        this.props = props || {};\n        /** * Emit Event */\n        this.$emitter?.dispatch('construct', this);\n        this.$emitting();\n    }\n    static absorbent(txt, domain) {\n        txt = txt.toString();\n        const output = {};\n        const rexSelector = /(.*)([^{])\\s*\\{\\s*([^}]*?)\\s*}/g;\n        const matchSelectors = [...txt.matchAll(rexSelector)];\n        if (matchSelectors.length) {\n            matchSelectors.map(match => {\n                const selector = match[1];\n                const content = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.ArrayRange)(match, 2).join('').trim();\n                const rex = /(.*):(.*)[;]/g;\n                const matches = [...content.matchAll(rex)];\n                const lines = {};\n                if (matches.length) {\n                    matches.map(prop => {\n                        const key = (prop[1] || '').trim();\n                        Object.entries((0,_pathScheme_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(domain || '')).map(scheme => {\n                            prop[2] = (prop[2] || \"\").replace(new RegExp(`${scheme[0]}`, 'g'), scheme[1]);\n                        });\n                        // @ts-ignore\n                        lines[key] = prop[2];\n                    });\n                }\n                output[selector] = lines;\n            });\n        }\n        return output;\n    }\n    $generateUiD() {\n        return `${_metric_random_js__WEBPACK_IMPORTED_MODULE_1__.SensenMetricRandom.CreateAplpha(12).join('')}${_metric_random_js__WEBPACK_IMPORTED_MODULE_1__.SensenMetricRandom.Create(20).join('')}`;\n    }\n    $initialize() {\n        this.$dom.setAttribute('rel', 'StyleSheet');\n        this.$dom.setAttribute('type', 'text/css');\n        this.$dom.setAttribute('sensen-appearance', `${this.$UiD}`);\n        document.head.appendChild(this.$dom);\n        /** * Emit Event */\n        this.$emitter?.dispatch('initialized', this);\n        return this;\n    }\n    selector(selector, value) {\n        this.props[selector] = { ...value };\n        /** * Emit Event */\n        this.$emitter?.dispatch('selectorAdded', { selector, value });\n        return this;\n    }\n    selectors(appearance) {\n        const entries = Object.entries(appearance || {});\n        if (entries.length) {\n            entries.map($ => this.selector($[0], $[1]));\n        }\n        return this;\n    }\n    $emitting() {\n        /**\n         * Custom Emitter Listener : Begin\n         */\n        if (this.emit) {\n            Object.entries(this.emit).map(e => {\n                if (typeof e[1] == 'function') {\n                    const self = this;\n                    this.$emitter?.listen(e[0], function () {\n                        // @ts-ignore\n                        e[1].apply(this, [arguments[0]]);\n                    });\n                }\n            });\n        }\n        /**\n         * Custom Emitter Listener : End\n         */\n        return this;\n    }\n    render(slot) {\n        const e = document.createTextNode(slot);\n        e.textContent = slot;\n        this.$dom.appendChild(e);\n        return e;\n    }\n    mount() {\n        this.$initialize();\n        /**\n         * Building\n         */\n        if (this.props) {\n            const slot = OIAppearance(this.props);\n            slot.selectors.forEach((selector, k) => {\n                this.$refs[selector] = this.render(`.${this.$UiD}${((selector).trim().toLocaleLowerCase() == '$self')\n                    ? `` : `${selector.trim().indexOf('&') === 0 ? `${selector.trim().substring(1)}` : ` ${selector}`}`}{${slot.rows[k]}}`);\n            });\n        }\n        /** * Emit Event */\n        this.$emitter?.dispatch('mounted', this);\n        return this;\n    }\n    bind(element) {\n        element.classList.add(`${this.$UiD}`);\n        // element.setAttribute(`sensen-appareance`, `${ this.$UiD }`)\n        return this;\n    }\n}\nfunction OIAppearanceProp(prop) {\n    const mv = prop.indexOf('-vertical');\n    const mh = prop.indexOf('-horizontal');\n    if (mv > -1) {\n        const p = prop.substr(0, mv);\n        return [`${p}-top`, `${p}-bottom`];\n    }\n    else if (mh > -1) {\n        const p = prop.substr(0, mh);\n        return [`${p}-left`, `${p}-right`];\n    }\n    return [prop];\n}\nfunction OIAppearanceValue(value) {\n    switch (typeof value) {\n        case 'number':\n            return (`${value}px`);\n        case 'object':\n            if (Array.isArray(value)) {\n                return value.map(i => `${i}px`).join(' ');\n            }\n            else {\n                return Object.keys(value).map(k => `${k}{ ${value[k]} }`).join(' ');\n            }\n        case 'string':\n            return value;\n    }\n    return '';\n}\nfunction OIAppearance(entries) {\n    const rows = [];\n    const selectors = [];\n    const majRex = new RegExp(\"([A-Z])\", \"g\");\n    Object.entries(entries).forEach(entry => {\n        Object.values(entry[0].trim().split(',')).forEach(selector => {\n            selectors[selectors.length] = selector;\n            const rw = [];\n            // entry[1].reverse().map(value=>{\n            Object.entries(entry[1]).map($ => {\n                Object.values($[0].trim().split(',')).map(prop => {\n                    OIAppearanceProp((`${prop}`).replace(majRex, '-$&').toLowerCase()).forEach(p => {\n                        rw[rw.length] = `${p}:${OIAppearanceValue($[1] || '')}`;\n                    });\n                });\n            });\n            // })\n            rows[rows.length] = rw.join(';');\n        });\n    });\n    return { selectors, rows };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2Vuc2VuLWp1dHN1L2FwcGVhcmFuY2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZW5zZW4td2FwcC8uL25vZGVfbW9kdWxlcy9zZW5zZW4tanV0c3UvYXBwZWFyYW5jZS5qcz8xZWJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlbnNlbkVtaXR0ZXIgfSBmcm9tIFwiLi9lbWl0dGVyLmpzXCI7XG5pbXBvcnQgeyBTZW5zZW5NZXRyaWNSYW5kb20gfSBmcm9tIFwiLi9tZXRyaWMtcmFuZG9tLmpzXCI7XG5pbXBvcnQgeyBBcnJheVJhbmdlIH0gZnJvbSBcIi4vdXRpbGl0aWVzLmpzXCI7XG5pbXBvcnQgU2Vuc2VuVVJMU2NoZW1lIGZyb20gXCIuL3BhdGhTY2hlbWUuanNcIjtcbmV4cG9ydCBjbGFzcyBTZW5zZW5BcHBlYXJhbmNlIHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICB0aGlzLiRkb20gPSB7fTtcbiAgICAgICAgdGhpcy4kVWlEID0gJyc7XG4gICAgICAgIHRoaXMuJGVtaXR0ZXIgPSB7fTtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHt9O1xuICAgICAgICB0aGlzLmVtaXQgPSB7fTtcbiAgICAgICAgdGhpcy4kcmVmcyA9IHt9O1xuICAgICAgICB0aGlzLiRkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICB0aGlzLiRVaUQgPSB0aGlzLiRnZW5lcmF0ZVVpRCgpO1xuICAgICAgICB0aGlzLiRlbWl0dGVyID0gbmV3IFNlbnNlbkVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzIHx8IHt9O1xuICAgICAgICAvKiogKiBFbWl0IEV2ZW50ICovXG4gICAgICAgIHRoaXMuJGVtaXR0ZXI/LmRpc3BhdGNoKCdjb25zdHJ1Y3QnLCB0aGlzKTtcbiAgICAgICAgdGhpcy4kZW1pdHRpbmcoKTtcbiAgICB9XG4gICAgc3RhdGljIGFic29yYmVudCh0eHQsIGRvbWFpbikge1xuICAgICAgICB0eHQgPSB0eHQudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0ge307XG4gICAgICAgIGNvbnN0IHJleFNlbGVjdG9yID0gLyguKikoW157XSlcXHMqXFx7XFxzKihbXn1dKj8pXFxzKn0vZztcbiAgICAgICAgY29uc3QgbWF0Y2hTZWxlY3RvcnMgPSBbLi4udHh0Lm1hdGNoQWxsKHJleFNlbGVjdG9yKV07XG4gICAgICAgIGlmIChtYXRjaFNlbGVjdG9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG1hdGNoU2VsZWN0b3JzLm1hcChtYXRjaCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSBtYXRjaFsxXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gQXJyYXlSYW5nZShtYXRjaCwgMikuam9pbignJykudHJpbSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJleCA9IC8oLiopOiguKilbO10vZztcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gWy4uLmNvbnRlbnQubWF0Y2hBbGwocmV4KV07XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5tYXAocHJvcCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSAocHJvcFsxXSB8fCAnJykudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoU2Vuc2VuVVJMU2NoZW1lKGRvbWFpbiB8fCAnJykpLm1hcChzY2hlbWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BbMl0gPSAocHJvcFsyXSB8fCBcIlwiKS5yZXBsYWNlKG5ldyBSZWdFeHAoYCR7c2NoZW1lWzBdfWAsICdnJyksIHNjaGVtZVsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2tleV0gPSBwcm9wWzJdO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3V0cHV0W3NlbGVjdG9yXSA9IGxpbmVzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gICAgJGdlbmVyYXRlVWlEKCkge1xuICAgICAgICByZXR1cm4gYCR7U2Vuc2VuTWV0cmljUmFuZG9tLkNyZWF0ZUFwbHBoYSgxMikuam9pbignJyl9JHtTZW5zZW5NZXRyaWNSYW5kb20uQ3JlYXRlKDIwKS5qb2luKCcnKX1gO1xuICAgIH1cbiAgICAkaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy4kZG9tLnNldEF0dHJpYnV0ZSgncmVsJywgJ1N0eWxlU2hlZXQnKTtcbiAgICAgICAgdGhpcy4kZG9tLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpO1xuICAgICAgICB0aGlzLiRkb20uc2V0QXR0cmlidXRlKCdzZW5zZW4tYXBwZWFyYW5jZScsIGAke3RoaXMuJFVpRH1gKTtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0aGlzLiRkb20pO1xuICAgICAgICAvKiogKiBFbWl0IEV2ZW50ICovXG4gICAgICAgIHRoaXMuJGVtaXR0ZXI/LmRpc3BhdGNoKCdpbml0aWFsaXplZCcsIHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2VsZWN0b3Ioc2VsZWN0b3IsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMucHJvcHNbc2VsZWN0b3JdID0geyAuLi52YWx1ZSB9O1xuICAgICAgICAvKiogKiBFbWl0IEV2ZW50ICovXG4gICAgICAgIHRoaXMuJGVtaXR0ZXI/LmRpc3BhdGNoKCdzZWxlY3RvckFkZGVkJywgeyBzZWxlY3RvciwgdmFsdWUgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZWxlY3RvcnMoYXBwZWFyYW5jZSkge1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoYXBwZWFyYW5jZSB8fCB7fSk7XG4gICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgZW50cmllcy5tYXAoJCA9PiB0aGlzLnNlbGVjdG9yKCRbMF0sICRbMV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgJGVtaXR0aW5nKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VzdG9tIEVtaXR0ZXIgTGlzdGVuZXIgOiBCZWdpblxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuZW1pdCkge1xuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5lbWl0KS5tYXAoZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlWzFdID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXR0ZXI/Lmxpc3RlbihlWzBdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgICAgICBlWzFdLmFwcGx5KHRoaXMsIFthcmd1bWVudHNbMF1dKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1c3RvbSBFbWl0dGVyIExpc3RlbmVyIDogRW5kXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVuZGVyKHNsb3QpIHtcbiAgICAgICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHNsb3QpO1xuICAgICAgICBlLnRleHRDb250ZW50ID0gc2xvdDtcbiAgICAgICAgdGhpcy4kZG9tLmFwcGVuZENoaWxkKGUpO1xuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG4gICAgbW91bnQoKSB7XG4gICAgICAgIHRoaXMuJGluaXRpYWxpemUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1aWxkaW5nXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5wcm9wcykge1xuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IE9JQXBwZWFyYW5jZSh0aGlzLnByb3BzKTtcbiAgICAgICAgICAgIHNsb3Quc2VsZWN0b3JzLmZvckVhY2goKHNlbGVjdG9yLCBrKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy4kcmVmc1tzZWxlY3Rvcl0gPSB0aGlzLnJlbmRlcihgLiR7dGhpcy4kVWlEfSR7KChzZWxlY3RvcikudHJpbSgpLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJyRzZWxmJylcbiAgICAgICAgICAgICAgICAgICAgPyBgYCA6IGAke3NlbGVjdG9yLnRyaW0oKS5pbmRleE9mKCcmJykgPT09IDAgPyBgJHtzZWxlY3Rvci50cmltKCkuc3Vic3RyaW5nKDEpfWAgOiBgICR7c2VsZWN0b3J9YH1gfXske3Nsb3Qucm93c1trXX19YCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvKiogKiBFbWl0IEV2ZW50ICovXG4gICAgICAgIHRoaXMuJGVtaXR0ZXI/LmRpc3BhdGNoKCdtb3VudGVkJywgdGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBiaW5kKGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGAke3RoaXMuJFVpRH1gKTtcbiAgICAgICAgLy8gZWxlbWVudC5zZXRBdHRyaWJ1dGUoYHNlbnNlbi1hcHBhcmVhbmNlYCwgYCR7IHRoaXMuJFVpRCB9YClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIE9JQXBwZWFyYW5jZVByb3AocHJvcCkge1xuICAgIGNvbnN0IG12ID0gcHJvcC5pbmRleE9mKCctdmVydGljYWwnKTtcbiAgICBjb25zdCBtaCA9IHByb3AuaW5kZXhPZignLWhvcml6b250YWwnKTtcbiAgICBpZiAobXYgPiAtMSkge1xuICAgICAgICBjb25zdCBwID0gcHJvcC5zdWJzdHIoMCwgbXYpO1xuICAgICAgICByZXR1cm4gW2Ake3B9LXRvcGAsIGAke3B9LWJvdHRvbWBdO1xuICAgIH1cbiAgICBlbHNlIGlmIChtaCA+IC0xKSB7XG4gICAgICAgIGNvbnN0IHAgPSBwcm9wLnN1YnN0cigwLCBtaCk7XG4gICAgICAgIHJldHVybiBbYCR7cH0tbGVmdGAsIGAke3B9LXJpZ2h0YF07XG4gICAgfVxuICAgIHJldHVybiBbcHJvcF07XG59XG5leHBvcnQgZnVuY3Rpb24gT0lBcHBlYXJhbmNlVmFsdWUodmFsdWUpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgcmV0dXJuIChgJHt2YWx1ZX1weGApO1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm1hcChpID0+IGAke2l9cHhgKS5qb2luKCcgJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModmFsdWUpLm1hcChrID0+IGAke2t9eyAke3ZhbHVlW2tdfSB9YCkuam9pbignICcpO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG5leHBvcnQgZnVuY3Rpb24gT0lBcHBlYXJhbmNlKGVudHJpZXMpIHtcbiAgICBjb25zdCByb3dzID0gW107XG4gICAgY29uc3Qgc2VsZWN0b3JzID0gW107XG4gICAgY29uc3QgbWFqUmV4ID0gbmV3IFJlZ0V4cChcIihbQS1aXSlcIiwgXCJnXCIpO1xuICAgIE9iamVjdC5lbnRyaWVzKGVudHJpZXMpLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICBPYmplY3QudmFsdWVzKGVudHJ5WzBdLnRyaW0oKS5zcGxpdCgnLCcpKS5mb3JFYWNoKHNlbGVjdG9yID0+IHtcbiAgICAgICAgICAgIHNlbGVjdG9yc1tzZWxlY3RvcnMubGVuZ3RoXSA9IHNlbGVjdG9yO1xuICAgICAgICAgICAgY29uc3QgcncgPSBbXTtcbiAgICAgICAgICAgIC8vIGVudHJ5WzFdLnJldmVyc2UoKS5tYXAodmFsdWU9PntcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGVudHJ5WzFdKS5tYXAoJCA9PiB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcygkWzBdLnRyaW0oKS5zcGxpdCgnLCcpKS5tYXAocHJvcCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIE9JQXBwZWFyYW5jZVByb3AoKGAke3Byb3B9YCkucmVwbGFjZShtYWpSZXgsICctJCYnKS50b0xvd2VyQ2FzZSgpKS5mb3JFYWNoKHAgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcndbcncubGVuZ3RoXSA9IGAke3B9OiR7T0lBcHBlYXJhbmNlVmFsdWUoJFsxXSB8fCAnJyl9YDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIH0pXG4gICAgICAgICAgICByb3dzW3Jvd3MubGVuZ3RoXSA9IHJ3LmpvaW4oJzsnKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgc2VsZWN0b3JzLCByb3dzIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/sensen-jutsu/appearance.js\n");

/***/ }),

/***/ "./node_modules/sensen-jutsu/directive.js":
/*!************************************************!*\
  !*** ./node_modules/sensen-jutsu/directive.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CommonDirectives\": () => (/* binding */ CommonDirectives),\n/* harmony export */   \"Directives\": () => (/* binding */ Directives)\n/* harmony export */ });\nclass Directives {\n    static Define(state) {\n        this.Availables[state.name] = state;\n        return this;\n    }\n    static Merge(...directives) {\n        directives.map(directive => {\n            if (directive.name in this.Availables) {\n                throw (`WARNING ${directive.name} : You want to change the behavior of an existing attribute directive`);\n            }\n            this.Availables[directive.name] = directive;\n        });\n        return this;\n    }\n    static Retrive(key) {\n        return this.Availables[key] || null;\n    }\n    static Retrives(directive) {\n        return this.Merge(directive || {}).Availables;\n    }\n    static parseArguments({ args, component, record, event, }) {\n        if (!args) {\n            return this;\n        }\n        if (!args.length) {\n            return this;\n        }\n        /**\n         * Find Directives\n         */\n        Object.values(this.Availables || {})\n            .filter(directive => directive.type == '-attribute.argument')\n            .map(directive => {\n            args.map(arg => {\n                if (arg &&\n                    directive.expression &&\n                    arg.match(new RegExp(directive.expression, 'g'))) {\n                    directive.main({ component, record, event, args });\n                }\n            });\n        });\n        return this;\n    }\n}\nDirectives.Availables = {};\nwindow.$GlobalDirectives = window.$GlobalDirectives || Directives;\nconst CommonDirectives = window.$GlobalDirectives;\n/**\n * PreventDefault Argument\n */\nCommonDirectives.Define({\n    name: 'action.arguments',\n    type: '-attribute.argument',\n    expression: 'prevent',\n    main: ({ component, record, args, event }) => {\n        event?.preventDefault();\n    },\n});\n/**\n * StopImmediatePropagation Argument\n */\nCommonDirectives.Define({\n    name: 'action.arguments',\n    type: '-attribute.argument',\n    expression: 'stopImmediate',\n    main: ({ component, record, args, event }) => {\n        event?.stopImmediatePropagation();\n    },\n});\n/**\n * StopPropagation Argument\n */\nCommonDirectives.Define({\n    name: 'action.arguments',\n    type: '-attribute.argument',\n    expression: 'stop',\n    main: ({ component, record, args, event }) => {\n        event?.stopPropagation();\n    },\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2Vuc2VuLWp1dHN1L2RpcmVjdGl2ZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZW5zZW4td2FwcC8uL25vZGVfbW9kdWxlcy9zZW5zZW4tanV0c3UvZGlyZWN0aXZlLmpzP2I5MmYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIERpcmVjdGl2ZXMge1xuICAgIHN0YXRpYyBEZWZpbmUoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5BdmFpbGFibGVzW3N0YXRlLm5hbWVdID0gc3RhdGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzdGF0aWMgTWVyZ2UoLi4uZGlyZWN0aXZlcykge1xuICAgICAgICBkaXJlY3RpdmVzLm1hcChkaXJlY3RpdmUgPT4ge1xuICAgICAgICAgICAgaWYgKGRpcmVjdGl2ZS5uYW1lIGluIHRoaXMuQXZhaWxhYmxlcykge1xuICAgICAgICAgICAgICAgIHRocm93IChgV0FSTklORyAke2RpcmVjdGl2ZS5uYW1lfSA6IFlvdSB3YW50IHRvIGNoYW5nZSB0aGUgYmVoYXZpb3Igb2YgYW4gZXhpc3RpbmcgYXR0cmlidXRlIGRpcmVjdGl2ZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5BdmFpbGFibGVzW2RpcmVjdGl2ZS5uYW1lXSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzdGF0aWMgUmV0cml2ZShrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQXZhaWxhYmxlc1trZXldIHx8IG51bGw7XG4gICAgfVxuICAgIHN0YXRpYyBSZXRyaXZlcyhkaXJlY3RpdmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTWVyZ2UoZGlyZWN0aXZlIHx8IHt9KS5BdmFpbGFibGVzO1xuICAgIH1cbiAgICBzdGF0aWMgcGFyc2VBcmd1bWVudHMoeyBhcmdzLCBjb21wb25lbnQsIHJlY29yZCwgZXZlbnQsIH0pIHtcbiAgICAgICAgaWYgKCFhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogRmluZCBEaXJlY3RpdmVzXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QudmFsdWVzKHRoaXMuQXZhaWxhYmxlcyB8fCB7fSlcbiAgICAgICAgICAgIC5maWx0ZXIoZGlyZWN0aXZlID0+IGRpcmVjdGl2ZS50eXBlID09ICctYXR0cmlidXRlLmFyZ3VtZW50JylcbiAgICAgICAgICAgIC5tYXAoZGlyZWN0aXZlID0+IHtcbiAgICAgICAgICAgIGFyZ3MubWFwKGFyZyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZyAmJlxuICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmUuZXhwcmVzc2lvbiAmJlxuICAgICAgICAgICAgICAgICAgICBhcmcubWF0Y2gobmV3IFJlZ0V4cChkaXJlY3RpdmUuZXhwcmVzc2lvbiwgJ2cnKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLm1haW4oeyBjb21wb25lbnQsIHJlY29yZCwgZXZlbnQsIGFyZ3MgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5EaXJlY3RpdmVzLkF2YWlsYWJsZXMgPSB7fTtcbndpbmRvdy4kR2xvYmFsRGlyZWN0aXZlcyA9IHdpbmRvdy4kR2xvYmFsRGlyZWN0aXZlcyB8fCBEaXJlY3RpdmVzO1xuZXhwb3J0IGNvbnN0IENvbW1vbkRpcmVjdGl2ZXMgPSB3aW5kb3cuJEdsb2JhbERpcmVjdGl2ZXM7XG4vKipcbiAqIFByZXZlbnREZWZhdWx0IEFyZ3VtZW50XG4gKi9cbkNvbW1vbkRpcmVjdGl2ZXMuRGVmaW5lKHtcbiAgICBuYW1lOiAnYWN0aW9uLmFyZ3VtZW50cycsXG4gICAgdHlwZTogJy1hdHRyaWJ1dGUuYXJndW1lbnQnLFxuICAgIGV4cHJlc3Npb246ICdwcmV2ZW50JyxcbiAgICBtYWluOiAoeyBjb21wb25lbnQsIHJlY29yZCwgYXJncywgZXZlbnQgfSkgPT4ge1xuICAgICAgICBldmVudD8ucHJldmVudERlZmF1bHQoKTtcbiAgICB9LFxufSk7XG4vKipcbiAqIFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiBBcmd1bWVudFxuICovXG5Db21tb25EaXJlY3RpdmVzLkRlZmluZSh7XG4gICAgbmFtZTogJ2FjdGlvbi5hcmd1bWVudHMnLFxuICAgIHR5cGU6ICctYXR0cmlidXRlLmFyZ3VtZW50JyxcbiAgICBleHByZXNzaW9uOiAnc3RvcEltbWVkaWF0ZScsXG4gICAgbWFpbjogKHsgY29tcG9uZW50LCByZWNvcmQsIGFyZ3MsIGV2ZW50IH0pID0+IHtcbiAgICAgICAgZXZlbnQ/LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIH0sXG59KTtcbi8qKlxuICogU3RvcFByb3BhZ2F0aW9uIEFyZ3VtZW50XG4gKi9cbkNvbW1vbkRpcmVjdGl2ZXMuRGVmaW5lKHtcbiAgICBuYW1lOiAnYWN0aW9uLmFyZ3VtZW50cycsXG4gICAgdHlwZTogJy1hdHRyaWJ1dGUuYXJndW1lbnQnLFxuICAgIGV4cHJlc3Npb246ICdzdG9wJyxcbiAgICBtYWluOiAoeyBjb21wb25lbnQsIHJlY29yZCwgYXJncywgZXZlbnQgfSkgPT4ge1xuICAgICAgICBldmVudD8uc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSxcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/sensen-jutsu/directive.js\n");

/***/ }),

/***/ "./node_modules/sensen-jutsu/emitter.js":
/*!**********************************************!*\
  !*** ./node_modules/sensen-jutsu/emitter.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EmitterResponse\": () => (/* binding */ EmitterResponse),\n/* harmony export */   \"SensenEmitter\": () => (/* binding */ SensenEmitter)\n/* harmony export */ });\n/**\n * Sensen Event Emitter Response\n */\nfunction EmitterResponse(type, emit) {\n    return { type, emit };\n}\n/**\n * Sensen Event Emitter\n */\nclass SensenEmitter {\n    constructor() {\n        this.entries = {};\n        this.listener = [];\n        this.dispatcher = [];\n    }\n    /**\n     * Listener\n     */\n    listen(type, callback) {\n        if (this.listener.indexOf(type) == -1) {\n            this.listener[this.listener.length] = type;\n        }\n        if (typeof type == 'string' && typeof callback == 'function') {\n            this.entries[type] = this.entries[type] || [];\n            this.entries[type].push(callback);\n        }\n        return this;\n    }\n    /**\n     * Dispatcher\n     */\n    dispatch(type, args, resolve, reject) {\n        if (this.dispatcher.indexOf(type) == -1) {\n            this.dispatcher[this.dispatcher.length] = type;\n        }\n        if (typeof type == 'string') {\n            if (type in this.entries) {\n                if (this.entries[type] instanceof Array) {\n                    this.entries[type].map((entry) => {\n                        if (entry instanceof Function) {\n                            this.returned = SensenEmitter.resolveDispatcher({\n                                instance: this,\n                                type,\n                                callback: entry,\n                                args,\n                                resolve,\n                                reject,\n                            });\n                        }\n                    });\n                }\n            }\n        }\n        return this;\n    }\n    static resolveDispatcher({ instance, type, args, callback, resolve, reject, }) {\n        const $args = {\n            emit: args,\n            type,\n        };\n        const applied = callback.apply(instance, [$args]);\n        /**\n         * Promise\n         */\n        if (applied instanceof Promise) {\n            return applied.then(response => {\n                if (typeof resolve == 'function') {\n                    resolve(EmitterResponse(type, response));\n                }\n            }).catch(err => {\n                if (typeof reject == 'function') {\n                    reject(err);\n                }\n            });\n        }\n        else if (typeof applied == 'boolean') {\n            return applied;\n        }\n        else {\n            return this;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2Vuc2VuLWp1dHN1L2VtaXR0ZXIuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2Vuc2VuLXdhcHAvLi9ub2RlX21vZHVsZXMvc2Vuc2VuLWp1dHN1L2VtaXR0ZXIuanM/MjdjOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNlbnNlbiBFdmVudCBFbWl0dGVyIFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBFbWl0dGVyUmVzcG9uc2UodHlwZSwgZW1pdCkge1xuICAgIHJldHVybiB7IHR5cGUsIGVtaXQgfTtcbn1cbi8qKlxuICogU2Vuc2VuIEV2ZW50IEVtaXR0ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIFNlbnNlbkVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmVudHJpZXMgPSB7fTtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IFtdO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdGVuZXJcbiAgICAgKi9cbiAgICBsaXN0ZW4odHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMubGlzdGVuZXIuaW5kZXhPZih0eXBlKSA9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lclt0aGlzLmxpc3RlbmVyLmxlbmd0aF0gPSB0eXBlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5lbnRyaWVzW3R5cGVdID0gdGhpcy5lbnRyaWVzW3R5cGVdIHx8IFtdO1xuICAgICAgICAgICAgdGhpcy5lbnRyaWVzW3R5cGVdLnB1c2goY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVyXG4gICAgICovXG4gICAgZGlzcGF0Y2godHlwZSwgYXJncywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGlmICh0aGlzLmRpc3BhdGNoZXIuaW5kZXhPZih0eXBlKSA9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaGVyW3RoaXMuZGlzcGF0Y2hlci5sZW5ndGhdID0gdHlwZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICh0eXBlIGluIHRoaXMuZW50cmllcykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVudHJpZXNbdHlwZV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVudHJpZXNbdHlwZV0ubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5IGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJldHVybmVkID0gU2Vuc2VuRW1pdHRlci5yZXNvbHZlRGlzcGF0Y2hlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZW50cnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzdGF0aWMgcmVzb2x2ZURpc3BhdGNoZXIoeyBpbnN0YW5jZSwgdHlwZSwgYXJncywgY2FsbGJhY2ssIHJlc29sdmUsIHJlamVjdCwgfSkge1xuICAgICAgICBjb25zdCAkYXJncyA9IHtcbiAgICAgICAgICAgIGVtaXQ6IGFyZ3MsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhcHBsaWVkID0gY2FsbGJhY2suYXBwbHkoaW5zdGFuY2UsIFskYXJnc10pO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZVxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGFwcGxpZWQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwbGllZC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlc29sdmUgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKEVtaXR0ZXJSZXNwb25zZSh0eXBlLCByZXNwb25zZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZWplY3QgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXBwbGllZCA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBsaWVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/sensen-jutsu/emitter.js\n");

/***/ }),

/***/ "./node_modules/sensen-jutsu/expression.js":
/*!*************************************************!*\
  !*** ./node_modules/sensen-jutsu/expression.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FindAttributesExpression\": () => (/* binding */ FindAttributesExpression),\n/* harmony export */   \"FindDirectives\": () => (/* binding */ FindDirectives),\n/* harmony export */   \"FindGlobalExpressions\": () => (/* binding */ FindGlobalExpressions),\n/* harmony export */   \"FindStateData\": () => (/* binding */ FindStateData),\n/* harmony export */   \"StabilizeEchoExpression\": () => (/* binding */ StabilizeEchoExpression),\n/* harmony export */   \"StabilizeSnapCodeExpression\": () => (/* binding */ StabilizeSnapCodeExpression),\n/* harmony export */   \"isCompilable\": () => (/* binding */ isCompilable),\n/* harmony export */   \"isCompilableContent\": () => (/* binding */ isCompilableContent)\n/* harmony export */ });\n/* harmony import */ var _directive_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./directive.js */ \"./node_modules/sensen-jutsu/directive.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.js */ \"./node_modules/sensen-jutsu/index.js\");\n/* harmony import */ var _render_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./render.js */ \"./node_modules/sensen-jutsu/render.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utilities.js */ \"./node_modules/sensen-jutsu/utilities.js\");\n\n\n\n\n/**\n * Test node compilation\n */\nfunction isCompilableContent(content) {\n    content = `${content}`;\n    /**\n     * Check SnapCode Expression\n     */\n    if (content?.match(_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxSnapCode)) {\n        return true;\n    }\n    /**\n     * Check Echo Expression\n     */\n    else if (content?.match(_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxEcho)) {\n        return true;\n    }\n    return false;\n}\n/**\n * Test node compilation\n */\nfunction isCompilable(node) {\n    const content = node.textContent;\n    /**\n     * Check SnapCode Expression\n     */\n    if (content?.match(_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxSnapCode)) {\n        return true;\n    }\n    /**\n     * Check Echo Expression\n     */\n    else if (content?.match(_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxEcho)) {\n        return true;\n    }\n    /**\n     * Check Directive Expression\n     */\n    //     else{\n    //         const availables = CommonDirectives.Availables as TDirectives\n    //         let found = false;\n    //         if(availables){\n    //             // if(!(node instanceof HTMLElement)){\n    //             //     Object.values(availables).map(directive=>{\n    //             //         if(!found && directive.expression && content?.match(directive.expression)){\n    //             //             found = true;\n    //             //         }\n    //             //     })\n    //             // }\n    // /* \n    //             else{\n    //                 const children = node.querySelectorAll('*');\n    //                 if(children.length){\n    //                     children.forEach(child=>{\n    //                         if(found){ return;}\n    //                         Object.values(child.attributes).map(attribute=>{\n    //                             if(found){ return;}\n    //                             Object.values(availables)\n    //                             .filter(directive=>directive.type == '-attribute')\n    //                             .map(directive=>{\n    //                                 if(\n    //                                     !found && \n    //                                     directive.expression && \n    //                                     attribute.name.match(directive.expression)\n    //                                 ){\n    //                                     found = true;\n    //                                 }\n    //                             })\n    //                         })\n    //                     })\n    //                 }\n    //             }\n    //              */\n    //         }\n    //         return found;\n    //     }\n    return false;\n}\nfunction StabilizeEchoExpression(content, stop) {\n    const echos = [...(content || '').matchAll(_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxEcho)];\n    if (echos.length) {\n        echos.map(m => {\n            content = (content || '').replace(new RegExp((m[0]).replace(/[!@#$%^&*()+=\\-[\\]\\\\';,./{}|\":<>?~_]/gi, '\\\\$&'), 'gi'), \n            // new RegExp( (m[0]).replace(/[^\\w\\s]/gi, '\\\\$&') , 'gi' ), \n            `<${_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxDelimiter}=${m[1]} ${_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxDelimiter}>`);\n        });\n    }\n    else {\n        if (stop) {\n            return null;\n        }\n    }\n    return content;\n}\nfunction StabilizeSnapCodeExpression(content, stop) {\n    const echos = [...(content || '').matchAll(_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxSnapCode)];\n    if (echos.length) {\n        echos.map(m => {\n            content = (content || '').replace(new RegExp((m[0]).replace(/[!@#$%^&*()+=\\-[\\]\\\\';,./{}|\":<>?~_]/gi, '\\\\$&'), 'g'), \n            // new RegExp( (m[0]).replace(/[^\\w\\s]/gi, '\\\\$&') , 'g' ), \n            `<${_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxDelimiter}${m[1]} ${_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxDelimiter}>`);\n        });\n    }\n    else {\n        if (stop) {\n            return null;\n        }\n    }\n    return content;\n}\nfunction FindAttributesExpression(element, callback) {\n    let found = [];\n    if (element.attributes.length) {\n        Object.values(element.attributes).map(att => {\n            if (att.value?.match(_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxSnapCode) ||\n                att.value?.match(_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxEcho)) {\n                const r = {\n                    type: 'attribute',\n                    node: element,\n                    attribute: att,\n                    mockup: att.cloneNode(true),\n                    matches: [\n                        ...att.value?.matchAll(_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxSnapCode),\n                        ...att.value?.matchAll(_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxEcho),\n                    ]\n                };\n                callback(r);\n                found[found.length] = r;\n            }\n        });\n    }\n    return found;\n}\nfunction FindGlobalExpressions(element, callback) {\n    const children = element.childNodes;\n    let found = [...FindAttributesExpression(element, callback)];\n    if (children.length) {\n        for (let x = 0; x < children.length; x++) {\n            const child = children[x];\n            if (child instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement) {\n                // console.log('Find Application', child, child.$application )\n            }\n            else {\n                /**\n                 * Recherche une balise\n                 */\n                if (child instanceof Text) {\n                    if (child.textContent?.match(_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxSnapCode)) {\n                        const r = {\n                            type: 'snapcode',\n                            node: child,\n                            mockup: child.cloneNode(true),\n                            matches: [...child.textContent?.matchAll(_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxSnapCode)]\n                        };\n                        callback(r);\n                        found[found.length] = r;\n                        continue;\n                    }\n                    else if (child.textContent?.match(_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxEcho)) {\n                        const r = {\n                            type: 'echo',\n                            node: child,\n                            mockup: child.cloneNode(true),\n                            matches: [...child.textContent?.matchAll(_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxEcho)]\n                        };\n                        callback(r);\n                        found[found.length] = r;\n                        continue;\n                    }\n                }\n                else if (child instanceof HTMLElement) {\n                    if (child.attributes.length) {\n                        found = [...found, ...FindAttributesExpression(child, callback)];\n                    }\n                    if (child.innerHTML?.match(_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxSnapCode)) {\n                        const r = {\n                            type: 'snapcode',\n                            node: child,\n                            mockup: child.cloneNode(true),\n                            matches: [...child.innerHTML?.matchAll(_render_js__WEBPACK_IMPORTED_MODULE_2__.SyntaxSnapCode)]\n                        };\n                        callback(r);\n                        found[found.length] = r;\n                        continue;\n                    }\n                    else {\n                        found = [...found, ...FindGlobalExpressions(child, callback)];\n                    }\n                }\n            }\n        }\n    }\n    return found;\n}\nfunction FindStateData(component, record) {\n    if (component.$controller) {\n        let inner = '';\n        if (record.type == 'echo' || record.type == 'snapcode') {\n            inner = (record.mockup instanceof Text)\n                ? record.mockup.textContent\n                : (record.node instanceof HTMLElement\n                    ? record.node.innerHTML\n                    : '');\n        }\n        // console.log(\"To detect\", component.$controller?.state)\n        const matches = [\n            // ...(inner||'').matchAll(\n            //     new RegExp(`(${ \n            //         Object.keys( component.$controller?.state || {} ).join('|') \n            //     })`, 'g')\n            // ),\n            ...(inner || '').matchAll(new RegExp(`this\\\\.\\\\$state\\\\.(.[a-zA-Z0-9_$-]+)`, 'g')\n            // new RegExp(`this\\\\.\\\\$state\\\\.(${ \n            //     Object.keys( component.$controller?.state || {} ).join('|') \n            // })`, 'gm')\n            ),\n        ];\n        if (matches.length) {\n            matches.map(match => {\n                const slot = (`${match[1]}`).trim();\n                if (component.$stateMirrors && slot) {\n                    component.$stateMirrors[slot] = component.$stateMirrors[slot] || [];\n                    component.$stateMirrors[slot].push(record);\n                }\n            });\n            // console.warn('Find State ', component.$stateMirrors )\n        }\n    }\n}\nfunction FindDirectives(node, callback) {\n    if (node instanceof Text) {\n    }\n    else if (node instanceof HTMLElement) {\n        if (node instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement) {\n            // console.error('Stop', node)\n            return FindDirectives;\n        }\n        Object.values(node.attributes).map(att => {\n            Object.values(_directive_js__WEBPACK_IMPORTED_MODULE_0__.CommonDirectives.Availables || {})\n                .filter(directive => directive.type == '-attribute')\n                .map(directive => {\n                const matches = [...att.name.matchAll(new RegExp(`^${directive.expression}`, 'gi'))];\n                if (matches.length) {\n                    const split = att.name?.substring((directive.expression || '')?.length).split('.');\n                    const r = {\n                        node: node,\n                        name: split[0],\n                        directive,\n                        matches,\n                        attribute: att,\n                        type: 'directive',\n                        mockup: att.cloneNode(true),\n                        arguments: (0,_utilities_js__WEBPACK_IMPORTED_MODULE_3__.ArrayRange)(split, 1)\n                    };\n                    callback(r);\n                }\n            });\n        });\n        if (node.children.length) {\n            Object.values(node.children).map(child => {\n                FindDirectives(child, callback);\n            });\n        }\n    }\n    return FindDirectives;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2Vuc2VuLWp1dHN1L2V4cHJlc3Npb24uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZW5zZW4td2FwcC8uL25vZGVfbW9kdWxlcy9zZW5zZW4tanV0c3UvZXhwcmVzc2lvbi5qcz9mYzU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbW1vbkRpcmVjdGl2ZXMgfSBmcm9tIFwiLi9kaXJlY3RpdmUuanNcIjtcbmltcG9ydCB7IFNlbnNlbkVsZW1lbnQgfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgU3ludGF4RGVsaW1pdGVyLCBTeW50YXhFY2hvLCBTeW50YXhTbmFwQ29kZSB9IGZyb20gXCIuL3JlbmRlci5qc1wiO1xuaW1wb3J0IHsgQXJyYXlSYW5nZSB9IGZyb20gXCIuL3V0aWxpdGllcy5qc1wiO1xuLyoqXG4gKiBUZXN0IG5vZGUgY29tcGlsYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ29tcGlsYWJsZUNvbnRlbnQoY29udGVudCkge1xuICAgIGNvbnRlbnQgPSBgJHtjb250ZW50fWA7XG4gICAgLyoqXG4gICAgICogQ2hlY2sgU25hcENvZGUgRXhwcmVzc2lvblxuICAgICAqL1xuICAgIGlmIChjb250ZW50Py5tYXRjaChTeW50YXhTbmFwQ29kZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIEVjaG8gRXhwcmVzc2lvblxuICAgICAqL1xuICAgIGVsc2UgaWYgKGNvbnRlbnQ/Lm1hdGNoKFN5bnRheEVjaG8pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIFRlc3Qgbm9kZSBjb21waWxhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDb21waWxhYmxlKG5vZGUpIHtcbiAgICBjb25zdCBjb250ZW50ID0gbm9kZS50ZXh0Q29udGVudDtcbiAgICAvKipcbiAgICAgKiBDaGVjayBTbmFwQ29kZSBFeHByZXNzaW9uXG4gICAgICovXG4gICAgaWYgKGNvbnRlbnQ/Lm1hdGNoKFN5bnRheFNuYXBDb2RlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgRWNobyBFeHByZXNzaW9uXG4gICAgICovXG4gICAgZWxzZSBpZiAoY29udGVudD8ubWF0Y2goU3ludGF4RWNobykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIERpcmVjdGl2ZSBFeHByZXNzaW9uXG4gICAgICovXG4gICAgLy8gICAgIGVsc2V7XG4gICAgLy8gICAgICAgICBjb25zdCBhdmFpbGFibGVzID0gQ29tbW9uRGlyZWN0aXZlcy5BdmFpbGFibGVzIGFzIFREaXJlY3RpdmVzXG4gICAgLy8gICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAvLyAgICAgICAgIGlmKGF2YWlsYWJsZXMpe1xuICAgIC8vICAgICAgICAgICAgIC8vIGlmKCEobm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSl7XG4gICAgLy8gICAgICAgICAgICAgLy8gICAgIE9iamVjdC52YWx1ZXMoYXZhaWxhYmxlcykubWFwKGRpcmVjdGl2ZT0+e1xuICAgIC8vICAgICAgICAgICAgIC8vICAgICAgICAgaWYoIWZvdW5kICYmIGRpcmVjdGl2ZS5leHByZXNzaW9uICYmIGNvbnRlbnQ/Lm1hdGNoKGRpcmVjdGl2ZS5leHByZXNzaW9uKSl7XG4gICAgLy8gICAgICAgICAgICAgLy8gICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgIC8vICAgICAgICAgICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICAgICAgICAgIC8vICAgICB9KVxuICAgIC8vICAgICAgICAgICAgIC8vIH1cbiAgICAvLyAvKiBcbiAgICAvLyAgICAgICAgICAgICBlbHNle1xuICAgIC8vICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IG5vZGUucXVlcnlTZWxlY3RvckFsbCgnKicpO1xuICAgIC8vICAgICAgICAgICAgICAgICBpZihjaGlsZHJlbi5sZW5ndGgpe1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChjaGlsZD0+e1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZvdW5kKXsgcmV0dXJuO31cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKGNoaWxkLmF0dHJpYnV0ZXMpLm1hcChhdHRyaWJ1dGU9PntcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZm91bmQpeyByZXR1cm47fVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKGF2YWlsYWJsZXMpXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZGlyZWN0aXZlPT5kaXJlY3RpdmUudHlwZSA9PSAnLWF0dHJpYnV0ZScpXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZGlyZWN0aXZlPT57XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhZm91bmQgJiYgXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLmV4cHJlc3Npb24gJiYgXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLm5hbWUubWF0Y2goZGlyZWN0aXZlLmV4cHJlc3Npb24pXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApe1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgICAgICAgKi9cbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIHJldHVybiBmb3VuZDtcbiAgICAvLyAgICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBTdGFiaWxpemVFY2hvRXhwcmVzc2lvbihjb250ZW50LCBzdG9wKSB7XG4gICAgY29uc3QgZWNob3MgPSBbLi4uKGNvbnRlbnQgfHwgJycpLm1hdGNoQWxsKFN5bnRheEVjaG8pXTtcbiAgICBpZiAoZWNob3MubGVuZ3RoKSB7XG4gICAgICAgIGVjaG9zLm1hcChtID0+IHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSAoY29udGVudCB8fCAnJykucmVwbGFjZShuZXcgUmVnRXhwKChtWzBdKS5yZXBsYWNlKC9bIUAjJCVeJiooKSs9XFwtW1xcXVxcXFwnOywuL3t9fFwiOjw+P35fXS9naSwgJ1xcXFwkJicpLCAnZ2knKSwgXG4gICAgICAgICAgICAvLyBuZXcgUmVnRXhwKCAobVswXSkucmVwbGFjZSgvW15cXHdcXHNdL2dpLCAnXFxcXCQmJykgLCAnZ2knICksIFxuICAgICAgICAgICAgYDwke1N5bnRheERlbGltaXRlcn09JHttWzFdfSAke1N5bnRheERlbGltaXRlcn0+YCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHN0b3ApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50O1xufVxuZXhwb3J0IGZ1bmN0aW9uIFN0YWJpbGl6ZVNuYXBDb2RlRXhwcmVzc2lvbihjb250ZW50LCBzdG9wKSB7XG4gICAgY29uc3QgZWNob3MgPSBbLi4uKGNvbnRlbnQgfHwgJycpLm1hdGNoQWxsKFN5bnRheFNuYXBDb2RlKV07XG4gICAgaWYgKGVjaG9zLmxlbmd0aCkge1xuICAgICAgICBlY2hvcy5tYXAobSA9PiB7XG4gICAgICAgICAgICBjb250ZW50ID0gKGNvbnRlbnQgfHwgJycpLnJlcGxhY2UobmV3IFJlZ0V4cCgobVswXSkucmVwbGFjZSgvWyFAIyQlXiYqKCkrPVxcLVtcXF1cXFxcJzssLi97fXxcIjo8Pj9+X10vZ2ksICdcXFxcJCYnKSwgJ2cnKSwgXG4gICAgICAgICAgICAvLyBuZXcgUmVnRXhwKCAobVswXSkucmVwbGFjZSgvW15cXHdcXHNdL2dpLCAnXFxcXCQmJykgLCAnZycgKSwgXG4gICAgICAgICAgICBgPCR7U3ludGF4RGVsaW1pdGVyfSR7bVsxXX0gJHtTeW50YXhEZWxpbWl0ZXJ9PmApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChzdG9wKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29udGVudDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBGaW5kQXR0cmlidXRlc0V4cHJlc3Npb24oZWxlbWVudCwgY2FsbGJhY2spIHtcbiAgICBsZXQgZm91bmQgPSBbXTtcbiAgICBpZiAoZWxlbWVudC5hdHRyaWJ1dGVzLmxlbmd0aCkge1xuICAgICAgICBPYmplY3QudmFsdWVzKGVsZW1lbnQuYXR0cmlidXRlcykubWFwKGF0dCA9PiB7XG4gICAgICAgICAgICBpZiAoYXR0LnZhbHVlPy5tYXRjaChTeW50YXhTbmFwQ29kZSkgfHxcbiAgICAgICAgICAgICAgICBhdHQudmFsdWU/Lm1hdGNoKFN5bnRheEVjaG8pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2F0dHJpYnV0ZScsXG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogYXR0LFxuICAgICAgICAgICAgICAgICAgICBtb2NrdXA6IGF0dC5jbG9uZU5vZGUodHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmF0dC52YWx1ZT8ubWF0Y2hBbGwoU3ludGF4U25hcENvZGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uYXR0LnZhbHVlPy5tYXRjaEFsbChTeW50YXhFY2hvKSxcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2FsbGJhY2socik7XG4gICAgICAgICAgICAgICAgZm91bmRbZm91bmQubGVuZ3RoXSA9IHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZm91bmQ7XG59XG5leHBvcnQgZnVuY3Rpb24gRmluZEdsb2JhbEV4cHJlc3Npb25zKGVsZW1lbnQsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBlbGVtZW50LmNoaWxkTm9kZXM7XG4gICAgbGV0IGZvdW5kID0gWy4uLkZpbmRBdHRyaWJ1dGVzRXhwcmVzc2lvbihlbGVtZW50LCBjYWxsYmFjayldO1xuICAgIGlmIChjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBjaGlsZHJlbi5sZW5ndGg7IHgrKykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlblt4XTtcbiAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnRmluZCBBcHBsaWNhdGlvbicsIGNoaWxkLCBjaGlsZC4kYXBwbGljYXRpb24gKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmVjaGVyY2hlIHVuZSBiYWxpc2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC50ZXh0Q29udGVudD8ubWF0Y2goU3ludGF4U25hcENvZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzbmFwY29kZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogY2hpbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ja3VwOiBjaGlsZC5jbG9uZU5vZGUodHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlczogWy4uLmNoaWxkLnRleHRDb250ZW50Py5tYXRjaEFsbChTeW50YXhTbmFwQ29kZSldXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socik7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZFtmb3VuZC5sZW5ndGhdID0gcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLnRleHRDb250ZW50Py5tYXRjaChTeW50YXhFY2hvKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZWNobycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogY2hpbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ja3VwOiBjaGlsZC5jbG9uZU5vZGUodHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlczogWy4uLmNoaWxkLnRleHRDb250ZW50Py5tYXRjaEFsbChTeW50YXhFY2hvKV1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kW2ZvdW5kLmxlbmd0aF0gPSByO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQuYXR0cmlidXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gWy4uLmZvdW5kLCAuLi5GaW5kQXR0cmlidXRlc0V4cHJlc3Npb24oY2hpbGQsIGNhbGxiYWNrKV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLmlubmVySFRNTD8ubWF0Y2goU3ludGF4U25hcENvZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzbmFwY29kZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogY2hpbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9ja3VwOiBjaGlsZC5jbG9uZU5vZGUodHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlczogWy4uLmNoaWxkLmlubmVySFRNTD8ubWF0Y2hBbGwoU3ludGF4U25hcENvZGUpXVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRbZm91bmQubGVuZ3RoXSA9IHI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gWy4uLmZvdW5kLCAuLi5GaW5kR2xvYmFsRXhwcmVzc2lvbnMoY2hpbGQsIGNhbGxiYWNrKV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xufVxuZXhwb3J0IGZ1bmN0aW9uIEZpbmRTdGF0ZURhdGEoY29tcG9uZW50LCByZWNvcmQpIHtcbiAgICBpZiAoY29tcG9uZW50LiRjb250cm9sbGVyKSB7XG4gICAgICAgIGxldCBpbm5lciA9ICcnO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT0gJ2VjaG8nIHx8IHJlY29yZC50eXBlID09ICdzbmFwY29kZScpIHtcbiAgICAgICAgICAgIGlubmVyID0gKHJlY29yZC5tb2NrdXAgaW5zdGFuY2VvZiBUZXh0KVxuICAgICAgICAgICAgICAgID8gcmVjb3JkLm1vY2t1cC50ZXh0Q29udGVudFxuICAgICAgICAgICAgICAgIDogKHJlY29yZC5ub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgPyByZWNvcmQubm9kZS5pbm5lckhUTUxcbiAgICAgICAgICAgICAgICAgICAgOiAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJUbyBkZXRlY3RcIiwgY29tcG9uZW50LiRjb250cm9sbGVyPy5zdGF0ZSlcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IFtcbiAgICAgICAgICAgIC8vIC4uLihpbm5lcnx8JycpLm1hdGNoQWxsKFxuICAgICAgICAgICAgLy8gICAgIG5ldyBSZWdFeHAoYCgkeyBcbiAgICAgICAgICAgIC8vICAgICAgICAgT2JqZWN0LmtleXMoIGNvbXBvbmVudC4kY29udHJvbGxlcj8uc3RhdGUgfHwge30gKS5qb2luKCd8JykgXG4gICAgICAgICAgICAvLyAgICAgfSlgLCAnZycpXG4gICAgICAgICAgICAvLyApLFxuICAgICAgICAgICAgLi4uKGlubmVyIHx8ICcnKS5tYXRjaEFsbChuZXcgUmVnRXhwKGB0aGlzXFxcXC5cXFxcJHN0YXRlXFxcXC4oLlthLXpBLVowLTlfJC1dKylgLCAnZycpXG4gICAgICAgICAgICAvLyBuZXcgUmVnRXhwKGB0aGlzXFxcXC5cXFxcJHN0YXRlXFxcXC4oJHsgXG4gICAgICAgICAgICAvLyAgICAgT2JqZWN0LmtleXMoIGNvbXBvbmVudC4kY29udHJvbGxlcj8uc3RhdGUgfHwge30gKS5qb2luKCd8JykgXG4gICAgICAgICAgICAvLyB9KWAsICdnbScpXG4gICAgICAgICAgICApLFxuICAgICAgICBdO1xuICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG1hdGNoZXMubWFwKG1hdGNoID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzbG90ID0gKGAke21hdGNoWzFdfWApLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50LiRzdGF0ZU1pcnJvcnMgJiYgc2xvdCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuJHN0YXRlTWlycm9yc1tzbG90XSA9IGNvbXBvbmVudC4kc3RhdGVNaXJyb3JzW3Nsb3RdIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuJHN0YXRlTWlycm9yc1tzbG90XS5wdXNoKHJlY29yZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oJ0ZpbmQgU3RhdGUgJywgY29tcG9uZW50LiRzdGF0ZU1pcnJvcnMgKVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIEZpbmREaXJlY3RpdmVzKG5vZGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQpIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoJ1N0b3AnLCBub2RlKVxuICAgICAgICAgICAgcmV0dXJuIEZpbmREaXJlY3RpdmVzO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC52YWx1ZXMobm9kZS5hdHRyaWJ1dGVzKS5tYXAoYXR0ID0+IHtcbiAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoQ29tbW9uRGlyZWN0aXZlcy5BdmFpbGFibGVzIHx8IHt9KVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZGlyZWN0aXZlID0+IGRpcmVjdGl2ZS50eXBlID09ICctYXR0cmlidXRlJylcbiAgICAgICAgICAgICAgICAubWFwKGRpcmVjdGl2ZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IFsuLi5hdHQubmFtZS5tYXRjaEFsbChuZXcgUmVnRXhwKGBeJHtkaXJlY3RpdmUuZXhwcmVzc2lvbn1gLCAnZ2knKSldO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGxpdCA9IGF0dC5uYW1lPy5zdWJzdHJpbmcoKGRpcmVjdGl2ZS5leHByZXNzaW9uIHx8ICcnKT8ubGVuZ3RoKS5zcGxpdCgnLicpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNwbGl0WzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogYXR0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpcmVjdGl2ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2NrdXA6IGF0dC5jbG9uZU5vZGUodHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IEFycmF5UmFuZ2Uoc3BsaXQsIDEpXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICBPYmplY3QudmFsdWVzKG5vZGUuY2hpbGRyZW4pLm1hcChjaGlsZCA9PiB7XG4gICAgICAgICAgICAgICAgRmluZERpcmVjdGl2ZXMoY2hpbGQsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBGaW5kRGlyZWN0aXZlcztcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/sensen-jutsu/expression.js\n");

/***/ }),

/***/ "./node_modules/sensen-jutsu/index.js":
/*!********************************************!*\
  !*** ./node_modules/sensen-jutsu/index.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"$Activity\": () => (/* binding */ $Activity),\n/* harmony export */   \"$Component\": () => (/* binding */ $Component),\n/* harmony export */   \"$ParseObjectEntries\": () => (/* binding */ $ParseObjectEntries),\n/* harmony export */   \"$ParseObjectKeys\": () => (/* binding */ $ParseObjectKeys),\n/* harmony export */   \"$ParseObjectValues\": () => (/* binding */ $ParseObjectValues),\n/* harmony export */   \"$Plugin\": () => (/* binding */ $Plugin),\n/* harmony export */   \"$ReadObjectEntries\": () => (/* binding */ $ReadObjectEntries),\n/* harmony export */   \"$ReadObjectKeys\": () => (/* binding */ $ReadObjectKeys),\n/* harmony export */   \"$ReadObjectValues\": () => (/* binding */ $ReadObjectValues),\n/* harmony export */   \"$Until\": () => (/* binding */ $Until),\n/* harmony export */   \"Component\": () => (/* binding */ Component),\n/* harmony export */   \"CreateComponentMethodEvent\": () => (/* binding */ CreateComponentMethodEvent),\n/* harmony export */   \"Jutsu\": () => (/* binding */ Jutsu),\n/* harmony export */   \"KuchiyoceElement\": () => (/* binding */ KuchiyoceElement),\n/* harmony export */   \"RawComponent\": () => (/* binding */ RawComponent),\n/* harmony export */   \"Sensen\": () => (/* binding */ Sensen),\n/* harmony export */   \"SensenElement\": () => (/* binding */ SensenElement)\n/* harmony export */ });\n/* harmony import */ var _appearance_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./appearance.js */ \"./node_modules/sensen-jutsu/appearance.js\");\n/* harmony import */ var _directive_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./directive.js */ \"./node_modules/sensen-jutsu/directive.js\");\n/* harmony import */ var _emitter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./emitter.js */ \"./node_modules/sensen-jutsu/emitter.js\");\n/* harmony import */ var _expression_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./expression.js */ \"./node_modules/sensen-jutsu/expression.js\");\n/* harmony import */ var _render_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./render.js */ \"./node_modules/sensen-jutsu/render.js\");\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./router.js */ \"./node_modules/sensen-jutsu/router.js\");\n/* harmony import */ var _state_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./state.js */ \"./node_modules/sensen-jutsu/state.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utilities.js */ \"./node_modules/sensen-jutsu/utilities.js\");\nvar __classPrivateFieldGet = (undefined && undefined.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _SensenElement_instances, _SensenElement_connectedProtocol;\n\n\n\n\n\n\n\n\nwindow.$SensenComponents = window.$SensenComponents || {};\nwindow.$SensenRouter = window.$SensenRouter || {};\n/**\n * Sensen Component\n */\nfunction RawComponent($, config) {\n    const $initial = { ...($ || {}) };\n    $initial.state = { ...$initial.state };\n    return class extends SensenElement {\n        constructor($state = {}) {\n            super($state);\n            this.$observations = {};\n            this.$state = {};\n            this.$emitter = new _emitter_js__WEBPACK_IMPORTED_MODULE_2__.SensenEmitter();\n            this.$tnamespace = config?.namespace?.prefix || \"sense\";\n            this.$anamespace = config?.namespace?.attribute || \"state\";\n            this.$controller = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_7__.CloneObject)($initial, true);\n            this.$methods = this.$controller.methods || {};\n            this.$state = Object.assign({}, { ...(this.$controller.state || {}), ...($state || {}) });\n            this.$stateMirrors = this.$stateMirrors || {};\n            this.$stateHydrates = new _state_js__WEBPACK_IMPORTED_MODULE_6__.SensenState(this.$state);\n            this.$state = this.$stateHydrates.state;\n            this.$appearance = new _appearance_js__WEBPACK_IMPORTED_MODULE_0__.SensenAppearance(this.$controller.appearance);\n            this.$appearance.mount().bind(this);\n            this.$hydrators();\n            this.$construct();\n        }\n        static $using($state) {\n            return new this($state);\n        }\n        $construct() {\n            this.$emitter.listen('begin', ({ emit, type }) => {\n                // emit.style.display = 'none';\n            });\n            this.$emitter.listen('done', ({ emit, type }) => {\n                // emit.style.removeProperty('display');\n            });\n            if (this.$controller?.construct) {\n                this.$controller?.construct({\n                    element: this,\n                    router: this.$application?.$router,\n                    children: this.children,\n                    state: this.$state || {},\n                });\n            }\n            return this;\n        }\n        $hydrators() {\n            this.$stateHydrates = new _state_js__WEBPACK_IMPORTED_MODULE_6__.SensenState(this.$state);\n            this.$stateHydrates.$emitter\n                .listen('hydrates', ({ emit }) => {\n                if (this.$stateMirrors && this.$stateMirrors[emit.slot]) {\n                    if (this.$controller?.state) {\n                        this.$controller.state[emit.slot] = this.$state[emit.slot];\n                        const records = this.$stateMirrors[emit.slot];\n                        if (records.length) {\n                            this.$emitter.dispatch('hydrates', records);\n                            records.map(record => {\n                                this.$compilateRecord(record);\n                                this.$emitter.dispatch('hydrate', record);\n                            });\n                        }\n                    }\n                }\n            });\n            return this;\n        }\n        $willMount(args) {\n            this.$emitter.dispatch('connected', this);\n            return this.$controller?.mount ? this.$controller?.mount({\n                element: this,\n                router: this.$application?.$router,\n                children: this.children,\n                state: this.$state || {},\n            }) : undefined;\n        }\n        $willUnMount(args) {\n            this.$emitter.dispatch('disconnected', this);\n            return this.$controller?.unmount ? this.$controller?.unmount({\n                element: this,\n                router: this.$application?.$router,\n                children: this.children,\n                state: this.$state || {},\n            }) : undefined;\n        }\n        $willAdopted(args) {\n            this.$emitter.dispatch('adopted', this);\n            return this.$controller?.adopted ? this.$controller?.adopted({\n                element: this,\n                router: this.$application?.$router,\n                // router: window.$SensenRouter,\n                children: this.children,\n                state: this.$state || {},\n            }) : undefined;\n        }\n        $render(state) {\n            const _state = (state || this.$state);\n            const render = this.$controller?.render({\n                element: this,\n                router: this.$application?.$router,\n                // router: window.$SensenRouter,\n                children: this.children,\n                state: _state || {},\n            });\n            this.$setStates(_state);\n            if (typeof render == 'string') {\n                this.innerHTML = `${render}`;\n            }\n            else if (!render) {\n                if (this.innerHTML) {\n                    this.innerHTML = `${this.innerHTML}`;\n                }\n            }\n            else {\n                if (render instanceof HTMLElement) {\n                    this.appendChild(render);\n                }\n            }\n            this.$emitter.dispatch('done', this);\n            return render;\n        }\n    };\n}\nfunction Component($) {\n    const config = {\n        namespace: {\n            prefix: 'sense',\n            attribute: 'state'\n        }\n    };\n    const index = `sense-${$.name}`;\n    window.$SensenComponents[index] = RawComponent($, config);\n    SensenElement.$use('sense', $.name, window.$SensenComponents[index]);\n    return window.$SensenComponents[index];\n}\n/**\n * Sensen Element\n */\nclass SensenElement extends HTMLElement {\n    constructor($state) {\n        super();\n        this.$state = $state;\n        _SensenElement_instances.add(this);\n        this.$showing = false;\n        this.$inTransition = false;\n        // new( $props : Props ) : this\n        this.$observations = {};\n        // $appearance ?: SensenAppearance\n        this.$methods = {};\n        // this.$appearance = new SensenAppearance();\n        this.$emitter = new _emitter_js__WEBPACK_IMPORTED_MODULE_2__.SensenEmitter();\n        this.$tnamespace = `${this.$tnamespace || 'sense'}-`;\n        this.$anamespace = `${this.$anamespace || 'state'}:`;\n        this.$stateMirrors = {};\n    }\n    $willMount(args) { }\n    $willUnMount(args) { }\n    $willAdopted(args) { }\n    $mountManipulation(method, callback) {\n        this.mountResponseResolved = undefined;\n        this.mountResponseRejected = undefined;\n        if (method in this && typeof this[method] == 'function') {\n            this.mountResponseResolved = (this[method] || (() => { })).apply(this, [null]);\n            if (this.mountResponseResolved instanceof Promise) {\n                this.mountResponseResolved\n                    .then(r => this.mountResponseResolved = r)\n                    .catch(er => {\n                    this.mountResponseRejected = er;\n                    console.error(`Sensen Component mount failed\\n`, er);\n                })\n                    .finally(() => callback());\n            }\n            else {\n                callback();\n            }\n        }\n        else {\n            callback();\n        }\n        return this;\n    }\n    connectedCallback() {\n        // console.warn('Props', `${ JSON.stringify(this.$props) }`)\n        // console.warn('Props->', `${ JSON.stringify(this.getAttribute('prop:world')) }`)\n        // this.$router = this.$application?.$router || undefined;\n        this.$mountManipulation('$willMount', () => { __classPrivateFieldGet(this, _SensenElement_instances, \"m\", _SensenElement_connectedProtocol).call(this); });\n    }\n    adoptedCallback() {\n        this.$mountManipulation('$willAdopted', () => { });\n    }\n    disconnectedCallback() {\n        this.$mountManipulation('$willUnMount', () => { });\n        // this.$showing = false\n    }\n    $setSafeProps(value) {\n        let $value = value;\n        switch (typeof value) {\n            case 'object':\n                if (Array.isArray(value)) {\n                    $value = `[ ${value.map(i => `\"${i}\"`).join(',')} ]`;\n                }\n                $value = JSON.stringify(value);\n                break;\n            default:\n                $value = `${value}`;\n                break;\n        }\n        // if(typeof $value == 'string'){\n        //     if($value.match(SyntaxSnapCode) || $value.match(SyntaxEcho)){\n        //         try{\n        //             SensenRawRender(\n        //                 $value, \n        //                 this.$parentComponent instanceof SensenElement ? this.$parentComponent.$state : this.$state, \n        //                 this.$parentComponent  instanceof SensenElement ? this.$parentComponent : this\n        //             ).then(compilate=>{\n        //                 console.log('Compilated', compilate )\n        //             })\n        //         }catch(e){\n        //         }\n        //     }\n        // }\n        // console.log('Change Attribute', value, );\n        return $value;\n    }\n    $unsetSafeProps(value) {\n        let output = value;\n        try {\n            const obj = JSON.parse(value);\n            if (typeof obj == 'object') {\n                output = obj;\n            }\n        }\n        catch (e) { }\n        return output;\n    }\n    $destroy(moment = true) {\n        return new Promise((resolved) => {\n            const callback = () => {\n                // this.style.display = 'none';\n                // this.innerHTML = ''\n                resolved(this);\n                this.$emitter.dispatch('destroy', this);\n                this.$inTransition = false;\n                // this.$showing = false\n            };\n            if (!this.$inTransition && this.$controller?.transition && 'ondestroy' in this.$controller.transition) {\n                this.$inTransition = true;\n                if (this.$controller.transition.ondestroy &&\n                    ('exit' in this.$controller.transition.ondestroy || 'exitReverse' in this.$controller.transition.ondestroy)) {\n                    if (moment === true && typeof this.$controller.transition.ondestroy.exit == 'function') {\n                        const $display = getComputedStyle(this).display || 'inline';\n                        if ($display.match(/inline/)) {\n                            this.style.display = 'block';\n                        }\n                        this.$controller.transition.ondestroy.exit(this)\n                            .then(done => callback());\n                    }\n                    else if (moment === false && typeof this.$controller.transition.ondestroy.exitReverse == 'function') {\n                        const $display = getComputedStyle(this).display || 'inline';\n                        if ($display.match(/inline/)) {\n                            this.style.display = 'block';\n                        }\n                        this.$controller.transition.ondestroy.exitReverse(this)\n                            .then(done => callback());\n                    }\n                    else {\n                        callback();\n                    }\n                }\n                else {\n                    callback();\n                }\n            }\n            else {\n                this.$inTransition = true;\n                callback();\n            }\n        });\n    }\n    $build(moment = true, host) {\n        return new Promise((resolved) => {\n            const hosted = (host instanceof HTMLElement) ? host.appendChild(this) : false;\n            const callback = () => {\n                // this.style.removeProperty('display');\n                resolved(this);\n                this.$emitter.dispatch('build', this);\n                this.$inTransition = false;\n                // this.$showing = true\n            };\n            if (!this.$inTransition && this.$controller?.transition && 'onbuild' in this.$controller.transition) {\n                this.$inTransition = true;\n                if (this.$controller.transition.onbuild &&\n                    ('entry' in this.$controller.transition.onbuild || 'entryReverse' in this.$controller.transition.onbuild)) {\n                    // const $display = getComputedStyle(this).display || 'inline'; \n                    // if($display.match(/inline/)){ this.style.display = 'block'; }\n                    if (moment === true && typeof this.$controller.transition.onbuild.entry == 'function') {\n                        this.$controller.transition.onbuild.entry(this)\n                            .then(done => callback());\n                    }\n                    else if (moment === false && typeof this.$controller.transition.onbuild.entryReverse == 'function') {\n                        this.$controller.transition.onbuild.entryReverse(this)\n                            .then(done => callback());\n                    }\n                    else {\n                        callback();\n                    }\n                }\n                else {\n                    callback();\n                }\n            }\n            else {\n                this.$inTransition = true;\n                callback();\n            }\n        });\n    }\n    $initialize(state) {\n        return this;\n    }\n    $render(state) {\n        throw (`Sensen Element : Any \"$render\" method detected`);\n    }\n    $listeners() {\n        if (this instanceof KuchiyoceElement) {\n            this.$emitter.listen('contentChanges', ({ emit }) => {\n                if (emit.target instanceof SensenElement &&\n                    this instanceof KuchiyoceElement) {\n                    // emit.target.$syncProps()\n                    emit.target.$compilate();\n                    this.$bewitchment(emit.target);\n                }\n            });\n        }\n        if (!(this instanceof KuchiyoceElement)) {\n            this.$emitter.listen('contentChanges', ({ emit }) => {\n                if (!(emit.target instanceof KuchiyoceElement)) {\n                    if (emit.target instanceof SensenElement) {\n                        // emit.target.$syncProps()\n                        emit.target.$compilate();\n                    }\n                }\n            });\n        }\n        return this;\n    }\n    $compilateDirectives(node) {\n        (0,_expression_js__WEBPACK_IMPORTED_MODULE_3__.FindDirectives)(node, (record) => {\n            // // @ts-ignore\n            // record.node.$parentComponent = this;\n            (0,_expression_js__WEBPACK_IMPORTED_MODULE_3__.FindStateData)(this, record);\n            // console.log('Build Directive', record.node )\n            this.$compilateRecord(record);\n        });\n        return this;\n    }\n    $compilateRecord(record) {\n        if (record.type == 'attribute') {\n            if (record.node instanceof SensenElement) {\n                record.node.$setStates();\n                return this;\n            }\n            (0,_render_js__WEBPACK_IMPORTED_MODULE_4__.SensenDataRender)((record.attribute ? record.attribute.value || ''\n                : (record.mockup ? record.mockup.nodeValue || '' : '')), (record.node instanceof SensenElement && record.node.$parentComponent instanceof SensenElement)\n                ? record.node.$parentComponent\n                : this, (record.node instanceof SensenElement && record.node.$parentComponent instanceof SensenElement)\n                ? (record.node.$parentComponent.$controller || {})\n                : (this.$controller || {}), record).then(compilate => {\n                if (record.node instanceof HTMLElement) {\n                    record.node.setAttribute(`${record.attribute?.name}`, `${compilate}`);\n                }\n            });\n        }\n        else if (record.type == 'echo' || record.type == 'snapcode') {\n            // console.warn('$Props', `${ this.$props.world }`, record.node, this.$controller?.props?.world )\n            (0,_render_js__WEBPACK_IMPORTED_MODULE_4__.SensenNodeRender)(record.mockup || record.node, this, this.$controller || {}, record).then(compilate => {\n                if (record.node instanceof Text) {\n                    record.node.textContent = `${(0,_utilities_js__WEBPACK_IMPORTED_MODULE_7__.decodeHTMLEntities)(compilate)}`;\n                }\n                else if (record.node instanceof HTMLElement) {\n                    record.node.innerHTML = `${(compilate)}`;\n                }\n            });\n        }\n        else if (record.type == 'directive') {\n            if (!('directive' in record)) {\n                throw (`Corrupted directive : not found`);\n            }\n            if (typeof record.directive?.main != 'function') {\n                throw (`Corrupted directive : < ${record.directive?.name} >`);\n            }\n            record.directive.main({\n                component: (0,_utilities_js__WEBPACK_IMPORTED_MODULE_7__.FindParental)(record.node, c => c instanceof SensenElement) || this,\n                record\n            });\n        }\n        return this;\n    }\n    $compilate() {\n        const expressions = (0,_expression_js__WEBPACK_IMPORTED_MODULE_3__.FindGlobalExpressions)(this, (record) => {\n            /** * Find State var */\n            (0,_expression_js__WEBPACK_IMPORTED_MODULE_3__.FindStateData)(this, record);\n            this.$compilateRecord(record);\n        });\n        // if(expressions.length){\n        //     expressions.map(child=>{\n        //     })\n        // }\n        this.$setStates();\n        if (this.childNodes) {\n            Object.values(this.childNodes).map(child => {\n                if (!(child instanceof SensenElement)) {\n                    this.$compilateDirectives(child);\n                }\n            });\n        }\n        return this;\n    }\n    $observers() {\n        if (this.$observations instanceof MutationObserver) {\n            this.$observations.disconnect();\n        }\n        this.$observations = new MutationObserver((records) => {\n            if (records) {\n                this.$emitter.dispatch('changes', [records]);\n                if (records.length) {\n                    records.map(record => {\n                        switch (record.type) {\n                            case 'attributes':\n                                if (record.attributeName) {\n                                    const check = record.attributeName.match(new RegExp(`${this.$anamespace}:`, 'g'));\n                                    const value = this.getAttribute(record.attributeName);\n                                    if (check && this.$anamespace) {\n                                        const slot = record.attributeName.toLowerCase().substring(this.$anamespace.length + 1);\n                                        if (slot) {\n                                            const $ = {};\n                                            $[slot] = value;\n                                            this.$setStates($);\n                                        }\n                                    }\n                                    this.$emitter.dispatch('propChange', {\n                                        old: record.oldValue,\n                                        value: this.getAttribute(record.attributeName),\n                                        name: record.attributeName,\n                                    });\n                                }\n                                break;\n                            case 'characterData':\n                            case 'childList':\n                                // console.log('target Observed', record.target )\n                                if (record.target instanceof SensenElement) {\n                                    record.target.$application = this.$application;\n                                }\n                                record.addedNodes.forEach(child => {\n                                    if (child instanceof SensenElement) {\n                                        child.$application = this.$application;\n                                        child.$parentComponent = this;\n                                    }\n                                    else if (child instanceof HTMLElement && !(child instanceof SensenElement)) {\n                                        this.$compilateDirectives(child);\n                                    }\n                                    this.$emitter.dispatch('addedChild', child);\n                                });\n                                record.removedNodes.forEach(child => {\n                                    this.$emitter.dispatch('removedChild', child);\n                                });\n                                this.$emitter.dispatch('contentChanges', record);\n                                break;\n                        }\n                        if (record.target instanceof HTMLElement) {\n                            record.target.querySelectorAll('*').forEach(target => {\n                                if (target instanceof HTMLElement) {\n                                    target.$parentComponent = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_7__.FindParental)(record.target, c => c instanceof SensenElement) || this;\n                                }\n                            });\n                        }\n                    });\n                    this.$emitter.dispatch('changesDone', records);\n                }\n            }\n        });\n        this.$observations.observe(this, {\n            subtree: true,\n            childList: true,\n            characterData: true,\n            attributes: true,\n            // attributeFilter: Object.entries(this.$state || {})\n            //     .map($=>`${ this.$anamespace }${ $[0] }`)\n        });\n        return this;\n    }\n    $setStates(state) {\n        // const $state = (state || {}) as State;\n        return new Promise((resolved) => {\n            const promises = [];\n            const defaultState = { ...this.$controller?.state, /* ...(state||{})  */ };\n            const fn = ($) => {\n                return promises.push(new Promise((next) => {\n                    const rawname = $[0];\n                    const name = `state:${rawname}`;\n                    if (defaultState[$[0]] !== undefined) {\n                        const currentValue = (this.getAttribute(`${name}`) || this.$state[rawname]);\n                        if (currentValue !== this.$state[rawname]) {\n                            const found = this.$setSafeProps(currentValue);\n                            this.$state[rawname] = this.$stateHydrates?.make(rawname, this.$unsetSafeProps(found));\n                            // this.setAttribute(name, found);\n                        }\n                    }\n                    // else{\n                    //     if(currentValue === null){\n                    //         // console.warn('$> SET ///',name, $[1], defaultState[$[0]])\n                    //     }\n                    //     else{\n                    //         // console.log('$>',name, currentValue, defaultState[$[0]])\n                    //     }\n                    //     // this.$state[ rawname ] = defaultState[$[0]] as State[ keyof State]\n                    // }\n                    // if($state[ rawname ] != undefined && !currentValue){\n                    //     found = this.$setSafeProps($state[ rawname ]) as State[keyof State];\n                    //     // this.$state[ rawname ] = this.$unsetSafeProps(found);\n                    //      this.$state[ rawname ] = this.$stateHydrates?.make(\n                    //         rawname, \n                    //         this.$unsetSafeProps(found)\n                    //     ) as State[ keyof State]\n                    //     // this.setAttribute(name, this.$setSafeProps($state[ rawname ]))\n                    // }\n                    // if($state[ rawname ] != undefined && currentValue){\n                    //     // this.setAttribute(name, this.$setSafeProps($state[ rawname ]))\n                    // }\n                    next(this.$state[rawname]);\n                }));\n            };\n            if (state) {\n                if (!(0,_utilities_js__WEBPACK_IMPORTED_MODULE_7__.isEmptyObject)(state)) {\n                    Object.entries(state).map($ => fn($));\n                }\n            }\n            else {\n                Object.entries(defaultState).map($ => fn($));\n            }\n            Promise.allSettled(promises)\n                .then(results => {\n                resolved(this.$state);\n            });\n        });\n    }\n    $assign(prop, value) {\n        this[prop] = value;\n        return this;\n    }\n    static $use($namspace, $name, $klass) {\n        const _name = `${$namspace}-${$name}`;\n        if (!customElements.get(_name) && $klass) {\n            customElements.define(_name, $klass);\n        }\n        return this;\n    }\n}\n_SensenElement_instances = new WeakSet(), _SensenElement_connectedProtocol = function _SensenElement_connectedProtocol() {\n    this\n        .$initialize()\n        .$observers()\n        .$listeners()\n        .$render();\n    this.$emitter.dispatch('build', this);\n    // this.$showing = true\n    return this;\n};\n/**\n * Sensen Kuchiyoce Element\n */\nclass KuchiyoceElement extends SensenElement {\n    constructor($params) {\n        super($params.state || {});\n        this.$params = $params;\n        this.$tnamespace = 'sensen';\n        this.$anamespace = 'state';\n        if (!this.parentNode) {\n            document.body.insertBefore(this, document.body.firstChild);\n        }\n    }\n    $bewitchment(element) {\n        if (element) {\n            element.$application = this;\n        }\n        else {\n            const children = this.querySelectorAll('*');\n            if (children.length) {\n                children.forEach(child => {\n                    if (child instanceof SensenElement) {\n                        child.$application = this;\n                    }\n                });\n            }\n        }\n        return this;\n    }\n    $render(state) {\n        const render = this.$params.main(state || this.$params.state || { children: '' }, this);\n        if (typeof render == 'string') {\n            this.innerHTML = render;\n        }\n        if (render instanceof _router_js__WEBPACK_IMPORTED_MODULE_5__.SensenRouter) {\n            this.$router = render;\n        }\n        else {\n            if (render instanceof HTMLElement) {\n                this.appendChild(render);\n            }\n        }\n        this.$bewitchment();\n        return null;\n    }\n}\nclass Jutsu {\n    static Kuchiyoce(name, params) {\n        // params.props = params.props || {} as T\n        KuchiyoceElement.$use('sensen', name, KuchiyoceElement);\n        return new KuchiyoceElement(params);\n    }\n}\n/**\n * Create Component Method Event\n */\nfunction CreateComponentMethodEvent(component, event) {\n    const _ = {\n        event,\n        element: component,\n        router: component.$application?.$router,\n        children: component.children,\n        state: component.$state,\n    };\n    return _;\n}\n_directive_js__WEBPACK_IMPORTED_MODULE_1__.CommonDirectives.Define({\n    name: 'action',\n    type: '-attribute',\n    expression: '@',\n    main: ({ component, record }) => {\n        if (component instanceof SensenElement && record) {\n            /**\n             * HTMLElement Only\n             */\n            if (record.node instanceof HTMLElement && component instanceof SensenElement) {\n                const alreadyKey = `directiveState${record.directive?.expression}`;\n                const args = Array.isArray(record.arguments) ? record.arguments : [];\n                /**\n                 * Evit les abus de dfinition\n                 */\n                if (record.node[alreadyKey]) {\n                    return;\n                }\n                /**\n                 * Definition de l'vnement\n                 */\n                record.node.addEventListener(`${record.name}`, (ev) => {\n                    record.matches?.map(match => {\n                        const attrib = (('attributes' in record.node)\n                            ? record.node.getAttribute(match?.input || '')\n                            : '')?.trim();\n                        _directive_js__WEBPACK_IMPORTED_MODULE_1__.CommonDirectives.parseArguments({\n                            args,\n                            component,\n                            record,\n                            event: ev,\n                        });\n                        // if(args.indexOf('prevent') > -1){ ev.preventDefault() }\n                        // if(args.indexOf('stop') > -1){ ev.stopPropagation() }\n                        /**\n                         * Check Component methods\n                         */\n                        const isMethod = attrib?.indexOf(`this.methods.`) == 0;\n                        // const isRouter = attrib?.indexOf(`$router.`) == 0;\n                        const _event = CreateComponentMethodEvent(component, ev);\n                        if (isMethod && component.$methods) {\n                            const methodName = attrib.substring((`this.methods.`).length);\n                            const method = component.$methods[methodName];\n                            // console.warn('Directive Event', method, methodName, attrib, component )\n                            /** * Check is transaction function */\n                            if (typeof method == 'function') {\n                                method.apply(component.$state, [_event]);\n                            }\n                        }\n                        else {\n                            (0,_render_js__WEBPACK_IMPORTED_MODULE_4__.SensenRender)(`<${_render_js__WEBPACK_IMPORTED_MODULE_4__.SyntaxDelimiter} ${attrib} ${_render_js__WEBPACK_IMPORTED_MODULE_4__.SyntaxDelimiter}>`, component, component);\n                        }\n                        // else{\n                        //     if(typeof attrib == 'string' && attrib in window){\n                        //         const fn = (window[attrib as keyof Window] || (()=>{})) as Function\n                        //         if(typeof fn == 'function'){\n                        //             fn.apply(window, [_event])\n                        //         }\n                        //     }\n                        // }\n                    });\n                }, args.indexOf('capture') > -1 ? true : false);\n                // @ts-ignore\n                record.node[alreadyKey] = true;\n            }\n        }\n    },\n});\n/**\n * Sensen Functional Commands\n */\n/** * Sensen Element Caller */\nfunction Sensen(command, state) {\n    if (typeof command == 'string') {\n        if (command in window.$SensenComponents) {\n            const $ref = customElements.get(command);\n            if ($ref instanceof Function) {\n                const $instance = (new $ref(state || {}));\n                if ($instance instanceof SensenElement) {\n                    return $instance;\n                }\n            }\n        }\n        else {\n            const element = document.querySelector(command);\n            if (element instanceof HTMLElement) {\n                return element;\n            }\n        }\n    }\n    return undefined;\n}\n/** * Sensen Plugin Element Caller */\nfunction $Plugin(name, state) {\n    return Sensen(`plugin-${name}`, state);\n}\n/** * Sensen Activity Element Caller */\nfunction $Activity(name, state) {\n    return Sensen(`activity-${name}`, state);\n}\n/** * Sensen Component Element Caller */\nfunction $Component(name, state) {\n    return Sensen(`sense-${name}`, state);\n}\n/** * Utilities : $ReadObjectEntries */\nfunction $ReadObjectEntries(input) {\n    return Object.entries(input);\n}\n/** * Utilities : $ParseObjectEntries */\nfunction $ParseObjectEntries(input, callback) {\n    return Object.entries(input).map(callback || (() => { }));\n}\n/** * Utilities : $ReadObjectValues */\nfunction $ReadObjectValues(input) {\n    return Object.values(input);\n}\n/** * Utilities : $ParseObjectValues */\nfunction $ParseObjectValues(input, callback) {\n    return Object.values(input).map(callback || (() => { }));\n}\nfunction $Until(input, callback) {\n    return Object.values(input).map(callback || (() => { }));\n}\n/** * Utilities : $ReadObjectKeys */\nfunction $ReadObjectKeys(input) {\n    return Object.keys(input);\n}\n/** * Utilities : $ParseObjectKeys */\nfunction $ParseObjectKeys(input, callback) {\n    return Object.keys(input).map(callback || (() => { }));\n}\nwindow.$ReadObjectEntries = $ReadObjectEntries;\nwindow.$ParseObjectEntries = $ParseObjectEntries;\nwindow.$ReadObjectValues = $ReadObjectValues;\nwindow.$ParseObjectValues = $ParseObjectValues;\nwindow.$Until = $Until;\nwindow.$ReadObjectKeys = $ReadObjectKeys;\nwindow.$ParseObjectKeys = $ParseObjectKeys;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2Vuc2VuLWp1dHN1L2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZW5zZW4td2FwcC8uL25vZGVfbW9kdWxlcy9zZW5zZW4tanV0c3UvaW5kZXguanM/OTY1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfU2Vuc2VuRWxlbWVudF9pbnN0YW5jZXMsIF9TZW5zZW5FbGVtZW50X2Nvbm5lY3RlZFByb3RvY29sO1xuaW1wb3J0IHsgU2Vuc2VuQXBwZWFyYW5jZSB9IGZyb20gXCIuL2FwcGVhcmFuY2UuanNcIjtcbmltcG9ydCB7IENvbW1vbkRpcmVjdGl2ZXMgfSBmcm9tIFwiLi9kaXJlY3RpdmUuanNcIjtcbmltcG9ydCB7IFNlbnNlbkVtaXR0ZXIgfSBmcm9tIFwiLi9lbWl0dGVyLmpzXCI7XG5pbXBvcnQgeyBGaW5kRGlyZWN0aXZlcywgRmluZEdsb2JhbEV4cHJlc3Npb25zLCBGaW5kU3RhdGVEYXRhIH0gZnJvbSBcIi4vZXhwcmVzc2lvbi5qc1wiO1xuaW1wb3J0IHsgU2Vuc2VuRGF0YVJlbmRlciwgU2Vuc2VuTm9kZVJlbmRlciwgU2Vuc2VuUmVuZGVyLCBTeW50YXhEZWxpbWl0ZXIgfSBmcm9tIFwiLi9yZW5kZXIuanNcIjtcbmltcG9ydCB7IFNlbnNlblJvdXRlciB9IGZyb20gXCIuL3JvdXRlci5qc1wiO1xuaW1wb3J0IHsgU2Vuc2VuU3RhdGUgfSBmcm9tIFwiLi9zdGF0ZS5qc1wiO1xuaW1wb3J0IHsgQ2xvbmVPYmplY3QsIGRlY29kZUhUTUxFbnRpdGllcywgRmluZFBhcmVudGFsLCBpc0VtcHR5T2JqZWN0IH0gZnJvbSBcIi4vdXRpbGl0aWVzLmpzXCI7XG53aW5kb3cuJFNlbnNlbkNvbXBvbmVudHMgPSB3aW5kb3cuJFNlbnNlbkNvbXBvbmVudHMgfHwge307XG53aW5kb3cuJFNlbnNlblJvdXRlciA9IHdpbmRvdy4kU2Vuc2VuUm91dGVyIHx8IHt9O1xuLyoqXG4gKiBTZW5zZW4gQ29tcG9uZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSYXdDb21wb25lbnQoJCwgY29uZmlnKSB7XG4gICAgY29uc3QgJGluaXRpYWwgPSB7IC4uLigkIHx8IHt9KSB9O1xuICAgICRpbml0aWFsLnN0YXRlID0geyAuLi4kaW5pdGlhbC5zdGF0ZSB9O1xuICAgIHJldHVybiBjbGFzcyBleHRlbmRzIFNlbnNlbkVsZW1lbnQge1xuICAgICAgICBjb25zdHJ1Y3Rvcigkc3RhdGUgPSB7fSkge1xuICAgICAgICAgICAgc3VwZXIoJHN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMuJG9ic2VydmF0aW9ucyA9IHt9O1xuICAgICAgICAgICAgdGhpcy4kc3RhdGUgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuJGVtaXR0ZXIgPSBuZXcgU2Vuc2VuRW1pdHRlcigpO1xuICAgICAgICAgICAgdGhpcy4kdG5hbWVzcGFjZSA9IGNvbmZpZz8ubmFtZXNwYWNlPy5wcmVmaXggfHwgXCJzZW5zZVwiO1xuICAgICAgICAgICAgdGhpcy4kYW5hbWVzcGFjZSA9IGNvbmZpZz8ubmFtZXNwYWNlPy5hdHRyaWJ1dGUgfHwgXCJzdGF0ZVwiO1xuICAgICAgICAgICAgdGhpcy4kY29udHJvbGxlciA9IENsb25lT2JqZWN0KCRpbml0aWFsLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuJG1ldGhvZHMgPSB0aGlzLiRjb250cm9sbGVyLm1ldGhvZHMgfHwge307XG4gICAgICAgICAgICB0aGlzLiRzdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHsgLi4uKHRoaXMuJGNvbnRyb2xsZXIuc3RhdGUgfHwge30pLCAuLi4oJHN0YXRlIHx8IHt9KSB9KTtcbiAgICAgICAgICAgIHRoaXMuJHN0YXRlTWlycm9ycyA9IHRoaXMuJHN0YXRlTWlycm9ycyB8fCB7fTtcbiAgICAgICAgICAgIHRoaXMuJHN0YXRlSHlkcmF0ZXMgPSBuZXcgU2Vuc2VuU3RhdGUodGhpcy4kc3RhdGUpO1xuICAgICAgICAgICAgdGhpcy4kc3RhdGUgPSB0aGlzLiRzdGF0ZUh5ZHJhdGVzLnN0YXRlO1xuICAgICAgICAgICAgdGhpcy4kYXBwZWFyYW5jZSA9IG5ldyBTZW5zZW5BcHBlYXJhbmNlKHRoaXMuJGNvbnRyb2xsZXIuYXBwZWFyYW5jZSk7XG4gICAgICAgICAgICB0aGlzLiRhcHBlYXJhbmNlLm1vdW50KCkuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuJGh5ZHJhdG9ycygpO1xuICAgICAgICAgICAgdGhpcy4kY29uc3RydWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGljICR1c2luZygkc3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcygkc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgICRjb25zdHJ1Y3QoKSB7XG4gICAgICAgICAgICB0aGlzLiRlbWl0dGVyLmxpc3RlbignYmVnaW4nLCAoeyBlbWl0LCB0eXBlIH0pID0+IHtcbiAgICAgICAgICAgICAgICAvLyBlbWl0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuJGVtaXR0ZXIubGlzdGVuKCdkb25lJywgKHsgZW1pdCwgdHlwZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gZW1pdC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy4kY29udHJvbGxlcj8uY29uc3RydWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kY29udHJvbGxlcj8uY29uc3RydWN0KHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgcm91dGVyOiB0aGlzLiRhcHBsaWNhdGlvbj8uJHJvdXRlcixcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IHRoaXMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiB0aGlzLiRzdGF0ZSB8fCB7fSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgICRoeWRyYXRvcnMoKSB7XG4gICAgICAgICAgICB0aGlzLiRzdGF0ZUh5ZHJhdGVzID0gbmV3IFNlbnNlblN0YXRlKHRoaXMuJHN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMuJHN0YXRlSHlkcmF0ZXMuJGVtaXR0ZXJcbiAgICAgICAgICAgICAgICAubGlzdGVuKCdoeWRyYXRlcycsICh7IGVtaXQgfSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLiRzdGF0ZU1pcnJvcnMgJiYgdGhpcy4kc3RhdGVNaXJyb3JzW2VtaXQuc2xvdF0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJGNvbnRyb2xsZXI/LnN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRjb250cm9sbGVyLnN0YXRlW2VtaXQuc2xvdF0gPSB0aGlzLiRzdGF0ZVtlbWl0LnNsb3RdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjb3JkcyA9IHRoaXMuJHN0YXRlTWlycm9yc1tlbWl0LnNsb3RdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlY29yZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdHRlci5kaXNwYXRjaCgnaHlkcmF0ZXMnLCByZWNvcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmRzLm1hcChyZWNvcmQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRjb21waWxhdGVSZWNvcmQocmVjb3JkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdHRlci5kaXNwYXRjaCgnaHlkcmF0ZScsIHJlY29yZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgICR3aWxsTW91bnQoYXJncykge1xuICAgICAgICAgICAgdGhpcy4kZW1pdHRlci5kaXNwYXRjaCgnY29ubmVjdGVkJywgdGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kY29udHJvbGxlcj8ubW91bnQgPyB0aGlzLiRjb250cm9sbGVyPy5tb3VudCh7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcyxcbiAgICAgICAgICAgICAgICByb3V0ZXI6IHRoaXMuJGFwcGxpY2F0aW9uPy4kcm91dGVyLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiB0aGlzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIHN0YXRlOiB0aGlzLiRzdGF0ZSB8fCB7fSxcbiAgICAgICAgICAgIH0pIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgICR3aWxsVW5Nb3VudChhcmdzKSB7XG4gICAgICAgICAgICB0aGlzLiRlbWl0dGVyLmRpc3BhdGNoKCdkaXNjb25uZWN0ZWQnLCB0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRjb250cm9sbGVyPy51bm1vdW50ID8gdGhpcy4kY29udHJvbGxlcj8udW5tb3VudCh7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcyxcbiAgICAgICAgICAgICAgICByb3V0ZXI6IHRoaXMuJGFwcGxpY2F0aW9uPy4kcm91dGVyLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiB0aGlzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIHN0YXRlOiB0aGlzLiRzdGF0ZSB8fCB7fSxcbiAgICAgICAgICAgIH0pIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgICR3aWxsQWRvcHRlZChhcmdzKSB7XG4gICAgICAgICAgICB0aGlzLiRlbWl0dGVyLmRpc3BhdGNoKCdhZG9wdGVkJywgdGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kY29udHJvbGxlcj8uYWRvcHRlZCA/IHRoaXMuJGNvbnRyb2xsZXI/LmFkb3B0ZWQoe1xuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgcm91dGVyOiB0aGlzLiRhcHBsaWNhdGlvbj8uJHJvdXRlcixcbiAgICAgICAgICAgICAgICAvLyByb3V0ZXI6IHdpbmRvdy4kU2Vuc2VuUm91dGVyLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiB0aGlzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIHN0YXRlOiB0aGlzLiRzdGF0ZSB8fCB7fSxcbiAgICAgICAgICAgIH0pIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgICRyZW5kZXIoc3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IF9zdGF0ZSA9IChzdGF0ZSB8fCB0aGlzLiRzdGF0ZSk7XG4gICAgICAgICAgICBjb25zdCByZW5kZXIgPSB0aGlzLiRjb250cm9sbGVyPy5yZW5kZXIoe1xuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgcm91dGVyOiB0aGlzLiRhcHBsaWNhdGlvbj8uJHJvdXRlcixcbiAgICAgICAgICAgICAgICAvLyByb3V0ZXI6IHdpbmRvdy4kU2Vuc2VuUm91dGVyLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiB0aGlzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBfc3RhdGUgfHwge30sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuJHNldFN0YXRlcyhfc3RhdGUpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZW5kZXIgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlubmVySFRNTCA9IGAke3JlbmRlcn1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXJlbmRlcikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlubmVySFRNTCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlubmVySFRNTCA9IGAke3RoaXMuaW5uZXJIVE1MfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQocmVuZGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLiRlbWl0dGVyLmRpc3BhdGNoKCdkb25lJywgdGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBDb21wb25lbnQoJCkge1xuICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgICAgbmFtZXNwYWNlOiB7XG4gICAgICAgICAgICBwcmVmaXg6ICdzZW5zZScsXG4gICAgICAgICAgICBhdHRyaWJ1dGU6ICdzdGF0ZSdcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaW5kZXggPSBgc2Vuc2UtJHskLm5hbWV9YDtcbiAgICB3aW5kb3cuJFNlbnNlbkNvbXBvbmVudHNbaW5kZXhdID0gUmF3Q29tcG9uZW50KCQsIGNvbmZpZyk7XG4gICAgU2Vuc2VuRWxlbWVudC4kdXNlKCdzZW5zZScsICQubmFtZSwgd2luZG93LiRTZW5zZW5Db21wb25lbnRzW2luZGV4XSk7XG4gICAgcmV0dXJuIHdpbmRvdy4kU2Vuc2VuQ29tcG9uZW50c1tpbmRleF07XG59XG4vKipcbiAqIFNlbnNlbiBFbGVtZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBTZW5zZW5FbGVtZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCRzdGF0ZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLiRzdGF0ZSA9ICRzdGF0ZTtcbiAgICAgICAgX1NlbnNlbkVsZW1lbnRfaW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICAgICAgdGhpcy4kc2hvd2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLiRpblRyYW5zaXRpb24gPSBmYWxzZTtcbiAgICAgICAgLy8gbmV3KCAkcHJvcHMgOiBQcm9wcyApIDogdGhpc1xuICAgICAgICB0aGlzLiRvYnNlcnZhdGlvbnMgPSB7fTtcbiAgICAgICAgLy8gJGFwcGVhcmFuY2UgPzogU2Vuc2VuQXBwZWFyYW5jZVxuICAgICAgICB0aGlzLiRtZXRob2RzID0ge307XG4gICAgICAgIC8vIHRoaXMuJGFwcGVhcmFuY2UgPSBuZXcgU2Vuc2VuQXBwZWFyYW5jZSgpO1xuICAgICAgICB0aGlzLiRlbWl0dGVyID0gbmV3IFNlbnNlbkVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy4kdG5hbWVzcGFjZSA9IGAke3RoaXMuJHRuYW1lc3BhY2UgfHwgJ3NlbnNlJ30tYDtcbiAgICAgICAgdGhpcy4kYW5hbWVzcGFjZSA9IGAke3RoaXMuJGFuYW1lc3BhY2UgfHwgJ3N0YXRlJ306YDtcbiAgICAgICAgdGhpcy4kc3RhdGVNaXJyb3JzID0ge307XG4gICAgfVxuICAgICR3aWxsTW91bnQoYXJncykgeyB9XG4gICAgJHdpbGxVbk1vdW50KGFyZ3MpIHsgfVxuICAgICR3aWxsQWRvcHRlZChhcmdzKSB7IH1cbiAgICAkbW91bnRNYW5pcHVsYXRpb24obWV0aG9kLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLm1vdW50UmVzcG9uc2VSZXNvbHZlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5tb3VudFJlc3BvbnNlUmVqZWN0ZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChtZXRob2QgaW4gdGhpcyAmJiB0eXBlb2YgdGhpc1ttZXRob2RdID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMubW91bnRSZXNwb25zZVJlc29sdmVkID0gKHRoaXNbbWV0aG9kXSB8fCAoKCkgPT4geyB9KSkuYXBwbHkodGhpcywgW251bGxdKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdW50UmVzcG9uc2VSZXNvbHZlZCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdW50UmVzcG9uc2VSZXNvbHZlZFxuICAgICAgICAgICAgICAgICAgICAudGhlbihyID0+IHRoaXMubW91bnRSZXNwb25zZVJlc29sdmVkID0gcilcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3VudFJlc3BvbnNlUmVqZWN0ZWQgPSBlcjtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgU2Vuc2VuIENvbXBvbmVudCBtb3VudCBmYWlsZWRcXG5gLCBlcik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4gY2FsbGJhY2soKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIC8vIGNvbnNvbGUud2FybignUHJvcHMnLCBgJHsgSlNPTi5zdHJpbmdpZnkodGhpcy4kcHJvcHMpIH1gKVxuICAgICAgICAvLyBjb25zb2xlLndhcm4oJ1Byb3BzLT4nLCBgJHsgSlNPTi5zdHJpbmdpZnkodGhpcy5nZXRBdHRyaWJ1dGUoJ3Byb3A6d29ybGQnKSkgfWApXG4gICAgICAgIC8vIHRoaXMuJHJvdXRlciA9IHRoaXMuJGFwcGxpY2F0aW9uPy4kcm91dGVyIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy4kbW91bnRNYW5pcHVsYXRpb24oJyR3aWxsTW91bnQnLCAoKSA9PiB7IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1NlbnNlbkVsZW1lbnRfaW5zdGFuY2VzLCBcIm1cIiwgX1NlbnNlbkVsZW1lbnRfY29ubmVjdGVkUHJvdG9jb2wpLmNhbGwodGhpcyk7IH0pO1xuICAgIH1cbiAgICBhZG9wdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMuJG1vdW50TWFuaXB1bGF0aW9uKCckd2lsbEFkb3B0ZWQnLCAoKSA9PiB7IH0pO1xuICAgIH1cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy4kbW91bnRNYW5pcHVsYXRpb24oJyR3aWxsVW5Nb3VudCcsICgpID0+IHsgfSk7XG4gICAgICAgIC8vIHRoaXMuJHNob3dpbmcgPSBmYWxzZVxuICAgIH1cbiAgICAkc2V0U2FmZVByb3BzKHZhbHVlKSB7XG4gICAgICAgIGxldCAkdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICR2YWx1ZSA9IGBbICR7dmFsdWUubWFwKGkgPT4gYFwiJHtpfVwiYCkuam9pbignLCcpfSBdYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAkdmFsdWUgPSBgJHt2YWx1ZX1gO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmKHR5cGVvZiAkdmFsdWUgPT0gJ3N0cmluZycpe1xuICAgICAgICAvLyAgICAgaWYoJHZhbHVlLm1hdGNoKFN5bnRheFNuYXBDb2RlKSB8fCAkdmFsdWUubWF0Y2goU3ludGF4RWNobykpe1xuICAgICAgICAvLyAgICAgICAgIHRyeXtcbiAgICAgICAgLy8gICAgICAgICAgICAgU2Vuc2VuUmF3UmVuZGVyKFxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgJHZhbHVlLCBcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuJHBhcmVudENvbXBvbmVudCBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQgPyB0aGlzLiRwYXJlbnRDb21wb25lbnQuJHN0YXRlIDogdGhpcy4kc3RhdGUsIFxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy4kcGFyZW50Q29tcG9uZW50ICBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQgPyB0aGlzLiRwYXJlbnRDb21wb25lbnQgOiB0aGlzXG4gICAgICAgIC8vICAgICAgICAgICAgICkudGhlbihjb21waWxhdGU9PntcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb21waWxhdGVkJywgY29tcGlsYXRlIClcbiAgICAgICAgLy8gICAgICAgICAgICAgfSlcbiAgICAgICAgLy8gICAgICAgICB9Y2F0Y2goZSl7XG4gICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdDaGFuZ2UgQXR0cmlidXRlJywgdmFsdWUsICk7XG4gICAgICAgIHJldHVybiAkdmFsdWU7XG4gICAgfVxuICAgICR1bnNldFNhZmVQcm9wcyh2YWx1ZSkge1xuICAgICAgICBsZXQgb3V0cHV0ID0gdmFsdWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBvYmogPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqID09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gb2JqO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gICAgJGRlc3Ryb3kobW9tZW50ID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmVkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5pbm5lckhUTUwgPSAnJ1xuICAgICAgICAgICAgICAgIHJlc29sdmVkKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuJGVtaXR0ZXIuZGlzcGF0Y2goJ2Rlc3Ryb3knLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRpblRyYW5zaXRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLiRzaG93aW5nID0gZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXRoaXMuJGluVHJhbnNpdGlvbiAmJiB0aGlzLiRjb250cm9sbGVyPy50cmFuc2l0aW9uICYmICdvbmRlc3Ryb3knIGluIHRoaXMuJGNvbnRyb2xsZXIudHJhbnNpdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuJGluVHJhbnNpdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJGNvbnRyb2xsZXIudHJhbnNpdGlvbi5vbmRlc3Ryb3kgJiZcbiAgICAgICAgICAgICAgICAgICAgKCdleGl0JyBpbiB0aGlzLiRjb250cm9sbGVyLnRyYW5zaXRpb24ub25kZXN0cm95IHx8ICdleGl0UmV2ZXJzZScgaW4gdGhpcy4kY29udHJvbGxlci50cmFuc2l0aW9uLm9uZGVzdHJveSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vbWVudCA9PT0gdHJ1ZSAmJiB0eXBlb2YgdGhpcy4kY29udHJvbGxlci50cmFuc2l0aW9uLm9uZGVzdHJveS5leGl0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0ICRkaXNwbGF5ID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzKS5kaXNwbGF5IHx8ICdpbmxpbmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRkaXNwbGF5Lm1hdGNoKC9pbmxpbmUvKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRjb250cm9sbGVyLnRyYW5zaXRpb24ub25kZXN0cm95LmV4aXQodGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihkb25lID0+IGNhbGxiYWNrKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1vbWVudCA9PT0gZmFsc2UgJiYgdHlwZW9mIHRoaXMuJGNvbnRyb2xsZXIudHJhbnNpdGlvbi5vbmRlc3Ryb3kuZXhpdFJldmVyc2UgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgJGRpc3BsYXkgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMpLmRpc3BsYXkgfHwgJ2lubGluZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGRpc3BsYXkubWF0Y2goL2lubGluZS8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGNvbnRyb2xsZXIudHJhbnNpdGlvbi5vbmRlc3Ryb3kuZXhpdFJldmVyc2UodGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihkb25lID0+IGNhbGxiYWNrKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRpblRyYW5zaXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAkYnVpbGQobW9tZW50ID0gdHJ1ZSwgaG9zdCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmVkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBob3N0ZWQgPSAoaG9zdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSA/IGhvc3QuYXBwZW5kQ2hpbGQodGhpcykgOiBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2Rpc3BsYXknKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0dGVyLmRpc3BhdGNoKCdidWlsZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuJGluVHJhbnNpdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuJHNob3dpbmcgPSB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCF0aGlzLiRpblRyYW5zaXRpb24gJiYgdGhpcy4kY29udHJvbGxlcj8udHJhbnNpdGlvbiAmJiAnb25idWlsZCcgaW4gdGhpcy4kY29udHJvbGxlci50cmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kaW5UcmFuc2l0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kY29udHJvbGxlci50cmFuc2l0aW9uLm9uYnVpbGQgJiZcbiAgICAgICAgICAgICAgICAgICAgKCdlbnRyeScgaW4gdGhpcy4kY29udHJvbGxlci50cmFuc2l0aW9uLm9uYnVpbGQgfHwgJ2VudHJ5UmV2ZXJzZScgaW4gdGhpcy4kY29udHJvbGxlci50cmFuc2l0aW9uLm9uYnVpbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0ICRkaXNwbGF5ID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzKS5kaXNwbGF5IHx8ICdpbmxpbmUnOyBcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYoJGRpc3BsYXkubWF0Y2goL2lubGluZS8pKXsgdGhpcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobW9tZW50ID09PSB0cnVlICYmIHR5cGVvZiB0aGlzLiRjb250cm9sbGVyLnRyYW5zaXRpb24ub25idWlsZC5lbnRyeSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRjb250cm9sbGVyLnRyYW5zaXRpb24ub25idWlsZC5lbnRyeSh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGRvbmUgPT4gY2FsbGJhY2soKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobW9tZW50ID09PSBmYWxzZSAmJiB0eXBlb2YgdGhpcy4kY29udHJvbGxlci50cmFuc2l0aW9uLm9uYnVpbGQuZW50cnlSZXZlcnNlID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGNvbnRyb2xsZXIudHJhbnNpdGlvbi5vbmJ1aWxkLmVudHJ5UmV2ZXJzZSh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGRvbmUgPT4gY2FsbGJhY2soKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuJGluVHJhbnNpdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgICRpbml0aWFsaXplKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAkcmVuZGVyKHN0YXRlKSB7XG4gICAgICAgIHRocm93IChgU2Vuc2VuIEVsZW1lbnQgOiBBbnkgXCIkcmVuZGVyXCIgbWV0aG9kIGRldGVjdGVkYCk7XG4gICAgfVxuICAgICRsaXN0ZW5lcnMoKSB7XG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgS3VjaGl5b2NlRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy4kZW1pdHRlci5saXN0ZW4oJ2NvbnRlbnRDaGFuZ2VzJywgKHsgZW1pdCB9KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVtaXQudGFyZ2V0IGluc3RhbmNlb2YgU2Vuc2VuRWxlbWVudCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzIGluc3RhbmNlb2YgS3VjaGl5b2NlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbWl0LnRhcmdldC4kc3luY1Byb3BzKClcbiAgICAgICAgICAgICAgICAgICAgZW1pdC50YXJnZXQuJGNvbXBpbGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRiZXdpdGNobWVudChlbWl0LnRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEt1Y2hpeW9jZUVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aGlzLiRlbWl0dGVyLmxpc3RlbignY29udGVudENoYW5nZXMnLCAoeyBlbWl0IH0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIShlbWl0LnRhcmdldCBpbnN0YW5jZW9mIEt1Y2hpeW9jZUVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbWl0LnRhcmdldCBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVtaXQudGFyZ2V0LiRzeW5jUHJvcHMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdC50YXJnZXQuJGNvbXBpbGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgICRjb21waWxhdGVEaXJlY3RpdmVzKG5vZGUpIHtcbiAgICAgICAgRmluZERpcmVjdGl2ZXMobm9kZSwgKHJlY29yZCkgPT4ge1xuICAgICAgICAgICAgLy8gLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgLy8gcmVjb3JkLm5vZGUuJHBhcmVudENvbXBvbmVudCA9IHRoaXM7XG4gICAgICAgICAgICBGaW5kU3RhdGVEYXRhKHRoaXMsIHJlY29yZCk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnQnVpbGQgRGlyZWN0aXZlJywgcmVjb3JkLm5vZGUgKVxuICAgICAgICAgICAgdGhpcy4kY29tcGlsYXRlUmVjb3JkKHJlY29yZCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgJGNvbXBpbGF0ZVJlY29yZChyZWNvcmQpIHtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09ICdhdHRyaWJ1dGUnKSB7XG4gICAgICAgICAgICBpZiAocmVjb3JkLm5vZGUgaW5zdGFuY2VvZiBTZW5zZW5FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLm5vZGUuJHNldFN0YXRlcygpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgU2Vuc2VuRGF0YVJlbmRlcigocmVjb3JkLmF0dHJpYnV0ZSA/IHJlY29yZC5hdHRyaWJ1dGUudmFsdWUgfHwgJydcbiAgICAgICAgICAgICAgICA6IChyZWNvcmQubW9ja3VwID8gcmVjb3JkLm1vY2t1cC5ub2RlVmFsdWUgfHwgJycgOiAnJykpLCAocmVjb3JkLm5vZGUgaW5zdGFuY2VvZiBTZW5zZW5FbGVtZW50ICYmIHJlY29yZC5ub2RlLiRwYXJlbnRDb21wb25lbnQgaW5zdGFuY2VvZiBTZW5zZW5FbGVtZW50KVxuICAgICAgICAgICAgICAgID8gcmVjb3JkLm5vZGUuJHBhcmVudENvbXBvbmVudFxuICAgICAgICAgICAgICAgIDogdGhpcywgKHJlY29yZC5ub2RlIGluc3RhbmNlb2YgU2Vuc2VuRWxlbWVudCAmJiByZWNvcmQubm9kZS4kcGFyZW50Q29tcG9uZW50IGluc3RhbmNlb2YgU2Vuc2VuRWxlbWVudClcbiAgICAgICAgICAgICAgICA/IChyZWNvcmQubm9kZS4kcGFyZW50Q29tcG9uZW50LiRjb250cm9sbGVyIHx8IHt9KVxuICAgICAgICAgICAgICAgIDogKHRoaXMuJGNvbnRyb2xsZXIgfHwge30pLCByZWNvcmQpLnRoZW4oY29tcGlsYXRlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkLm5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZWNvcmQubm9kZS5zZXRBdHRyaWJ1dGUoYCR7cmVjb3JkLmF0dHJpYnV0ZT8ubmFtZX1gLCBgJHtjb21waWxhdGV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVjb3JkLnR5cGUgPT0gJ2VjaG8nIHx8IHJlY29yZC50eXBlID09ICdzbmFwY29kZScpIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybignJFByb3BzJywgYCR7IHRoaXMuJHByb3BzLndvcmxkIH1gLCByZWNvcmQubm9kZSwgdGhpcy4kY29udHJvbGxlcj8ucHJvcHM/LndvcmxkIClcbiAgICAgICAgICAgIFNlbnNlbk5vZGVSZW5kZXIocmVjb3JkLm1vY2t1cCB8fCByZWNvcmQubm9kZSwgdGhpcywgdGhpcy4kY29udHJvbGxlciB8fCB7fSwgcmVjb3JkKS50aGVuKGNvbXBpbGF0ZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZC5ub2RlIGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICByZWNvcmQubm9kZS50ZXh0Q29udGVudCA9IGAke2RlY29kZUhUTUxFbnRpdGllcyhjb21waWxhdGUpfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlY29yZC5ub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkLm5vZGUuaW5uZXJIVE1MID0gYCR7KGNvbXBpbGF0ZSl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWNvcmQudHlwZSA9PSAnZGlyZWN0aXZlJykge1xuICAgICAgICAgICAgaWYgKCEoJ2RpcmVjdGl2ZScgaW4gcmVjb3JkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IChgQ29ycnVwdGVkIGRpcmVjdGl2ZSA6IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiByZWNvcmQuZGlyZWN0aXZlPy5tYWluICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyAoYENvcnJ1cHRlZCBkaXJlY3RpdmUgOiA8ICR7cmVjb3JkLmRpcmVjdGl2ZT8ubmFtZX0gPmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjb3JkLmRpcmVjdGl2ZS5tYWluKHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IEZpbmRQYXJlbnRhbChyZWNvcmQubm9kZSwgYyA9PiBjIGluc3RhbmNlb2YgU2Vuc2VuRWxlbWVudCkgfHwgdGhpcyxcbiAgICAgICAgICAgICAgICByZWNvcmRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAkY29tcGlsYXRlKCkge1xuICAgICAgICBjb25zdCBleHByZXNzaW9ucyA9IEZpbmRHbG9iYWxFeHByZXNzaW9ucyh0aGlzLCAocmVjb3JkKSA9PiB7XG4gICAgICAgICAgICAvKiogKiBGaW5kIFN0YXRlIHZhciAqL1xuICAgICAgICAgICAgRmluZFN0YXRlRGF0YSh0aGlzLCByZWNvcmQpO1xuICAgICAgICAgICAgdGhpcy4kY29tcGlsYXRlUmVjb3JkKHJlY29yZCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBpZihleHByZXNzaW9ucy5sZW5ndGgpe1xuICAgICAgICAvLyAgICAgZXhwcmVzc2lvbnMubWFwKGNoaWxkPT57XG4gICAgICAgIC8vICAgICB9KVxuICAgICAgICAvLyB9XG4gICAgICAgIHRoaXMuJHNldFN0YXRlcygpO1xuICAgICAgICBpZiAodGhpcy5jaGlsZE5vZGVzKSB7XG4gICAgICAgICAgICBPYmplY3QudmFsdWVzKHRoaXMuY2hpbGROb2RlcykubWFwKGNoaWxkID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIShjaGlsZCBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGNvbXBpbGF0ZURpcmVjdGl2ZXMoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAkb2JzZXJ2ZXJzKCkge1xuICAgICAgICBpZiAodGhpcy4kb2JzZXJ2YXRpb25zIGluc3RhbmNlb2YgTXV0YXRpb25PYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy4kb2JzZXJ2YXRpb25zLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRvYnNlcnZhdGlvbnMgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigocmVjb3JkcykgPT4ge1xuICAgICAgICAgICAgaWYgKHJlY29yZHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0dGVyLmRpc3BhdGNoKCdjaGFuZ2VzJywgW3JlY29yZHNdKTtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3Jkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjb3Jkcy5tYXAocmVjb3JkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVjb3JkLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdhdHRyaWJ1dGVzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlY29yZC5hdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGVjayA9IHJlY29yZC5hdHRyaWJ1dGVOYW1lLm1hdGNoKG5ldyBSZWdFeHAoYCR7dGhpcy4kYW5hbWVzcGFjZX06YCwgJ2cnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0QXR0cmlidXRlKHJlY29yZC5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGVjayAmJiB0aGlzLiRhbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2xvdCA9IHJlY29yZC5hdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCkuc3Vic3RyaW5nKHRoaXMuJGFuYW1lc3BhY2UubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNsb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgJCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkW3Nsb3RdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNldFN0YXRlcygkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0dGVyLmRpc3BhdGNoKCdwcm9wQ2hhbmdlJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZDogcmVjb3JkLm9sZFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmdldEF0dHJpYnV0ZShyZWNvcmQuYXR0cmlidXRlTmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcmVjb3JkLmF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjaGFyYWN0ZXJEYXRhJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjaGlsZExpc3QnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygndGFyZ2V0IE9ic2VydmVkJywgcmVjb3JkLnRhcmdldCApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWNvcmQudGFyZ2V0IGluc3RhbmNlb2YgU2Vuc2VuRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkLnRhcmdldC4kYXBwbGljYXRpb24gPSB0aGlzLiRhcHBsaWNhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQuYWRkZWROb2Rlcy5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC4kYXBwbGljYXRpb24gPSB0aGlzLiRhcHBsaWNhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC4kcGFyZW50Q29tcG9uZW50ID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgIShjaGlsZCBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kY29tcGlsYXRlRGlyZWN0aXZlcyhjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0dGVyLmRpc3BhdGNoKCdhZGRlZENoaWxkJywgY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkLnJlbW92ZWROb2Rlcy5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXR0ZXIuZGlzcGF0Y2goJ3JlbW92ZWRDaGlsZCcsIGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXR0ZXIuZGlzcGF0Y2goJ2NvbnRlbnRDaGFuZ2VzJywgcmVjb3JkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVjb3JkLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkLnRhcmdldC5xdWVyeVNlbGVjdG9yQWxsKCcqJykuZm9yRWFjaCh0YXJnZXQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC4kcGFyZW50Q29tcG9uZW50ID0gRmluZFBhcmVudGFsKHJlY29yZC50YXJnZXQsIGMgPT4gYyBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQpIHx8IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXR0ZXIuZGlzcGF0Y2goJ2NoYW5nZXNEb25lJywgcmVjb3Jkcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4kb2JzZXJ2YXRpb25zLm9ic2VydmUodGhpcywge1xuICAgICAgICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICAgICAgLy8gYXR0cmlidXRlRmlsdGVyOiBPYmplY3QuZW50cmllcyh0aGlzLiRzdGF0ZSB8fCB7fSlcbiAgICAgICAgICAgIC8vICAgICAubWFwKCQ9PmAkeyB0aGlzLiRhbmFtZXNwYWNlIH0keyAkWzBdIH1gKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgICRzZXRTdGF0ZXMoc3RhdGUpIHtcbiAgICAgICAgLy8gY29uc3QgJHN0YXRlID0gKHN0YXRlIHx8IHt9KSBhcyBTdGF0ZTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRTdGF0ZSA9IHsgLi4udGhpcy4kY29udHJvbGxlcj8uc3RhdGUsIC8qIC4uLihzdGF0ZXx8e30pICAqLyB9O1xuICAgICAgICAgICAgY29uc3QgZm4gPSAoJCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlcy5wdXNoKG5ldyBQcm9taXNlKChuZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhd25hbWUgPSAkWzBdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gYHN0YXRlOiR7cmF3bmFtZX1gO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFN0YXRlWyRbMF1dICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9ICh0aGlzLmdldEF0dHJpYnV0ZShgJHtuYW1lfWApIHx8IHRoaXMuJHN0YXRlW3Jhd25hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWUgIT09IHRoaXMuJHN0YXRlW3Jhd25hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm91bmQgPSB0aGlzLiRzZXRTYWZlUHJvcHMoY3VycmVudFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdGF0ZVtyYXduYW1lXSA9IHRoaXMuJHN0YXRlSHlkcmF0ZXM/Lm1ha2UocmF3bmFtZSwgdGhpcy4kdW5zZXRTYWZlUHJvcHMoZm91bmQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCBmb3VuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmKGN1cnJlbnRWYWx1ZSA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgLy8gY29uc29sZS53YXJuKCckPiBTRVQgLy8vJyxuYW1lLCAkWzFdLCBkZWZhdWx0U3RhdGVbJFswXV0pXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIC8vIGNvbnNvbGUubG9nKCckPicsbmFtZSwgY3VycmVudFZhbHVlLCBkZWZhdWx0U3RhdGVbJFswXV0pXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyB0aGlzLiRzdGF0ZVsgcmF3bmFtZSBdID0gZGVmYXVsdFN0YXRlWyRbMF1dIGFzIFN0YXRlWyBrZXlvZiBTdGF0ZV1cbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAvLyBpZigkc3RhdGVbIHJhd25hbWUgXSAhPSB1bmRlZmluZWQgJiYgIWN1cnJlbnRWYWx1ZSl7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBmb3VuZCA9IHRoaXMuJHNldFNhZmVQcm9wcygkc3RhdGVbIHJhd25hbWUgXSkgYXMgU3RhdGVba2V5b2YgU3RhdGVdO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gdGhpcy4kc3RhdGVbIHJhd25hbWUgXSA9IHRoaXMuJHVuc2V0U2FmZVByb3BzKGZvdW5kKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICB0aGlzLiRzdGF0ZVsgcmF3bmFtZSBdID0gdGhpcy4kc3RhdGVIeWRyYXRlcz8ubWFrZShcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICByYXduYW1lLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLiR1bnNldFNhZmVQcm9wcyhmb3VuZClcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICkgYXMgU3RhdGVbIGtleW9mIFN0YXRlXVxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSwgdGhpcy4kc2V0U2FmZVByb3BzKCRzdGF0ZVsgcmF3bmFtZSBdKSlcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAvLyBpZigkc3RhdGVbIHJhd25hbWUgXSAhPSB1bmRlZmluZWQgJiYgY3VycmVudFZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vIHRoaXMuc2V0QXR0cmlidXRlKG5hbWUsIHRoaXMuJHNldFNhZmVQcm9wcygkc3RhdGVbIHJhd25hbWUgXSkpXG4gICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgbmV4dCh0aGlzLiRzdGF0ZVtyYXduYW1lXSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNFbXB0eU9iamVjdChzdGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoc3RhdGUpLm1hcCgkID0+IGZuKCQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyhkZWZhdWx0U3RhdGUpLm1hcCgkID0+IGZuKCQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFByb21pc2UuYWxsU2V0dGxlZChwcm9taXNlcylcbiAgICAgICAgICAgICAgICAudGhlbihyZXN1bHRzID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlZCh0aGlzLiRzdGF0ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgICRhc3NpZ24ocHJvcCwgdmFsdWUpIHtcbiAgICAgICAgdGhpc1twcm9wXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc3RhdGljICR1c2UoJG5hbXNwYWNlLCAkbmFtZSwgJGtsYXNzKSB7XG4gICAgICAgIGNvbnN0IF9uYW1lID0gYCR7JG5hbXNwYWNlfS0keyRuYW1lfWA7XG4gICAgICAgIGlmICghY3VzdG9tRWxlbWVudHMuZ2V0KF9uYW1lKSAmJiAka2xhc3MpIHtcbiAgICAgICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZShfbmFtZSwgJGtsYXNzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5fU2Vuc2VuRWxlbWVudF9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBfU2Vuc2VuRWxlbWVudF9jb25uZWN0ZWRQcm90b2NvbCA9IGZ1bmN0aW9uIF9TZW5zZW5FbGVtZW50X2Nvbm5lY3RlZFByb3RvY29sKCkge1xuICAgIHRoaXNcbiAgICAgICAgLiRpbml0aWFsaXplKClcbiAgICAgICAgLiRvYnNlcnZlcnMoKVxuICAgICAgICAuJGxpc3RlbmVycygpXG4gICAgICAgIC4kcmVuZGVyKCk7XG4gICAgdGhpcy4kZW1pdHRlci5kaXNwYXRjaCgnYnVpbGQnLCB0aGlzKTtcbiAgICAvLyB0aGlzLiRzaG93aW5nID0gdHJ1ZVxuICAgIHJldHVybiB0aGlzO1xufTtcbi8qKlxuICogU2Vuc2VuIEt1Y2hpeW9jZSBFbGVtZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBLdWNoaXlvY2VFbGVtZW50IGV4dGVuZHMgU2Vuc2VuRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoJHBhcmFtcykge1xuICAgICAgICBzdXBlcigkcGFyYW1zLnN0YXRlIHx8IHt9KTtcbiAgICAgICAgdGhpcy4kcGFyYW1zID0gJHBhcmFtcztcbiAgICAgICAgdGhpcy4kdG5hbWVzcGFjZSA9ICdzZW5zZW4nO1xuICAgICAgICB0aGlzLiRhbmFtZXNwYWNlID0gJ3N0YXRlJztcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHRoaXMsIGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgJGJld2l0Y2htZW50KGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuJGFwcGxpY2F0aW9uID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCcqJyk7XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLiRhcHBsaWNhdGlvbiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgJHJlbmRlcihzdGF0ZSkge1xuICAgICAgICBjb25zdCByZW5kZXIgPSB0aGlzLiRwYXJhbXMubWFpbihzdGF0ZSB8fCB0aGlzLiRwYXJhbXMuc3RhdGUgfHwgeyBjaGlsZHJlbjogJycgfSwgdGhpcyk7XG4gICAgICAgIGlmICh0eXBlb2YgcmVuZGVyID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLmlubmVySFRNTCA9IHJlbmRlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVuZGVyIGluc3RhbmNlb2YgU2Vuc2VuUm91dGVyKSB7XG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIgPSByZW5kZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocmVuZGVyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZENoaWxkKHJlbmRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kYmV3aXRjaG1lbnQoKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEp1dHN1IHtcbiAgICBzdGF0aWMgS3VjaGl5b2NlKG5hbWUsIHBhcmFtcykge1xuICAgICAgICAvLyBwYXJhbXMucHJvcHMgPSBwYXJhbXMucHJvcHMgfHwge30gYXMgVFxuICAgICAgICBLdWNoaXlvY2VFbGVtZW50LiR1c2UoJ3NlbnNlbicsIG5hbWUsIEt1Y2hpeW9jZUVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gbmV3IEt1Y2hpeW9jZUVsZW1lbnQocGFyYW1zKTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBDb21wb25lbnQgTWV0aG9kIEV2ZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVDb21wb25lbnRNZXRob2RFdmVudChjb21wb25lbnQsIGV2ZW50KSB7XG4gICAgY29uc3QgXyA9IHtcbiAgICAgICAgZXZlbnQsXG4gICAgICAgIGVsZW1lbnQ6IGNvbXBvbmVudCxcbiAgICAgICAgcm91dGVyOiBjb21wb25lbnQuJGFwcGxpY2F0aW9uPy4kcm91dGVyLFxuICAgICAgICBjaGlsZHJlbjogY29tcG9uZW50LmNoaWxkcmVuLFxuICAgICAgICBzdGF0ZTogY29tcG9uZW50LiRzdGF0ZSxcbiAgICB9O1xuICAgIHJldHVybiBfO1xufVxuQ29tbW9uRGlyZWN0aXZlcy5EZWZpbmUoe1xuICAgIG5hbWU6ICdhY3Rpb24nLFxuICAgIHR5cGU6ICctYXR0cmlidXRlJyxcbiAgICBleHByZXNzaW9uOiAnQCcsXG4gICAgbWFpbjogKHsgY29tcG9uZW50LCByZWNvcmQgfSkgPT4ge1xuICAgICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgU2Vuc2VuRWxlbWVudCAmJiByZWNvcmQpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSFRNTEVsZW1lbnQgT25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAocmVjb3JkLm5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBjb21wb25lbnQgaW5zdGFuY2VvZiBTZW5zZW5FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWxyZWFkeUtleSA9IGBkaXJlY3RpdmVTdGF0ZSR7cmVjb3JkLmRpcmVjdGl2ZT8uZXhwcmVzc2lvbn1gO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5pc0FycmF5KHJlY29yZC5hcmd1bWVudHMpID8gcmVjb3JkLmFyZ3VtZW50cyA6IFtdO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEV2aXTDqSBsZXMgYWJ1cyBkZSBkw6lmaW5pdGlvblxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQubm9kZVthbHJlYWR5S2V5XSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERlZmluaXRpb24gZGUgbCfDqXbDqG5lbWVudFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHJlY29yZC5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoYCR7cmVjb3JkLm5hbWV9YCwgKGV2KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29yZC5tYXRjaGVzPy5tYXAobWF0Y2ggPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmliID0gKCgnYXR0cmlidXRlcycgaW4gcmVjb3JkLm5vZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyByZWNvcmQubm9kZS5nZXRBdHRyaWJ1dGUobWF0Y2g/LmlucHV0IHx8ICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJycpPy50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBDb21tb25EaXJlY3RpdmVzLnBhcnNlQXJndW1lbnRzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZihhcmdzLmluZGV4T2YoJ3ByZXZlbnQnKSA+IC0xKXsgZXYucHJldmVudERlZmF1bHQoKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZihhcmdzLmluZGV4T2YoJ3N0b3AnKSA+IC0xKXsgZXYuc3RvcFByb3BhZ2F0aW9uKCkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBDaGVjayBDb21wb25lbnQgbWV0aG9kc1xuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc01ldGhvZCA9IGF0dHJpYj8uaW5kZXhPZihgdGhpcy5tZXRob2RzLmApID09IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBpc1JvdXRlciA9IGF0dHJpYj8uaW5kZXhPZihgJHJvdXRlci5gKSA9PSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgX2V2ZW50ID0gQ3JlYXRlQ29tcG9uZW50TWV0aG9kRXZlbnQoY29tcG9uZW50LCBldik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNNZXRob2QgJiYgY29tcG9uZW50LiRtZXRob2RzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWV0aG9kTmFtZSA9IGF0dHJpYi5zdWJzdHJpbmcoKGB0aGlzLm1ldGhvZHMuYCkubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXRob2QgPSBjb21wb25lbnQuJG1ldGhvZHNbbWV0aG9kTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKCdEaXJlY3RpdmUgRXZlbnQnLCBtZXRob2QsIG1ldGhvZE5hbWUsIGF0dHJpYiwgY29tcG9uZW50IClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiogKiBDaGVjayBpcyB0cmFuc2FjdGlvbiBmdW5jdGlvbiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWV0aG9kID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLmFwcGx5KGNvbXBvbmVudC4kc3RhdGUsIFtfZXZlbnRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZW5zZW5SZW5kZXIoYDwke1N5bnRheERlbGltaXRlcn0gJHthdHRyaWJ9ICR7U3ludGF4RGVsaW1pdGVyfT5gLCBjb21wb25lbnQsIGNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmKHR5cGVvZiBhdHRyaWIgPT0gJ3N0cmluZycgJiYgYXR0cmliIGluIHdpbmRvdyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNvbnN0IGZuID0gKHdpbmRvd1thdHRyaWIgYXMga2V5b2YgV2luZG93XSB8fCAoKCk9Pnt9KSkgYXMgRnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWYodHlwZW9mIGZuID09ICdmdW5jdGlvbicpe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgZm4uYXBwbHkod2luZG93LCBbX2V2ZW50XSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSwgYXJncy5pbmRleE9mKCdjYXB0dXJlJykgPiAtMSA/IHRydWUgOiBmYWxzZSk7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHJlY29yZC5ub2RlW2FscmVhZHlLZXldID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59KTtcbi8qKlxuICogU2Vuc2VuIEZ1bmN0aW9uYWwgQ29tbWFuZHNcbiAqL1xuLyoqICogU2Vuc2VuIEVsZW1lbnQgQ2FsbGVyICovXG5leHBvcnQgZnVuY3Rpb24gU2Vuc2VuKGNvbW1hbmQsIHN0YXRlKSB7XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kID09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChjb21tYW5kIGluIHdpbmRvdy4kU2Vuc2VuQ29tcG9uZW50cykge1xuICAgICAgICAgICAgY29uc3QgJHJlZiA9IGN1c3RvbUVsZW1lbnRzLmdldChjb21tYW5kKTtcbiAgICAgICAgICAgIGlmICgkcmVmIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCAkaW5zdGFuY2UgPSAobmV3ICRyZWYoc3RhdGUgfHwge30pKTtcbiAgICAgICAgICAgICAgICBpZiAoJGluc3RhbmNlIGluc3RhbmNlb2YgU2Vuc2VuRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGluc3RhbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbW1hbmQpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4vKiogKiBTZW5zZW4gUGx1Z2luIEVsZW1lbnQgQ2FsbGVyICovXG5leHBvcnQgZnVuY3Rpb24gJFBsdWdpbihuYW1lLCBzdGF0ZSkge1xuICAgIHJldHVybiBTZW5zZW4oYHBsdWdpbi0ke25hbWV9YCwgc3RhdGUpO1xufVxuLyoqICogU2Vuc2VuIEFjdGl2aXR5IEVsZW1lbnQgQ2FsbGVyICovXG5leHBvcnQgZnVuY3Rpb24gJEFjdGl2aXR5KG5hbWUsIHN0YXRlKSB7XG4gICAgcmV0dXJuIFNlbnNlbihgYWN0aXZpdHktJHtuYW1lfWAsIHN0YXRlKTtcbn1cbi8qKiAqIFNlbnNlbiBDb21wb25lbnQgRWxlbWVudCBDYWxsZXIgKi9cbmV4cG9ydCBmdW5jdGlvbiAkQ29tcG9uZW50KG5hbWUsIHN0YXRlKSB7XG4gICAgcmV0dXJuIFNlbnNlbihgc2Vuc2UtJHtuYW1lfWAsIHN0YXRlKTtcbn1cbi8qKiAqIFV0aWxpdGllcyA6ICRSZWFkT2JqZWN0RW50cmllcyAqL1xuZXhwb3J0IGZ1bmN0aW9uICRSZWFkT2JqZWN0RW50cmllcyhpbnB1dCkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhpbnB1dCk7XG59XG4vKiogKiBVdGlsaXRpZXMgOiAkUGFyc2VPYmplY3RFbnRyaWVzICovXG5leHBvcnQgZnVuY3Rpb24gJFBhcnNlT2JqZWN0RW50cmllcyhpbnB1dCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoaW5wdXQpLm1hcChjYWxsYmFjayB8fCAoKCkgPT4geyB9KSk7XG59XG4vKiogKiBVdGlsaXRpZXMgOiAkUmVhZE9iamVjdFZhbHVlcyAqL1xuZXhwb3J0IGZ1bmN0aW9uICRSZWFkT2JqZWN0VmFsdWVzKGlucHV0KSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoaW5wdXQpO1xufVxuLyoqICogVXRpbGl0aWVzIDogJFBhcnNlT2JqZWN0VmFsdWVzICovXG5leHBvcnQgZnVuY3Rpb24gJFBhcnNlT2JqZWN0VmFsdWVzKGlucHV0LCBjYWxsYmFjaykge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKGlucHV0KS5tYXAoY2FsbGJhY2sgfHwgKCgpID0+IHsgfSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uICRVbnRpbChpbnB1dCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhpbnB1dCkubWFwKGNhbGxiYWNrIHx8ICgoKSA9PiB7IH0pKTtcbn1cbi8qKiAqIFV0aWxpdGllcyA6ICRSZWFkT2JqZWN0S2V5cyAqL1xuZXhwb3J0IGZ1bmN0aW9uICRSZWFkT2JqZWN0S2V5cyhpbnB1dCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhpbnB1dCk7XG59XG4vKiogKiBVdGlsaXRpZXMgOiAkUGFyc2VPYmplY3RLZXlzICovXG5leHBvcnQgZnVuY3Rpb24gJFBhcnNlT2JqZWN0S2V5cyhpbnB1dCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoaW5wdXQpLm1hcChjYWxsYmFjayB8fCAoKCkgPT4geyB9KSk7XG59XG53aW5kb3cuJFJlYWRPYmplY3RFbnRyaWVzID0gJFJlYWRPYmplY3RFbnRyaWVzO1xud2luZG93LiRQYXJzZU9iamVjdEVudHJpZXMgPSAkUGFyc2VPYmplY3RFbnRyaWVzO1xud2luZG93LiRSZWFkT2JqZWN0VmFsdWVzID0gJFJlYWRPYmplY3RWYWx1ZXM7XG53aW5kb3cuJFBhcnNlT2JqZWN0VmFsdWVzID0gJFBhcnNlT2JqZWN0VmFsdWVzO1xud2luZG93LiRVbnRpbCA9ICRVbnRpbDtcbndpbmRvdy4kUmVhZE9iamVjdEtleXMgPSAkUmVhZE9iamVjdEtleXM7XG53aW5kb3cuJFBhcnNlT2JqZWN0S2V5cyA9ICRQYXJzZU9iamVjdEtleXM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/sensen-jutsu/index.js\n");

/***/ }),

/***/ "./node_modules/sensen-jutsu/metric-random.js":
/*!****************************************************!*\
  !*** ./node_modules/sensen-jutsu/metric-random.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SensenMetricRandom\": () => (/* binding */ SensenMetricRandom)\n/* harmony export */ });\nclass SensenMetricRandom {\n    static CreateRandom(min, max) {\n        return Math.floor(Math.random() * (max - min) + min);\n    }\n    static CreateBlock(base, length) {\n        let based, out = [];\n        if (typeof base == 'string') {\n            based = base.split(' ');\n        }\n        if (Array.isArray(based)) {\n            for (let x = 0; x < length; x++) {\n                const k = this.CreateRandom(0, based.length - 1);\n                out[out.length] = based[k];\n            }\n        }\n        return out;\n    }\n    static CreateAplpha(length) {\n        return this.CreateBlock(`${this.ALPHA_LOWER} ${this.ALPHA_UPPER}`, length);\n    }\n    static CreateNumeric(length) {\n        return this.CreateBlock(`${this.NUMERIC}`, length);\n    }\n    static Create(length) {\n        return this.CreateBlock(`${this.ALPHA_NUMERIC}`, length);\n    }\n}\nSensenMetricRandom.ALPHA_NUMERIC = 'a b c d e f g h i j k l m n o p q r s t u v w x y z A B C D E F G H I J K L M N O P Q R S T U V W X Y Z 0 1 2 3 4 5 6 7 8 9';\nSensenMetricRandom.ALPHA_NUMERIC_LOWER = 'a b c d e f g h i j k l m n o p q r s t u v w x y z 0 1 2 3 4 5 6 7 8 9';\nSensenMetricRandom.ALPHA_NUMERIC_UPPER = 'A B C D E F G H I J K L M N O P Q R S T U V W X Y Z 0 1 2 3 4 5 6 7 8 9';\nSensenMetricRandom.ALPHA_UPPER = 'A B C D E F G H I J K L M N O P Q R S T U V W X Y Z';\nSensenMetricRandom.ALPHA_LOWER = 'a b c d e f g h i j k l m n o p q r s t u v w x y z';\nSensenMetricRandom.NUMERIC = '0 1 2 3 4 5 6 7 8 9';\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2Vuc2VuLWp1dHN1L21ldHJpYy1yYW5kb20uanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlbnNlbi13YXBwLy4vbm9kZV9tb2R1bGVzL3NlbnNlbi1qdXRzdS9tZXRyaWMtcmFuZG9tLmpzPzM4ZDIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFNlbnNlbk1ldHJpY1JhbmRvbSB7XG4gICAgc3RhdGljIENyZWF0ZVJhbmRvbShtaW4sIG1heCkge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW4pO1xuICAgIH1cbiAgICBzdGF0aWMgQ3JlYXRlQmxvY2soYmFzZSwgbGVuZ3RoKSB7XG4gICAgICAgIGxldCBiYXNlZCwgb3V0ID0gW107XG4gICAgICAgIGlmICh0eXBlb2YgYmFzZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgYmFzZWQgPSBiYXNlLnNwbGl0KCcgJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYmFzZWQpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGxlbmd0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgayA9IHRoaXMuQ3JlYXRlUmFuZG9tKDAsIGJhc2VkLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgIG91dFtvdXQubGVuZ3RoXSA9IGJhc2VkW2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIHN0YXRpYyBDcmVhdGVBcGxwaGEobGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkNyZWF0ZUJsb2NrKGAke3RoaXMuQUxQSEFfTE9XRVJ9ICR7dGhpcy5BTFBIQV9VUFBFUn1gLCBsZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgQ3JlYXRlTnVtZXJpYyhsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQ3JlYXRlQmxvY2soYCR7dGhpcy5OVU1FUklDfWAsIGxlbmd0aCk7XG4gICAgfVxuICAgIHN0YXRpYyBDcmVhdGUobGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkNyZWF0ZUJsb2NrKGAke3RoaXMuQUxQSEFfTlVNRVJJQ31gLCBsZW5ndGgpO1xuICAgIH1cbn1cblNlbnNlbk1ldHJpY1JhbmRvbS5BTFBIQV9OVU1FUklDID0gJ2EgYiBjIGQgZSBmIGcgaCBpIGogayBsIG0gbiBvIHAgcSByIHMgdCB1IHYgdyB4IHkgeiBBIEIgQyBEIEUgRiBHIEggSSBKIEsgTCBNIE4gTyBQIFEgUiBTIFQgVSBWIFcgWCBZIFogMCAxIDIgMyA0IDUgNiA3IDggOSc7XG5TZW5zZW5NZXRyaWNSYW5kb20uQUxQSEFfTlVNRVJJQ19MT1dFUiA9ICdhIGIgYyBkIGUgZiBnIGggaSBqIGsgbCBtIG4gbyBwIHEgciBzIHQgdSB2IHcgeCB5IHogMCAxIDIgMyA0IDUgNiA3IDggOSc7XG5TZW5zZW5NZXRyaWNSYW5kb20uQUxQSEFfTlVNRVJJQ19VUFBFUiA9ICdBIEIgQyBEIEUgRiBHIEggSSBKIEsgTCBNIE4gTyBQIFEgUiBTIFQgVSBWIFcgWCBZIFogMCAxIDIgMyA0IDUgNiA3IDggOSc7XG5TZW5zZW5NZXRyaWNSYW5kb20uQUxQSEFfVVBQRVIgPSAnQSBCIEMgRCBFIEYgRyBIIEkgSiBLIEwgTSBOIE8gUCBRIFIgUyBUIFUgViBXIFggWSBaJztcblNlbnNlbk1ldHJpY1JhbmRvbS5BTFBIQV9MT1dFUiA9ICdhIGIgYyBkIGUgZiBnIGggaSBqIGsgbCBtIG4gbyBwIHEgciBzIHQgdSB2IHcgeCB5IHonO1xuU2Vuc2VuTWV0cmljUmFuZG9tLk5VTUVSSUMgPSAnMCAxIDIgMyA0IDUgNiA3IDggOSc7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/sensen-jutsu/metric-random.js\n");

/***/ }),

/***/ "./node_modules/sensen-jutsu/pathScheme.js":
/*!*************************************************!*\
  !*** ./node_modules/sensen-jutsu/pathScheme.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction SensenURLScheme(base = '/') {\n    return {\n        '@Components': `${base || '/'}sensen/components`,\n        '@Activities': `${base || '/'}sensen/activities`,\n        '@Palette': `${base || '/'}sensen/palette`,\n        '@Tone': `${base || '/'}sensen/tone`,\n        '@Themes': `${base || '/'}sensen/themes`,\n        '@Plugins': `${base || '/'}sensen/plugins`,\n        '@PluginsJS': `${base || '/'}sensen/plugins/js`,\n        '@PluginsCSS': `${base || '/'}sensen/plugins/css`,\n        '@Assets': `${base || '/'}assets`,\n        '@AssetsCSS': `${base || '/'}assets/css`,\n        '@AssetsJS': `${base || '/'}assets/js`,\n        '@AssetsFonts': `${base || '/'}assets/fonts`,\n        '@AssetsImages': `${base || '/'}assets/images`,\n        '@App': `${base || '/'}`,\n    };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SensenURLScheme);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2Vuc2VuLWp1dHN1L3BhdGhTY2hlbWUuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2Vuc2VuLXdhcHAvLi9ub2RlX21vZHVsZXMvc2Vuc2VuLWp1dHN1L3BhdGhTY2hlbWUuanM/NzU5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBTZW5zZW5VUkxTY2hlbWUoYmFzZSA9ICcvJykge1xuICAgIHJldHVybiB7XG4gICAgICAgICdAQ29tcG9uZW50cyc6IGAke2Jhc2UgfHwgJy8nfXNlbnNlbi9jb21wb25lbnRzYCxcbiAgICAgICAgJ0BBY3Rpdml0aWVzJzogYCR7YmFzZSB8fCAnLyd9c2Vuc2VuL2FjdGl2aXRpZXNgLFxuICAgICAgICAnQFBhbGV0dGUnOiBgJHtiYXNlIHx8ICcvJ31zZW5zZW4vcGFsZXR0ZWAsXG4gICAgICAgICdAVG9uZSc6IGAke2Jhc2UgfHwgJy8nfXNlbnNlbi90b25lYCxcbiAgICAgICAgJ0BUaGVtZXMnOiBgJHtiYXNlIHx8ICcvJ31zZW5zZW4vdGhlbWVzYCxcbiAgICAgICAgJ0BQbHVnaW5zJzogYCR7YmFzZSB8fCAnLyd9c2Vuc2VuL3BsdWdpbnNgLFxuICAgICAgICAnQFBsdWdpbnNKUyc6IGAke2Jhc2UgfHwgJy8nfXNlbnNlbi9wbHVnaW5zL2pzYCxcbiAgICAgICAgJ0BQbHVnaW5zQ1NTJzogYCR7YmFzZSB8fCAnLyd9c2Vuc2VuL3BsdWdpbnMvY3NzYCxcbiAgICAgICAgJ0BBc3NldHMnOiBgJHtiYXNlIHx8ICcvJ31hc3NldHNgLFxuICAgICAgICAnQEFzc2V0c0NTUyc6IGAke2Jhc2UgfHwgJy8nfWFzc2V0cy9jc3NgLFxuICAgICAgICAnQEFzc2V0c0pTJzogYCR7YmFzZSB8fCAnLyd9YXNzZXRzL2pzYCxcbiAgICAgICAgJ0BBc3NldHNGb250cyc6IGAke2Jhc2UgfHwgJy8nfWFzc2V0cy9mb250c2AsXG4gICAgICAgICdAQXNzZXRzSW1hZ2VzJzogYCR7YmFzZSB8fCAnLyd9YXNzZXRzL2ltYWdlc2AsXG4gICAgICAgICdAQXBwJzogYCR7YmFzZSB8fCAnLyd9YCxcbiAgICB9O1xufVxuZXhwb3J0IGRlZmF1bHQgU2Vuc2VuVVJMU2NoZW1lO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/sensen-jutsu/pathScheme.js\n");

/***/ }),

/***/ "./node_modules/sensen-jutsu/render.js":
/*!*********************************************!*\
  !*** ./node_modules/sensen-jutsu/render.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SensenDataRender\": () => (/* binding */ SensenDataRender),\n/* harmony export */   \"SensenNodeRender\": () => (/* binding */ SensenNodeRender),\n/* harmony export */   \"SensenRawRender\": () => (/* binding */ SensenRawRender),\n/* harmony export */   \"SensenRender\": () => (/* binding */ SensenRender),\n/* harmony export */   \"SyntaxDelimiter\": () => (/* binding */ SyntaxDelimiter),\n/* harmony export */   \"SyntaxEcho\": () => (/* binding */ SyntaxEcho),\n/* harmony export */   \"SyntaxEchoReverse\": () => (/* binding */ SyntaxEchoReverse),\n/* harmony export */   \"SyntaxSnapCode\": () => (/* binding */ SyntaxSnapCode)\n/* harmony export */ });\n/* harmony import */ var ejs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ejs */ \"./node_modules/ejs/lib/ejs.js\");\n/* harmony import */ var ejs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ejs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _expression_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./expression.js */ \"./node_modules/sensen-jutsu/expression.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities.js */ \"./node_modules/sensen-jutsu/utilities.js\");\n\n\n\nconst SyntaxEcho = new RegExp('{{(.*?)}}', 'g');\nconst SyntaxSnapCode = new RegExp('{%(.*?)%}', 'g');\nconst SyntaxDelimiter = `%sn`;\nconst SyntaxEchoReverse = new RegExp(`\\<${SyntaxDelimiter}=(.*?)${SyntaxDelimiter}\\>`, 'g');\nasync function SensenRawRender(data, props, context) {\n    data = `${data}`;\n    return (0,ejs__WEBPACK_IMPORTED_MODULE_0__.render)(`${(0,_expression_js__WEBPACK_IMPORTED_MODULE_1__.StabilizeSnapCodeExpression)((0,_expression_js__WEBPACK_IMPORTED_MODULE_1__.StabilizeEchoExpression)((0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.decodeHTMLEntities)(`${data}`)))}`, props, {\n        delimiter: `${SyntaxDelimiter}`,\n        context,\n        async: true\n    });\n}\nfunction SensenDataRender(data, component, context, record) {\n    let content = (0,_expression_js__WEBPACK_IMPORTED_MODULE_1__.StabilizeSnapCodeExpression)((0,_expression_js__WEBPACK_IMPORTED_MODULE_1__.StabilizeEchoExpression)((0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.decodeHTMLEntities)(data)));\n    record.matches?.map(match => {\n        content = content?.replace(new RegExp(`${(match[0] || '').replace(/[^\\w\\s]/gi, '\\\\$&')}`, 'gi'), `<${SyntaxDelimiter}${match[1]}${SyntaxDelimiter}>`) || '';\n    });\n    // console.log('Render WIth', component.$props, context.props)\n    return (0,ejs__WEBPACK_IMPORTED_MODULE_0__.render)(`${content}`, component.$state, {\n        delimiter: `${SyntaxDelimiter}`,\n        context: component,\n        async: true\n    });\n}\nfunction SensenNodeRender(node, component, context, record) {\n    let content = (0,_expression_js__WEBPACK_IMPORTED_MODULE_1__.StabilizeSnapCodeExpression)((0,_expression_js__WEBPACK_IMPORTED_MODULE_1__.StabilizeEchoExpression)((0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.decodeHTMLEntities)((node instanceof HTMLElement) ? node.innerHTML : node.textContent || '')));\n    // console.log('SensenNodeRender', content)\n    record.matches?.map(match => {\n        content = content?.replace(new RegExp(`${(match[0] || '').replace(/[^\\w\\s]/gi, '\\\\$&')}`, 'gi'), `<${SyntaxDelimiter}${(0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.decodeHTMLEntities)(match[1])} ${SyntaxDelimiter}>`) || '';\n    });\n    // console.log(\"To compilate\", content, `//${ component.$props.world }`, `//${ context.props?.world }`)\n    return (0,ejs__WEBPACK_IMPORTED_MODULE_0__.render)(`${content}`, { ...component.$state }, {\n        delimiter: `${SyntaxDelimiter}`,\n        context: { ...component, ...context },\n        async: true\n    });\n}\nfunction SensenRender(data, component, context) {\n    let content = (0,_expression_js__WEBPACK_IMPORTED_MODULE_1__.StabilizeSnapCodeExpression)((0,_expression_js__WEBPACK_IMPORTED_MODULE_1__.StabilizeEchoExpression)((0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.decodeHTMLEntities)(data)));\n    return (0,ejs__WEBPACK_IMPORTED_MODULE_0__.render)(`${content}`, { ...component.$state, ...context }, {\n        delimiter: `${SyntaxDelimiter}`,\n        context: { ...component, ...context },\n        async: true\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2Vuc2VuLWp1dHN1L3JlbmRlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZW5zZW4td2FwcC8uL25vZGVfbW9kdWxlcy9zZW5zZW4tanV0c3UvcmVuZGVyLmpzPzhiNjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSBcImVqc1wiO1xuaW1wb3J0IHsgU3RhYmlsaXplRWNob0V4cHJlc3Npb24sIFN0YWJpbGl6ZVNuYXBDb2RlRXhwcmVzc2lvbiB9IGZyb20gXCIuL2V4cHJlc3Npb24uanNcIjtcbmltcG9ydCB7IGRlY29kZUhUTUxFbnRpdGllcyB9IGZyb20gXCIuL3V0aWxpdGllcy5qc1wiO1xuZXhwb3J0IGNvbnN0IFN5bnRheEVjaG8gPSBuZXcgUmVnRXhwKCd7eyguKj8pfX0nLCAnZycpO1xuZXhwb3J0IGNvbnN0IFN5bnRheFNuYXBDb2RlID0gbmV3IFJlZ0V4cCgneyUoLio/KSV9JywgJ2cnKTtcbmV4cG9ydCBjb25zdCBTeW50YXhEZWxpbWl0ZXIgPSBgJXNuYDtcbmV4cG9ydCBjb25zdCBTeW50YXhFY2hvUmV2ZXJzZSA9IG5ldyBSZWdFeHAoYFxcPCR7U3ludGF4RGVsaW1pdGVyfT0oLio/KSR7U3ludGF4RGVsaW1pdGVyfVxcPmAsICdnJyk7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gU2Vuc2VuUmF3UmVuZGVyKGRhdGEsIHByb3BzLCBjb250ZXh0KSB7XG4gICAgZGF0YSA9IGAke2RhdGF9YDtcbiAgICByZXR1cm4gcmVuZGVyKGAke1N0YWJpbGl6ZVNuYXBDb2RlRXhwcmVzc2lvbihTdGFiaWxpemVFY2hvRXhwcmVzc2lvbihkZWNvZGVIVE1MRW50aXRpZXMoYCR7ZGF0YX1gKSkpfWAsIHByb3BzLCB7XG4gICAgICAgIGRlbGltaXRlcjogYCR7U3ludGF4RGVsaW1pdGVyfWAsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGFzeW5jOiB0cnVlXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gU2Vuc2VuRGF0YVJlbmRlcihkYXRhLCBjb21wb25lbnQsIGNvbnRleHQsIHJlY29yZCkge1xuICAgIGxldCBjb250ZW50ID0gU3RhYmlsaXplU25hcENvZGVFeHByZXNzaW9uKFN0YWJpbGl6ZUVjaG9FeHByZXNzaW9uKGRlY29kZUhUTUxFbnRpdGllcyhkYXRhKSkpO1xuICAgIHJlY29yZC5tYXRjaGVzPy5tYXAobWF0Y2ggPT4ge1xuICAgICAgICBjb250ZW50ID0gY29udGVudD8ucmVwbGFjZShuZXcgUmVnRXhwKGAkeyhtYXRjaFswXSB8fCAnJykucmVwbGFjZSgvW15cXHdcXHNdL2dpLCAnXFxcXCQmJyl9YCwgJ2dpJyksIGA8JHtTeW50YXhEZWxpbWl0ZXJ9JHttYXRjaFsxXX0ke1N5bnRheERlbGltaXRlcn0+YCkgfHwgJyc7XG4gICAgfSk7XG4gICAgLy8gY29uc29sZS5sb2coJ1JlbmRlciBXSXRoJywgY29tcG9uZW50LiRwcm9wcywgY29udGV4dC5wcm9wcylcbiAgICByZXR1cm4gcmVuZGVyKGAke2NvbnRlbnR9YCwgY29tcG9uZW50LiRzdGF0ZSwge1xuICAgICAgICBkZWxpbWl0ZXI6IGAke1N5bnRheERlbGltaXRlcn1gLFxuICAgICAgICBjb250ZXh0OiBjb21wb25lbnQsXG4gICAgICAgIGFzeW5jOiB0cnVlXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gU2Vuc2VuTm9kZVJlbmRlcihub2RlLCBjb21wb25lbnQsIGNvbnRleHQsIHJlY29yZCkge1xuICAgIGxldCBjb250ZW50ID0gU3RhYmlsaXplU25hcENvZGVFeHByZXNzaW9uKFN0YWJpbGl6ZUVjaG9FeHByZXNzaW9uKGRlY29kZUhUTUxFbnRpdGllcygobm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSA/IG5vZGUuaW5uZXJIVE1MIDogbm9kZS50ZXh0Q29udGVudCB8fCAnJykpKTtcbiAgICAvLyBjb25zb2xlLmxvZygnU2Vuc2VuTm9kZVJlbmRlcicsIGNvbnRlbnQpXG4gICAgcmVjb3JkLm1hdGNoZXM/Lm1hcChtYXRjaCA9PiB7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50Py5yZXBsYWNlKG5ldyBSZWdFeHAoYCR7KG1hdGNoWzBdIHx8ICcnKS5yZXBsYWNlKC9bXlxcd1xcc10vZ2ksICdcXFxcJCYnKX1gLCAnZ2knKSwgYDwke1N5bnRheERlbGltaXRlcn0ke2RlY29kZUhUTUxFbnRpdGllcyhtYXRjaFsxXSl9ICR7U3ludGF4RGVsaW1pdGVyfT5gKSB8fCAnJztcbiAgICB9KTtcbiAgICAvLyBjb25zb2xlLmxvZyhcIlRvIGNvbXBpbGF0ZVwiLCBjb250ZW50LCBgLy8keyBjb21wb25lbnQuJHByb3BzLndvcmxkIH1gLCBgLy8keyBjb250ZXh0LnByb3BzPy53b3JsZCB9YClcbiAgICByZXR1cm4gcmVuZGVyKGAke2NvbnRlbnR9YCwgeyAuLi5jb21wb25lbnQuJHN0YXRlIH0sIHtcbiAgICAgICAgZGVsaW1pdGVyOiBgJHtTeW50YXhEZWxpbWl0ZXJ9YCxcbiAgICAgICAgY29udGV4dDogeyAuLi5jb21wb25lbnQsIC4uLmNvbnRleHQgfSxcbiAgICAgICAgYXN5bmM6IHRydWVcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBTZW5zZW5SZW5kZXIoZGF0YSwgY29tcG9uZW50LCBjb250ZXh0KSB7XG4gICAgbGV0IGNvbnRlbnQgPSBTdGFiaWxpemVTbmFwQ29kZUV4cHJlc3Npb24oU3RhYmlsaXplRWNob0V4cHJlc3Npb24oZGVjb2RlSFRNTEVudGl0aWVzKGRhdGEpKSk7XG4gICAgcmV0dXJuIHJlbmRlcihgJHtjb250ZW50fWAsIHsgLi4uY29tcG9uZW50LiRzdGF0ZSwgLi4uY29udGV4dCB9LCB7XG4gICAgICAgIGRlbGltaXRlcjogYCR7U3ludGF4RGVsaW1pdGVyfWAsXG4gICAgICAgIGNvbnRleHQ6IHsgLi4uY29tcG9uZW50LCAuLi5jb250ZXh0IH0sXG4gICAgICAgIGFzeW5jOiB0cnVlXG4gICAgfSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/sensen-jutsu/render.js\n");

/***/ }),

/***/ "./node_modules/sensen-jutsu/router.js":
/*!*********************************************!*\
  !*** ./node_modules/sensen-jutsu/router.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NavigateLinkComponent\": () => (/* binding */ NavigateLinkComponent),\n/* harmony export */   \"SensenRouter\": () => (/* binding */ SensenRouter),\n/* harmony export */   \"SensenRouterEntry\": () => (/* binding */ SensenRouterEntry),\n/* harmony export */   \"SensenRouterHistory\": () => (/* binding */ SensenRouterHistory)\n/* harmony export */ });\n/* harmony import */ var _appearance_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./appearance.js */ \"./node_modules/sensen-jutsu/appearance.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.js */ \"./node_modules/sensen-jutsu/index.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utilities.js */ \"./node_modules/sensen-jutsu/utilities.js\");\n\n\n\nclass SensenRouterHistory {\n    constructor() {\n        this.entries = [];\n        this.current = 0;\n    }\n    push(uri, route) {\n        return this;\n    }\n    get(key) {\n        return undefined;\n    }\n    replace(uri, route) {\n        return this;\n    }\n}\nclass SensenRouterEntry {\n    constructor(settings) {\n        this.settings = settings;\n    }\n    match(slug) {\n        const match = slug.match(this.settings.pattern);\n        if (match) {\n            console.log('Match Entry', slug, match);\n            return true;\n        }\n        return false;\n    }\n}\nclass SensenRouter {\n    constructor(options) {\n        this.options = options;\n        this.routes = {};\n        this.appearance = new _appearance_js__WEBPACK_IMPORTED_MODULE_0__.SensenAppearance;\n        this.options.syncWithLocation = typeof this.options.syncWithLocation == 'boolean' ? this.options.syncWithLocation : true;\n        this.initialize();\n    }\n    add(route) {\n        const key = route.settings.pattern;\n        this.routes[key] = route;\n        return this;\n    }\n    findQueryExpression(pattern, expression, slug) {\n        const matches = [...slug.matchAll(new RegExp(expression, 'gi'))];\n        if (matches.length) {\n            let query = {};\n            matches.forEach((match) => {\n                if (match[1]) {\n                    match.forEach((value, k) => {\n                        if (k > 0) {\n                            query[k - 1] = value;\n                        }\n                    });\n                }\n                else {\n                    const star = pattern.substring(pattern.length - 1);\n                    if (star == '*') {\n                        const mixRex = pattern.replace(/\\*/gi, `(.*)`);\n                        const mixQuery = this.findQueryExpression(pattern, mixRex, slug);\n                        query = { ...mixQuery };\n                        // query[0] = match.input?.substring( pattern.length - 1 ) || ''\n                    }\n                    else {\n                        // console.log('$>', star, match.input, query )\n                    }\n                }\n            });\n            return query;\n        }\n        return undefined;\n    }\n    find(slug) {\n        const $uri = this.concateURI(slug);\n        const routes = Object.values(this.routes);\n        let found = undefined;\n        for (let pattern = 0; pattern < routes.length; pattern++) {\n            const route = routes[pattern] || undefined;\n            if (route) {\n                if (route instanceof SensenRouterEntry) {\n                    if ($uri.name == route.settings.pattern) {\n                        found = route;\n                        break;\n                    }\n                    else {\n                        const rex = `${route.settings.pattern}`;\n                        route.query = this.findQueryExpression(route.settings.pattern, rex, $uri.name);\n                        if (!(0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.isEmptyObject)(route.query || {})) {\n                            found = route;\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return found;\n    }\n    run(state) {\n        const uri = this.getCurrentURI() || this.options.default || Object.keys(this.routes)[0] || undefined;\n        if (uri) {\n            const $uri = this.concateURI(uri);\n            // const route = this.routes[ $uri.name ] || undefined\n            const route = this.find(uri);\n            if (route instanceof SensenRouterEntry) {\n                this.navigate(route.settings.method, uri, $uri.params);\n            }\n            else {\n                throw (`SensenRouter : Default route nod found\"`);\n            }\n        }\n        else {\n            throw (`SensenRouter : No default route in \"option\"`);\n        }\n        return this;\n    }\n    initialize() {\n        this.history = new SensenRouterHistory();\n        if (!(this.options.canvas instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement)) {\n            throw (`SensenRouter : The canvas is not a SensenElement`);\n        }\n        this.appearance.selectors({\n            $self: {\n                position: 'relative',\n                display: 'block',\n                width: '100%',\n                height: '100%',\n                maxWidth: '100vw',\n                maxHeight: '100vh',\n                overflowX: 'hidden',\n                overflowY: 'auto',\n            },\n            '> *': {\n                display: 'block',\n                position: 'absolute',\n                top: '0',\n                left: '0',\n            }\n        }).mount().bind(this.options.canvas);\n        // this.options.canvas.style.position = `relative`;\n        // this.options.canvas.style.display = `block`;\n        window.addEventListener('hashchange', (ev) => {\n            const uri = (location.hash ? location.hash.substring(1) : this.options.default);\n            const $uri = this.concateURI(uri);\n            const route = this.find(uri);\n            // const params = URIParams(location.search)\n            // console.log('HashChange',location.search,  params)\n            if (route instanceof SensenRouterEntry) {\n                const $canvas = route.settings.canvas || this.options.canvas;\n                this.navigate(route.settings.method, uri, $uri.params, $canvas instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement ? $canvas : undefined);\n            }\n            else {\n                history.go(-1);\n                history.replaceState({}, document.title, location.href);\n                console.error(route);\n                throw ('SensenRouter : Route not found');\n            }\n            this.navigate(route.settings.method, uri, {});\n        });\n        return this;\n    }\n    clean() {\n        return this;\n    }\n    concateURI(slug) {\n        const ex = (`${slug}`).split('?');\n        return {\n            name: (ex[0]),\n            query: decodeURIComponent(ex[1] || ''),\n            params: (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.URIParams)(ex[1] || '') || {}\n        };\n    }\n    isDeployed(instance) {\n        if (instance instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement && instance.$application instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement) {\n            const query = `${instance.$application?.tagName} > ${instance.tagName}`;\n            return instance.$application?.querySelector(query) ? true : false;\n        }\n        return false;\n    }\n    stabilizeUI() {\n        const $canvas = this.options.canvas;\n        // if($canvas instanceof HTMLElement){\n        //     if($canvas.children.length){\n        //         Object.values($canvas.children).forEach(child=>{\n        //             if(child instanceof HTMLElement){\n        //                 child.style.display = 'block';\n        //             }\n        //         })\n        //     }\n        // }\n        return this;\n    }\n    navigate(method, uri, state, canvas) {\n        const $uri = this.concateURI(uri);\n        const $canvas = canvas || this.options.canvas || undefined;\n        const $method = method || 'get';\n        state = !(0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.isEmptyObject)($uri.params || {}) ? $uri.params : state;\n        $uri.params = state || {};\n        return new Promise((resolved, rejected) => {\n            const route = this.find(uri);\n            if (route) {\n                // const route = this.routes[ $uri.name as keyof SensenRouterScheme ] || undefined\n                if (route && this.currentRoute && route.settings.pattern == this.currentRoute.settings.pattern) {\n                    if (route.settings.component instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement) {\n                        this.switchDone({ uri, state, route, current: route.settings.component, canvas: $canvas });\n                        route.settings.component.$render(state);\n                    }\n                    resolved(route);\n                }\n                else if (route) {\n                    if (route.settings.component instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement && $canvas instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement) {\n                        this.switch($canvas, route.settings.component, this.currentComponent, state).then(current => {\n                            this.switchDone({ uri, state, route, current, canvas: $canvas });\n                        });\n                    }\n                    else if (route.settings.component && (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.isClass)(route.settings.component)) {\n                        // @ts-ignore\n                        const $instance = (new route.settings.component(state));\n                        if ($instance instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement && $canvas instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement) {\n                            route.settings.component = $instance;\n                            this.switch($canvas, $instance, this.currentComponent, state).then(current => {\n                                this.switchDone({ uri, state, route, current, canvas: $canvas });\n                            });\n                        }\n                        else {\n                            throw (`SensenRouter : Route component is not a SensenElement Class instance\"`);\n                        }\n                    }\n                    else {\n                        throw (`SensenRouter : Route component not found\"`);\n                    }\n                }\n                else {\n                    console.error('Route', route);\n                    throw (`SensenRouter : Route not found (${uri}) `);\n                }\n            }\n        });\n    }\n    switchDone({ uri, state, route, current, canvas }) {\n        const currentURI = this.getCurrentURI();\n        if (current instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement && route) {\n            const $uri = this.concateURI(uri);\n            const query = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.URIParamsQuery)(state || {}) || '';\n            // @ts-ignore\n            const _uri = (`#${$uri.name}${query ? `?${query}` : ``}`);\n            this.currentComponent = current;\n            this.currentRoute = route;\n            route.settings.canvas = canvas;\n            // console.warn('Method', _uri, route.settings.method, state, query )\n            if (currentURI && currentURI == _uri) {\n                console.error('Stop', _uri, currentURI);\n                return this;\n            }\n            else {\n                if (route.settings.method == 'get') {\n                    location.href = `${_uri}`;\n                    // history.pushState(state||{}, document.title, _uri)\n                }\n                else if (route.settings.method == 'post') {\n                    location.href = `#${$uri.name}`;\n                    // history.pushState(state||{}, document.title, `#${ $uri.name }` )\n                    // console.warn('Post Method', route, _uri)\n                }\n            }\n        }\n        return this;\n    }\n    switch(canvas, entry, exit, state) {\n        return new Promise((resolved, rejected) => {\n            if (canvas instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement) {\n                if (entry instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement) {\n                    const deployed = this.isDeployed(entry);\n                    const firstTime = !entry.$showing;\n                    entry.style.zIndex = '2';\n                    if (exit instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement) {\n                        exit.style.zIndex = '1';\n                        exit.style.display = 'block';\n                        exit.$destroy(firstTime ? false : true).then(element => {\n                            if (!firstTime) {\n                                exit.$showing = false;\n                            }\n                            element.style.display = 'none';\n                            element.innerHTML = '';\n                            // console.log('Destroy', element)\n                        });\n                    }\n                    if (deployed) {\n                        // entry.style.removeProperty('display');\n                        entry.style.display = 'block';\n                        window.requestAnimationFrame(() => {\n                            entry.$build(deployed).then(el => entry.$render(state));\n                        });\n                    }\n                    if (!deployed) {\n                        canvas.appendChild(entry);\n                    }\n                    // console.warn('Entry', firstTime, entry )\n                    entry.$showing = true;\n                    entry.$build(firstTime ? true : false)\n                        .then(element => {\n                        resolved(entry);\n                    });\n                }\n                else {\n                    rejected(entry);\n                    throw (`SensenRouter : The entry component is not a SensenElement`);\n                }\n            }\n            else {\n                rejected(entry);\n                throw (`SensenRouter : The canvas is not a SensenElement`);\n            }\n        });\n    }\n    getCurrentURI() {\n        return location.hash ? location.hash.substring(1) : undefined;\n    }\n    get(slug, state, canvas) {\n        return this.navigate.apply(this, [\n            'get', slug, state, canvas instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement ? canvas : undefined\n        ]);\n    }\n    post(slug, state, canvas) {\n        return this.navigate.apply(this, [\n            'post', slug, state, canvas instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement ? canvas : undefined\n        ]);\n    }\n    put(slug, state, canvas) {\n        return this.navigate.apply(this, [\n            'put', slug, state, canvas instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement ? canvas : undefined\n        ]);\n    }\n}\nclass NavigateLinkComponent extends HTMLElement {\n    constructor() {\n        super();\n    }\n    $handler() {\n        const $uri = this.getAttribute('uri');\n        const $method = this.getAttribute('method');\n        const $state = this.getAttribute('state') || '{}';\n        let $globalRouter = window.$SensenRouter || undefined;\n        if (typeof $uri == \"string\") {\n            const $router = ((this.$parentComponent instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.SensenElement &&\n                this.$parentComponent?.$application instanceof _index_js__WEBPACK_IMPORTED_MODULE_1__.KuchiyoceElement &&\n                this.$parentComponent?.$application.$router instanceof SensenRouter) ? this.$parentComponent?.$application.$router : false) || $globalRouter;\n            $router.navigate($method || 'get', $uri, JSON.parse($state));\n        }\n    }\n    connectedCallback() {\n        this.setAttribute('tabindex', '0');\n        this.removeEventListener('click', this.$handler.bind(this), false);\n        this.addEventListener('click', this.$handler.bind(this), false);\n        // this.onclick = this.$handler.bind(this)\n    }\n    disconnectedCallback() {\n        this.removeEventListener('click', this.$handler.bind(this), false);\n    }\n}\nif (!customElements.get('navigate-link')) {\n    customElements.define('navigate-link', NavigateLinkComponent);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2Vuc2VuLWp1dHN1L3JvdXRlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2Vuc2VuLXdhcHAvLi9ub2RlX21vZHVsZXMvc2Vuc2VuLWp1dHN1L3JvdXRlci5qcz8zNjQyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlbnNlbkFwcGVhcmFuY2UgfSBmcm9tIFwiLi9hcHBlYXJhbmNlLmpzXCI7XG5pbXBvcnQgeyBLdWNoaXlvY2VFbGVtZW50LCBTZW5zZW5FbGVtZW50IH0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCB7IGlzQ2xhc3MsIGlzRW1wdHlPYmplY3QsIFVSSVBhcmFtcywgVVJJUGFyYW1zUXVlcnkgfSBmcm9tIFwiLi91dGlsaXRpZXMuanNcIjtcbmV4cG9ydCBjbGFzcyBTZW5zZW5Sb3V0ZXJIaXN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5lbnRyaWVzID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudCA9IDA7XG4gICAgfVxuICAgIHB1c2godXJpLCByb3V0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0KGtleSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXBsYWNlKHVyaSwgcm91dGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFNlbnNlblJvdXRlckVudHJ5IHtcbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgfVxuICAgIG1hdGNoKHNsdWcpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBzbHVnLm1hdGNoKHRoaXMuc2V0dGluZ3MucGF0dGVybik7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ01hdGNoIEVudHJ5Jywgc2x1ZywgbWF0Y2gpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBTZW5zZW5Sb3V0ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5yb3V0ZXMgPSB7fTtcbiAgICAgICAgdGhpcy5hcHBlYXJhbmNlID0gbmV3IFNlbnNlbkFwcGVhcmFuY2U7XG4gICAgICAgIHRoaXMub3B0aW9ucy5zeW5jV2l0aExvY2F0aW9uID0gdHlwZW9mIHRoaXMub3B0aW9ucy5zeW5jV2l0aExvY2F0aW9uID09ICdib29sZWFuJyA/IHRoaXMub3B0aW9ucy5zeW5jV2l0aExvY2F0aW9uIDogdHJ1ZTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgfVxuICAgIGFkZChyb3V0ZSkge1xuICAgICAgICBjb25zdCBrZXkgPSByb3V0ZS5zZXR0aW5ncy5wYXR0ZXJuO1xuICAgICAgICB0aGlzLnJvdXRlc1trZXldID0gcm91dGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBmaW5kUXVlcnlFeHByZXNzaW9uKHBhdHRlcm4sIGV4cHJlc3Npb24sIHNsdWcpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IFsuLi5zbHVnLm1hdGNoQWxsKG5ldyBSZWdFeHAoZXhwcmVzc2lvbiwgJ2dpJykpXTtcbiAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgcXVlcnkgPSB7fTtcbiAgICAgICAgICAgIG1hdGNoZXMuZm9yRWFjaCgobWF0Y2gpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2guZm9yRWFjaCgodmFsdWUsIGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5W2sgLSAxXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXIgPSBwYXR0ZXJuLnN1YnN0cmluZyhwYXR0ZXJuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhciA9PSAnKicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1peFJleCA9IHBhdHRlcm4ucmVwbGFjZSgvXFwqL2dpLCBgKC4qKWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWl4UXVlcnkgPSB0aGlzLmZpbmRRdWVyeUV4cHJlc3Npb24ocGF0dGVybiwgbWl4UmV4LCBzbHVnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5ID0geyAuLi5taXhRdWVyeSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcXVlcnlbMF0gPSBtYXRjaC5pbnB1dD8uc3Vic3RyaW5nKCBwYXR0ZXJuLmxlbmd0aCAtIDEgKSB8fCAnJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJyQ+Jywgc3RhciwgbWF0Y2guaW5wdXQsIHF1ZXJ5IClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGZpbmQoc2x1Zykge1xuICAgICAgICBjb25zdCAkdXJpID0gdGhpcy5jb25jYXRlVVJJKHNsdWcpO1xuICAgICAgICBjb25zdCByb3V0ZXMgPSBPYmplY3QudmFsdWVzKHRoaXMucm91dGVzKTtcbiAgICAgICAgbGV0IGZvdW5kID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGxldCBwYXR0ZXJuID0gMDsgcGF0dGVybiA8IHJvdXRlcy5sZW5ndGg7IHBhdHRlcm4rKykge1xuICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb3V0ZXNbcGF0dGVybl0gfHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlIGluc3RhbmNlb2YgU2Vuc2VuUm91dGVyRW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCR1cmkubmFtZSA9PSByb3V0ZS5zZXR0aW5ncy5wYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHJvdXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXggPSBgJHtyb3V0ZS5zZXR0aW5ncy5wYXR0ZXJufWA7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0ZS5xdWVyeSA9IHRoaXMuZmluZFF1ZXJ5RXhwcmVzc2lvbihyb3V0ZS5zZXR0aW5ncy5wYXR0ZXJuLCByZXgsICR1cmkubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRW1wdHlPYmplY3Qocm91dGUucXVlcnkgfHwge30pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSByb3V0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgfVxuICAgIHJ1bihzdGF0ZSkge1xuICAgICAgICBjb25zdCB1cmkgPSB0aGlzLmdldEN1cnJlbnRVUkkoKSB8fCB0aGlzLm9wdGlvbnMuZGVmYXVsdCB8fCBPYmplY3Qua2V5cyh0aGlzLnJvdXRlcylbMF0gfHwgdW5kZWZpbmVkO1xuICAgICAgICBpZiAodXJpKSB7XG4gICAgICAgICAgICBjb25zdCAkdXJpID0gdGhpcy5jb25jYXRlVVJJKHVyaSk7XG4gICAgICAgICAgICAvLyBjb25zdCByb3V0ZSA9IHRoaXMucm91dGVzWyAkdXJpLm5hbWUgXSB8fCB1bmRlZmluZWRcbiAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gdGhpcy5maW5kKHVyaSk7XG4gICAgICAgICAgICBpZiAocm91dGUgaW5zdGFuY2VvZiBTZW5zZW5Sb3V0ZXJFbnRyeSkge1xuICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdGUocm91dGUuc2V0dGluZ3MubWV0aG9kLCB1cmksICR1cmkucGFyYW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IChgU2Vuc2VuUm91dGVyIDogRGVmYXVsdCByb3V0ZSBub2QgZm91bmRcImApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgKGBTZW5zZW5Sb3V0ZXIgOiBObyBkZWZhdWx0IHJvdXRlIGluIFwib3B0aW9uXCJgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5oaXN0b3J5ID0gbmV3IFNlbnNlblJvdXRlckhpc3RvcnkoKTtcbiAgICAgICAgaWYgKCEodGhpcy5vcHRpb25zLmNhbnZhcyBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyAoYFNlbnNlblJvdXRlciA6IFRoZSBjYW52YXMgaXMgbm90IGEgU2Vuc2VuRWxlbWVudGApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXBwZWFyYW5jZS5zZWxlY3RvcnMoe1xuICAgICAgICAgICAgJHNlbGY6IHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICAgICAgbWF4V2lkdGg6ICcxMDB2dycsXG4gICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiAnMTAwdmgnLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93WDogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJz4gKic6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgIHRvcDogJzAnLFxuICAgICAgICAgICAgICAgIGxlZnQ6ICcwJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkubW91bnQoKS5iaW5kKHRoaXMub3B0aW9ucy5jYW52YXMpO1xuICAgICAgICAvLyB0aGlzLm9wdGlvbnMuY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gYHJlbGF0aXZlYDtcbiAgICAgICAgLy8gdGhpcy5vcHRpb25zLmNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gYGJsb2NrYDtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVyaSA9IChsb2NhdGlvbi5oYXNoID8gbG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSkgOiB0aGlzLm9wdGlvbnMuZGVmYXVsdCk7XG4gICAgICAgICAgICBjb25zdCAkdXJpID0gdGhpcy5jb25jYXRlVVJJKHVyaSk7XG4gICAgICAgICAgICBjb25zdCByb3V0ZSA9IHRoaXMuZmluZCh1cmkpO1xuICAgICAgICAgICAgLy8gY29uc3QgcGFyYW1zID0gVVJJUGFyYW1zKGxvY2F0aW9uLnNlYXJjaClcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdIYXNoQ2hhbmdlJyxsb2NhdGlvbi5zZWFyY2gsICBwYXJhbXMpXG4gICAgICAgICAgICBpZiAocm91dGUgaW5zdGFuY2VvZiBTZW5zZW5Sb3V0ZXJFbnRyeSkge1xuICAgICAgICAgICAgICAgIGNvbnN0ICRjYW52YXMgPSByb3V0ZS5zZXR0aW5ncy5jYW52YXMgfHwgdGhpcy5vcHRpb25zLmNhbnZhcztcbiAgICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRlKHJvdXRlLnNldHRpbmdzLm1ldGhvZCwgdXJpLCAkdXJpLnBhcmFtcywgJGNhbnZhcyBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQgPyAkY2FudmFzIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhpc3RvcnkuZ28oLTEpO1xuICAgICAgICAgICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCBkb2N1bWVudC50aXRsZSwgbG9jYXRpb24uaHJlZik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihyb3V0ZSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgKCdTZW5zZW5Sb3V0ZXIgOiBSb3V0ZSBub3QgZm91bmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGUocm91dGUuc2V0dGluZ3MubWV0aG9kLCB1cmksIHt9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjbGVhbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNvbmNhdGVVUkkoc2x1Zykge1xuICAgICAgICBjb25zdCBleCA9IChgJHtzbHVnfWApLnNwbGl0KCc/Jyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiAoZXhbMF0pLFxuICAgICAgICAgICAgcXVlcnk6IGRlY29kZVVSSUNvbXBvbmVudChleFsxXSB8fCAnJyksXG4gICAgICAgICAgICBwYXJhbXM6IFVSSVBhcmFtcyhleFsxXSB8fCAnJykgfHwge31cbiAgICAgICAgfTtcbiAgICB9XG4gICAgaXNEZXBsb3llZChpbnN0YW5jZSkge1xuICAgICAgICBpZiAoaW5zdGFuY2UgaW5zdGFuY2VvZiBTZW5zZW5FbGVtZW50ICYmIGluc3RhbmNlLiRhcHBsaWNhdGlvbiBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gYCR7aW5zdGFuY2UuJGFwcGxpY2F0aW9uPy50YWdOYW1lfSA+ICR7aW5zdGFuY2UudGFnTmFtZX1gO1xuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlLiRhcHBsaWNhdGlvbj8ucXVlcnlTZWxlY3RvcihxdWVyeSkgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzdGFiaWxpemVVSSgpIHtcbiAgICAgICAgY29uc3QgJGNhbnZhcyA9IHRoaXMub3B0aW9ucy5jYW52YXM7XG4gICAgICAgIC8vIGlmKCRjYW52YXMgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7XG4gICAgICAgIC8vICAgICBpZigkY2FudmFzLmNoaWxkcmVuLmxlbmd0aCl7XG4gICAgICAgIC8vICAgICAgICAgT2JqZWN0LnZhbHVlcygkY2FudmFzLmNoaWxkcmVuKS5mb3JFYWNoKGNoaWxkPT57XG4gICAgICAgIC8vICAgICAgICAgICAgIGlmKGNoaWxkIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpe1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgY2hpbGQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIC8vICAgICAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICB9KVxuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBuYXZpZ2F0ZShtZXRob2QsIHVyaSwgc3RhdGUsIGNhbnZhcykge1xuICAgICAgICBjb25zdCAkdXJpID0gdGhpcy5jb25jYXRlVVJJKHVyaSk7XG4gICAgICAgIGNvbnN0ICRjYW52YXMgPSBjYW52YXMgfHwgdGhpcy5vcHRpb25zLmNhbnZhcyB8fCB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0ICRtZXRob2QgPSBtZXRob2QgfHwgJ2dldCc7XG4gICAgICAgIHN0YXRlID0gIWlzRW1wdHlPYmplY3QoJHVyaS5wYXJhbXMgfHwge30pID8gJHVyaS5wYXJhbXMgOiBzdGF0ZTtcbiAgICAgICAgJHVyaS5wYXJhbXMgPSBzdGF0ZSB8fCB7fTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlZCwgcmVqZWN0ZWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gdGhpcy5maW5kKHVyaSk7XG4gICAgICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICAvLyBjb25zdCByb3V0ZSA9IHRoaXMucm91dGVzWyAkdXJpLm5hbWUgYXMga2V5b2YgU2Vuc2VuUm91dGVyU2NoZW1lIF0gfHwgdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlICYmIHRoaXMuY3VycmVudFJvdXRlICYmIHJvdXRlLnNldHRpbmdzLnBhdHRlcm4gPT0gdGhpcy5jdXJyZW50Um91dGUuc2V0dGluZ3MucGF0dGVybikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocm91dGUuc2V0dGluZ3MuY29tcG9uZW50IGluc3RhbmNlb2YgU2Vuc2VuRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zd2l0Y2hEb25lKHsgdXJpLCBzdGF0ZSwgcm91dGUsIGN1cnJlbnQ6IHJvdXRlLnNldHRpbmdzLmNvbXBvbmVudCwgY2FudmFzOiAkY2FudmFzIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGUuc2V0dGluZ3MuY29tcG9uZW50LiRyZW5kZXIoc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkKHJvdXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvdXRlLnNldHRpbmdzLmNvbXBvbmVudCBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQgJiYgJGNhbnZhcyBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoKCRjYW52YXMsIHJvdXRlLnNldHRpbmdzLmNvbXBvbmVudCwgdGhpcy5jdXJyZW50Q29tcG9uZW50LCBzdGF0ZSkudGhlbihjdXJyZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaERvbmUoeyB1cmksIHN0YXRlLCByb3V0ZSwgY3VycmVudCwgY2FudmFzOiAkY2FudmFzIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocm91dGUuc2V0dGluZ3MuY29tcG9uZW50ICYmIGlzQ2xhc3Mocm91dGUuc2V0dGluZ3MuY29tcG9uZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgJGluc3RhbmNlID0gKG5ldyByb3V0ZS5zZXR0aW5ncy5jb21wb25lbnQoc3RhdGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkaW5zdGFuY2UgaW5zdGFuY2VvZiBTZW5zZW5FbGVtZW50ICYmICRjYW52YXMgaW5zdGFuY2VvZiBTZW5zZW5FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGUuc2V0dGluZ3MuY29tcG9uZW50ID0gJGluc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoKCRjYW52YXMsICRpbnN0YW5jZSwgdGhpcy5jdXJyZW50Q29tcG9uZW50LCBzdGF0ZSkudGhlbihjdXJyZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zd2l0Y2hEb25lKHsgdXJpLCBzdGF0ZSwgcm91dGUsIGN1cnJlbnQsIGNhbnZhczogJGNhbnZhcyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IChgU2Vuc2VuUm91dGVyIDogUm91dGUgY29tcG9uZW50IGlzIG5vdCBhIFNlbnNlbkVsZW1lbnQgQ2xhc3MgaW5zdGFuY2VcImApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgKGBTZW5zZW5Sb3V0ZXIgOiBSb3V0ZSBjb21wb25lbnQgbm90IGZvdW5kXCJgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignUm91dGUnLCByb3V0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IChgU2Vuc2VuUm91dGVyIDogUm91dGUgbm90IGZvdW5kICgke3VyaX0pIGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN3aXRjaERvbmUoeyB1cmksIHN0YXRlLCByb3V0ZSwgY3VycmVudCwgY2FudmFzIH0pIHtcbiAgICAgICAgY29uc3QgY3VycmVudFVSSSA9IHRoaXMuZ2V0Q3VycmVudFVSSSgpO1xuICAgICAgICBpZiAoY3VycmVudCBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQgJiYgcm91dGUpIHtcbiAgICAgICAgICAgIGNvbnN0ICR1cmkgPSB0aGlzLmNvbmNhdGVVUkkodXJpKTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gVVJJUGFyYW1zUXVlcnkoc3RhdGUgfHwge30pIHx8ICcnO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgY29uc3QgX3VyaSA9IChgIyR7JHVyaS5uYW1lfSR7cXVlcnkgPyBgPyR7cXVlcnl9YCA6IGBgfWApO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29tcG9uZW50ID0gY3VycmVudDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFJvdXRlID0gcm91dGU7XG4gICAgICAgICAgICByb3V0ZS5zZXR0aW5ncy5jYW52YXMgPSBjYW52YXM7XG4gICAgICAgICAgICAvLyBjb25zb2xlLndhcm4oJ01ldGhvZCcsIF91cmksIHJvdXRlLnNldHRpbmdzLm1ldGhvZCwgc3RhdGUsIHF1ZXJ5IClcbiAgICAgICAgICAgIGlmIChjdXJyZW50VVJJICYmIGN1cnJlbnRVUkkgPT0gX3VyaSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1N0b3AnLCBfdXJpLCBjdXJyZW50VVJJKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChyb3V0ZS5zZXR0aW5ncy5tZXRob2QgPT0gJ2dldCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGAke191cml9YDtcbiAgICAgICAgICAgICAgICAgICAgLy8gaGlzdG9yeS5wdXNoU3RhdGUoc3RhdGV8fHt9LCBkb2N1bWVudC50aXRsZSwgX3VyaSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocm91dGUuc2V0dGluZ3MubWV0aG9kID09ICdwb3N0Jykge1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gYCMkeyR1cmkubmFtZX1gO1xuICAgICAgICAgICAgICAgICAgICAvLyBoaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZXx8e30sIGRvY3VtZW50LnRpdGxlLCBgIyR7ICR1cmkubmFtZSB9YCApXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybignUG9zdCBNZXRob2QnLCByb3V0ZSwgX3VyaSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHN3aXRjaChjYW52YXMsIGVudHJ5LCBleGl0LCBzdGF0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmVkLCByZWplY3RlZCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNhbnZhcyBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkgaW5zdGFuY2VvZiBTZW5zZW5FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlcGxveWVkID0gdGhpcy5pc0RlcGxveWVkKGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RUaW1lID0gIWVudHJ5LiRzaG93aW5nO1xuICAgICAgICAgICAgICAgICAgICBlbnRyeS5zdHlsZS56SW5kZXggPSAnMic7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleGl0IGluc3RhbmNlb2YgU2Vuc2VuRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhpdC5zdHlsZS56SW5kZXggPSAnMSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBleGl0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhpdC4kZGVzdHJveShmaXJzdFRpbWUgPyBmYWxzZSA6IHRydWUpLnRoZW4oZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaXJzdFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpdC4kc2hvd2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnRGVzdHJveScsIGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVwbG95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVudHJ5LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdkaXNwbGF5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LiRidWlsZChkZXBsb3llZCkudGhlbihlbCA9PiBlbnRyeS4kcmVuZGVyKHN0YXRlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRlcGxveWVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQoZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybignRW50cnknLCBmaXJzdFRpbWUsIGVudHJ5IClcbiAgICAgICAgICAgICAgICAgICAgZW50cnkuJHNob3dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBlbnRyeS4kYnVpbGQoZmlyc3RUaW1lID8gdHJ1ZSA6IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlZChlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0ZWQoZW50cnkpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyAoYFNlbnNlblJvdXRlciA6IFRoZSBlbnRyeSBjb21wb25lbnQgaXMgbm90IGEgU2Vuc2VuRWxlbWVudGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdGVkKGVudHJ5KTtcbiAgICAgICAgICAgICAgICB0aHJvdyAoYFNlbnNlblJvdXRlciA6IFRoZSBjYW52YXMgaXMgbm90IGEgU2Vuc2VuRWxlbWVudGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0Q3VycmVudFVSSSgpIHtcbiAgICAgICAgcmV0dXJuIGxvY2F0aW9uLmhhc2ggPyBsb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZ2V0KHNsdWcsIHN0YXRlLCBjYW52YXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmF2aWdhdGUuYXBwbHkodGhpcywgW1xuICAgICAgICAgICAgJ2dldCcsIHNsdWcsIHN0YXRlLCBjYW52YXMgaW5zdGFuY2VvZiBTZW5zZW5FbGVtZW50ID8gY2FudmFzIDogdW5kZWZpbmVkXG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBwb3N0KHNsdWcsIHN0YXRlLCBjYW52YXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmF2aWdhdGUuYXBwbHkodGhpcywgW1xuICAgICAgICAgICAgJ3Bvc3QnLCBzbHVnLCBzdGF0ZSwgY2FudmFzIGluc3RhbmNlb2YgU2Vuc2VuRWxlbWVudCA/IGNhbnZhcyA6IHVuZGVmaW5lZFxuICAgICAgICBdKTtcbiAgICB9XG4gICAgcHV0KHNsdWcsIHN0YXRlLCBjYW52YXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmF2aWdhdGUuYXBwbHkodGhpcywgW1xuICAgICAgICAgICAgJ3B1dCcsIHNsdWcsIHN0YXRlLCBjYW52YXMgaW5zdGFuY2VvZiBTZW5zZW5FbGVtZW50ID8gY2FudmFzIDogdW5kZWZpbmVkXG4gICAgICAgIF0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOYXZpZ2F0ZUxpbmtDb21wb25lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgICRoYW5kbGVyKCkge1xuICAgICAgICBjb25zdCAkdXJpID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ3VyaScpO1xuICAgICAgICBjb25zdCAkbWV0aG9kID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ21ldGhvZCcpO1xuICAgICAgICBjb25zdCAkc3RhdGUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnc3RhdGUnKSB8fCAne30nO1xuICAgICAgICBsZXQgJGdsb2JhbFJvdXRlciA9IHdpbmRvdy4kU2Vuc2VuUm91dGVyIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHR5cGVvZiAkdXJpID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnN0ICRyb3V0ZXIgPSAoKHRoaXMuJHBhcmVudENvbXBvbmVudCBpbnN0YW5jZW9mIFNlbnNlbkVsZW1lbnQgJiZcbiAgICAgICAgICAgICAgICB0aGlzLiRwYXJlbnRDb21wb25lbnQ/LiRhcHBsaWNhdGlvbiBpbnN0YW5jZW9mIEt1Y2hpeW9jZUVsZW1lbnQgJiZcbiAgICAgICAgICAgICAgICB0aGlzLiRwYXJlbnRDb21wb25lbnQ/LiRhcHBsaWNhdGlvbi4kcm91dGVyIGluc3RhbmNlb2YgU2Vuc2VuUm91dGVyKSA/IHRoaXMuJHBhcmVudENvbXBvbmVudD8uJGFwcGxpY2F0aW9uLiRyb3V0ZXIgOiBmYWxzZSkgfHwgJGdsb2JhbFJvdXRlcjtcbiAgICAgICAgICAgICRyb3V0ZXIubmF2aWdhdGUoJG1ldGhvZCB8fCAnZ2V0JywgJHVyaSwgSlNPTi5wYXJzZSgkc3RhdGUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuJGhhbmRsZXIuYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy4kaGFuZGxlci5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgICAgIC8vIHRoaXMub25jbGljayA9IHRoaXMuJGhhbmRsZXIuYmluZCh0aGlzKVxuICAgIH1cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuJGhhbmRsZXIuYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgIH1cbn1cbmlmICghY3VzdG9tRWxlbWVudHMuZ2V0KCduYXZpZ2F0ZS1saW5rJykpIHtcbiAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ25hdmlnYXRlLWxpbmsnLCBOYXZpZ2F0ZUxpbmtDb21wb25lbnQpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/sensen-jutsu/router.js\n");

/***/ }),

/***/ "./node_modules/sensen-jutsu/state.js":
/*!********************************************!*\
  !*** ./node_modules/sensen-jutsu/state.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SensenState\": () => (/* binding */ SensenState)\n/* harmony export */ });\n/* harmony import */ var _emitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./emitter.js */ \"./node_modules/sensen-jutsu/emitter.js\");\n\nclass SensenState {\n    constructor(state) {\n        this.state = state;\n        this.store = {};\n        this.$emitter = new _emitter_js__WEBPACK_IMPORTED_MODULE_0__.SensenEmitter();\n        this.store = { ...(this.state || {}) };\n        // this.store = Object.assign({}, {...(this.state||{})} )    \n        this.proxies();\n    }\n    make(key, value) {\n        const slot = key;\n        this.state[slot] = this.state[slot] || value;\n        if (Array.isArray(value)) {\n            // this.store[ slot ] = [...value];\n            this.setObjectProxy(slot, [...value]);\n        }\n        else if (typeof value == 'object') {\n            // this.store[ slot ] = {...value};\n            this.setObjectProxy(slot, { ...value });\n        }\n        else {\n            this.store[slot] = value;\n            this.setDataProxy(slot);\n        }\n        return this.state[slot];\n    }\n    proxies() {\n        if (typeof this.state == 'object') {\n            Object.entries(this.state).map($ => {\n                const slot = $[0];\n                this.make(slot, $[1]);\n            });\n        }\n        return this;\n    }\n    setObjectProxy(slot, input) {\n        const $ = this;\n        this.state[slot] = new Proxy(this.state[slot], {\n            set: function (target, prop, value) {\n                target[prop] = value;\n                $.store[slot] = value;\n                $.$emitter.dispatch('objectHydrates', { slot, value: target[prop] });\n                $.$emitter.dispatch('hydrates', { slot, value: target[prop] });\n                return true;\n            }\n        });\n        return this;\n    }\n    setDataProxy(slot) {\n        const $ = this;\n        Object.defineProperty(this.state, slot, {\n            get() { return $.store[slot]; },\n            set(value) {\n                $.store[slot] = value;\n                // console.log('setDataProxy : ', slot, ' = ', value)\n                $.$emitter.dispatch('dataHydrates', { slot, value });\n                $.$emitter.dispatch('hydrates', { slot, value });\n                return true;\n            },\n        });\n        return this;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2Vuc2VuLWp1dHN1L3N0YXRlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZW5zZW4td2FwcC8uL25vZGVfbW9kdWxlcy9zZW5zZW4tanV0c3Uvc3RhdGUuanM/OWJmYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZW5zZW5FbWl0dGVyIH0gZnJvbSBcIi4vZW1pdHRlci5qc1wiO1xuZXhwb3J0IGNsYXNzIFNlbnNlblN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihzdGF0ZSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMuc3RvcmUgPSB7fTtcbiAgICAgICAgdGhpcy4kZW1pdHRlciA9IG5ldyBTZW5zZW5FbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuc3RvcmUgPSB7IC4uLih0aGlzLnN0YXRlIHx8IHt9KSB9O1xuICAgICAgICAvLyB0aGlzLnN0b3JlID0gT2JqZWN0LmFzc2lnbih7fSwgey4uLih0aGlzLnN0YXRlfHx7fSl9ICkgICAgXG4gICAgICAgIHRoaXMucHJveGllcygpO1xuICAgIH1cbiAgICBtYWtlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3Qgc2xvdCA9IGtleTtcbiAgICAgICAgdGhpcy5zdGF0ZVtzbG90XSA9IHRoaXMuc3RhdGVbc2xvdF0gfHwgdmFsdWU7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgLy8gdGhpcy5zdG9yZVsgc2xvdCBdID0gWy4uLnZhbHVlXTtcbiAgICAgICAgICAgIHRoaXMuc2V0T2JqZWN0UHJveHkoc2xvdCwgWy4uLnZhbHVlXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAvLyB0aGlzLnN0b3JlWyBzbG90IF0gPSB7Li4udmFsdWV9O1xuICAgICAgICAgICAgdGhpcy5zZXRPYmplY3RQcm94eShzbG90LCB7IC4uLnZhbHVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdG9yZVtzbG90XSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5zZXREYXRhUHJveHkoc2xvdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVbc2xvdF07XG4gICAgfVxuICAgIHByb3hpZXMoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zdGF0ZSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0ZSkubWFwKCQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNsb3QgPSAkWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMubWFrZShzbG90LCAkWzFdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXRPYmplY3RQcm94eShzbG90LCBpbnB1dCkge1xuICAgICAgICBjb25zdCAkID0gdGhpcztcbiAgICAgICAgdGhpcy5zdGF0ZVtzbG90XSA9IG5ldyBQcm94eSh0aGlzLnN0YXRlW3Nsb3RdLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0YXJnZXQsIHByb3AsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgJC5zdG9yZVtzbG90XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICQuJGVtaXR0ZXIuZGlzcGF0Y2goJ29iamVjdEh5ZHJhdGVzJywgeyBzbG90LCB2YWx1ZTogdGFyZ2V0W3Byb3BdIH0pO1xuICAgICAgICAgICAgICAgICQuJGVtaXR0ZXIuZGlzcGF0Y2goJ2h5ZHJhdGVzJywgeyBzbG90LCB2YWx1ZTogdGFyZ2V0W3Byb3BdIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldERhdGFQcm94eShzbG90KSB7XG4gICAgICAgIGNvbnN0ICQgPSB0aGlzO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5zdGF0ZSwgc2xvdCwge1xuICAgICAgICAgICAgZ2V0KCkgeyByZXR1cm4gJC5zdG9yZVtzbG90XTsgfSxcbiAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICQuc3RvcmVbc2xvdF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc2V0RGF0YVByb3h5IDogJywgc2xvdCwgJyA9ICcsIHZhbHVlKVxuICAgICAgICAgICAgICAgICQuJGVtaXR0ZXIuZGlzcGF0Y2goJ2RhdGFIeWRyYXRlcycsIHsgc2xvdCwgdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgJC4kZW1pdHRlci5kaXNwYXRjaCgnaHlkcmF0ZXMnLCB7IHNsb3QsIHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/sensen-jutsu/state.js\n");

/***/ }),

/***/ "./node_modules/sensen-jutsu/utilities.js":
/*!************************************************!*\
  !*** ./node_modules/sensen-jutsu/utilities.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ArrayRange\": () => (/* binding */ ArrayRange),\n/* harmony export */   \"CloneObject\": () => (/* binding */ CloneObject),\n/* harmony export */   \"FindParental\": () => (/* binding */ FindParental),\n/* harmony export */   \"NodeDescent\": () => (/* binding */ NodeDescent),\n/* harmony export */   \"StabilizeContent\": () => (/* binding */ StabilizeContent),\n/* harmony export */   \"URIParams\": () => (/* binding */ URIParams),\n/* harmony export */   \"URIParamsQuery\": () => (/* binding */ URIParamsQuery),\n/* harmony export */   \"decodeHTMLEntities\": () => (/* binding */ decodeHTMLEntities),\n/* harmony export */   \"encodeHTMLEntities\": () => (/* binding */ encodeHTMLEntities),\n/* harmony export */   \"isClass\": () => (/* binding */ isClass),\n/* harmony export */   \"isEmptyObject\": () => (/* binding */ isEmptyObject),\n/* harmony export */   \"isFunction\": () => (/* binding */ isFunction)\n/* harmony export */ });\n/**\n * Utilities\n */\n/**\n * Content Statibilzation\n */\nfunction StabilizeContent(content) {\n    return (content || '')\n        .replace(/&gt;/g, `>`).replace(/&lt;/g, `<`);\n}\n/**\n * Array Refactor from key to key\n */\nfunction ArrayRange(args, from, to) {\n    const out = [];\n    from = from || 0;\n    to = to || args.length;\n    from = from < 0 ? 0 : from;\n    to = to > args.length ? args.length : to;\n    for (let x = (from); x < args.length; x++) {\n        out.push(args[x]);\n    }\n    return out;\n}\nfunction decodeHTMLEntities(input) {\n    const tmp = document.createElement('textarea');\n    tmp.innerHTML = input;\n    return tmp.value;\n}\nfunction encodeHTMLEntities(input) {\n    const tmp = document.createElement('textarea');\n    tmp.innerText = input;\n    return tmp.innerHTML;\n}\n/**\n * Convert URI Query to Object\n */\nfunction URIParams(query) {\n    const out = {};\n    const u = new URL(`http://exemple.com/?${query}`);\n    for (const [k, v] of u.searchParams) {\n        const key = k;\n        try {\n            out[key] = JSON.parse(decodeURIComponent(v));\n        }\n        catch (e) {\n            out[key] = decodeURIComponent(v);\n        }\n    }\n    return out;\n}\nfunction URIParamsQuery(params) {\n    const parse = Object.entries(params);\n    let output = [];\n    if (parse.length) {\n        parse.map($ => {\n            if (typeof $[1] == 'object') {\n                output[output.length] = (URIParamsQuery($[1]) || '');\n            }\n            else {\n                output[output.length] = `${$[0]}=${encodeURIComponent($[1])}`;\n            }\n        });\n        return output.join('&');\n    }\n    return undefined;\n}\n/**\n * Object is Empty\n */\nfunction isEmptyObject($object) {\n    return Object.values($object).length === 0;\n}\n/**\n * Clone Object\n */\nfunction CloneObject(input, deep = true) {\n    if (deep == false) {\n        return { ...input };\n    }\n    else {\n        const o = { ...input };\n        Object.entries(input).map($ => {\n            const name = $[0];\n            const value = $[1];\n            if (typeof $[1] == 'object') {\n                o[name] = CloneObject(value, true);\n            }\n            else {\n                o[name] = value;\n            }\n        });\n        return o;\n    }\n}\n/**\n * Check if Instance Function is a true Function but not Class Funciton\n */\nfunction isFunction(instance) {\n    const props = Object.getOwnPropertyNames(instance);\n    return (!props.includes('prototype') || props.includes('arguments'));\n}\n/**\n * Check if Instance Function is a true Class but not Funciton\n */\nfunction isClass(instance) {\n    return !isFunction(instance);\n}\n/**\n * Node Descent\n */\nfunction NodeDescent(parent, child) {\n    var node = child.parentNode;\n    while (node != null) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n/**\n * Find Node Descent\n */\nfunction FindParental(child, validator) {\n    var node = child.parentNode;\n    while (node != null) {\n        if (validator(node) === true) {\n            return node;\n        }\n        node = node.parentNode;\n    }\n    return null;\n}\n/**\n * Fix JSON\n */\n// export function JSONSafeParse<T extends object>(json: string) : T | null{\n//     let fixed : T = {} as T\n//     /**\n//      * @Solution from https://stackoverflow.com/a/59329495/18059411\n//      */\n//     function bulkRegex(str: string, callback: Function | Array<Function>){\n//         if(callback && typeof callback === 'function'){\n//             return callback(str);\n//         }else if(callback && Array.isArray(callback)){\n//             for(let i = 0; i < callback.length; i++){\n//                 if(callback[i] && typeof callback[i] === 'function'){\n//                     str = callback[i](str);\n//                 }else{break;}\n//             }\n//             return str;\n//         }\n//         return str;\n//     }\n//     if(json && json !== ''){\n//         if(typeof json !== 'string'){\n//             try{\n//                 json = JSON.stringify(json);\n//             }catch(e){return null;}\n//         }\n//         if(typeof json === 'string'){\n//             json = bulkRegex(json, [\n//                 (str:string) => str.replace(/[\\n\\t]/gm, ''),\n//                 (str:string) => str.replace(/,\\}/gm, '}'),\n//                 (str:string) => str.replace(/,\\]/gm, ']'),\n//                 (str:string) => {\n//                     let astr = str.split(/(?=[,\\}\\]])/g);\n//                     astr = astr.map(s => {\n//                         if(s.includes(':') && s){\n//                             let strP = s.split(/:(.+)/, 2);\n//                             strP[0] = strP[0].trim();\n//                             if(strP[0]){\n//                                 let firstP = strP[0].split(/([,\\{\\[])/g);\n//                                 firstP[firstP.length-1] = bulkRegex(firstP[firstP.length-1], (p:string) => p.replace(/[^A-Za-z0-9\\-_]/, ''));\n//                                 strP[0] = firstP.join('');\n//                             }\n//                             let part = strP[1].trim();\n//                             if((part.startsWith('\"') && part.endsWith('\"')) || (part.startsWith('\\'') && part.endsWith('\\'')) || (part.startsWith('`') && part.endsWith('`'))){\n//                                 part = part.substr(1, part.length - 2);\n//                             }\n//                             part = bulkRegex(part, [\n//                                 (p:string) => p.replace(/([\"])/gm, '\\\\$1'),\n//                                 (p:string) => p.replace(/\\\\'/gm, '\\''),\n//                                 (p:string) => p.replace(/\\\\`/gm, '`'),\n//                             ]);\n//                             strP[1] = ('\"'+part+'\"').trim();\n//                             s = strP.join(':');\n//                         }\n//                         return s;\n//                     });\n//                     return astr.join('');\n//                 },\n//                 (str:string) => str.replace(/(['\"])?([a-zA-Z0-9\\-_]+)(['\"])?:/g, '\"$2\":'),\n//                 (str:string) => {\n//                     let astr = str.split(/(?=[,\\}\\]])/gi);\n//                     astr = astr.map(s => {\n//                         if(s.includes(':') && s){\n//                             let strP = s.split(/:(.+)/, 2);\n//                             strP[0] = strP[0].trim();\n//                             if(strP[1].includes('\"') && strP[1].includes(':')){\n//                                 let part = strP[1].trim();\n//                                 if(part.startsWith('\"') && part.endsWith('\"')){\n//                                     part = part.substring(1, part.length - 2);\n//                                     part = bulkRegex(part, (p:string) => p.replace(/(?<!\\\\)\"/gm, ''));\n//                                 }\n//                                 strP[1] = ('\"'+part+'\"').trim();\n//                             }\n//                             s = strP.join(':');\n//                         }\n//                         return s;\n//                     });\n//                     return astr.join('');\n//                 },\n//             ]);\n//             try{\n//                 fixed = JSON.parse(json);\n//             }catch(e){return null;}\n//         }\n//         return fixed;\n//     }\n//     return null;\n// }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2Vuc2VuLWp1dHN1L3V0aWxpdGllcy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlbnNlbi13YXBwLy4vbm9kZV9tb2R1bGVzL3NlbnNlbi1qdXRzdS91dGlsaXRpZXMuanM/NzBhNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFV0aWxpdGllc1xuICovXG4vKipcbiAqIENvbnRlbnQgU3RhdGliaWx6YXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFN0YWJpbGl6ZUNvbnRlbnQoY29udGVudCkge1xuICAgIHJldHVybiAoY29udGVudCB8fCAnJylcbiAgICAgICAgLnJlcGxhY2UoLyZndDsvZywgYD5gKS5yZXBsYWNlKC8mbHQ7L2csIGA8YCk7XG59XG4vKipcbiAqIEFycmF5IFJlZmFjdG9yIGZyb20ga2V5IHRvIGtleVxuICovXG5leHBvcnQgZnVuY3Rpb24gQXJyYXlSYW5nZShhcmdzLCBmcm9tLCB0bykge1xuICAgIGNvbnN0IG91dCA9IFtdO1xuICAgIGZyb20gPSBmcm9tIHx8IDA7XG4gICAgdG8gPSB0byB8fCBhcmdzLmxlbmd0aDtcbiAgICBmcm9tID0gZnJvbSA8IDAgPyAwIDogZnJvbTtcbiAgICB0byA9IHRvID4gYXJncy5sZW5ndGggPyBhcmdzLmxlbmd0aCA6IHRvO1xuICAgIGZvciAobGV0IHggPSAoZnJvbSk7IHggPCBhcmdzLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgIG91dC5wdXNoKGFyZ3NbeF0pO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZUhUTUxFbnRpdGllcyhpbnB1dCkge1xuICAgIGNvbnN0IHRtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgdG1wLmlubmVySFRNTCA9IGlucHV0O1xuICAgIHJldHVybiB0bXAudmFsdWU7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlSFRNTEVudGl0aWVzKGlucHV0KSB7XG4gICAgY29uc3QgdG1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICB0bXAuaW5uZXJUZXh0ID0gaW5wdXQ7XG4gICAgcmV0dXJuIHRtcC5pbm5lckhUTUw7XG59XG4vKipcbiAqIENvbnZlcnQgVVJJIFF1ZXJ5IHRvIE9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gVVJJUGFyYW1zKHF1ZXJ5KSB7XG4gICAgY29uc3Qgb3V0ID0ge307XG4gICAgY29uc3QgdSA9IG5ldyBVUkwoYGh0dHA6Ly9leGVtcGxlLmNvbS8/JHtxdWVyeX1gKTtcbiAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiB1LnNlYXJjaFBhcmFtcykge1xuICAgICAgICBjb25zdCBrZXkgPSBrO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0W2tleV0gPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudCh2KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIG91dFtrZXldID0gZGVjb2RlVVJJQ29tcG9uZW50KHYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5leHBvcnQgZnVuY3Rpb24gVVJJUGFyYW1zUXVlcnkocGFyYW1zKSB7XG4gICAgY29uc3QgcGFyc2UgPSBPYmplY3QuZW50cmllcyhwYXJhbXMpO1xuICAgIGxldCBvdXRwdXQgPSBbXTtcbiAgICBpZiAocGFyc2UubGVuZ3RoKSB7XG4gICAgICAgIHBhcnNlLm1hcCgkID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgJFsxXSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIG91dHB1dFtvdXRwdXQubGVuZ3RoXSA9IChVUklQYXJhbXNRdWVyeSgkWzFdKSB8fCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbb3V0cHV0Lmxlbmd0aF0gPSBgJHskWzBdfT0ke2VuY29kZVVSSUNvbXBvbmVudCgkWzFdKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG91dHB1dC5qb2luKCcmJyk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4vKipcbiAqIE9iamVjdCBpcyBFbXB0eVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbXB0eU9iamVjdCgkb2JqZWN0KSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoJG9iamVjdCkubGVuZ3RoID09PSAwO1xufVxuLyoqXG4gKiBDbG9uZSBPYmplY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENsb25lT2JqZWN0KGlucHV0LCBkZWVwID0gdHJ1ZSkge1xuICAgIGlmIChkZWVwID09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB7IC4uLmlucHV0IH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBvID0geyAuLi5pbnB1dCB9O1xuICAgICAgICBPYmplY3QuZW50cmllcyhpbnB1dCkubWFwKCQgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9ICRbMF07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9ICRbMV07XG4gICAgICAgICAgICBpZiAodHlwZW9mICRbMV0gPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBvW25hbWVdID0gQ2xvbmVPYmplY3QodmFsdWUsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG87XG4gICAgfVxufVxuLyoqXG4gKiBDaGVjayBpZiBJbnN0YW5jZSBGdW5jdGlvbiBpcyBhIHRydWUgRnVuY3Rpb24gYnV0IG5vdCBDbGFzcyBGdW5jaXRvblxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIGNvbnN0IHByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaW5zdGFuY2UpO1xuICAgIHJldHVybiAoIXByb3BzLmluY2x1ZGVzKCdwcm90b3R5cGUnKSB8fCBwcm9wcy5pbmNsdWRlcygnYXJndW1lbnRzJykpO1xufVxuLyoqXG4gKiBDaGVjayBpZiBJbnN0YW5jZSBGdW5jdGlvbiBpcyBhIHRydWUgQ2xhc3MgYnV0IG5vdCBGdW5jaXRvblxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDbGFzcyhpbnN0YW5jZSkge1xuICAgIHJldHVybiAhaXNGdW5jdGlvbihpbnN0YW5jZSk7XG59XG4vKipcbiAqIE5vZGUgRGVzY2VudFxuICovXG5leHBvcnQgZnVuY3Rpb24gTm9kZURlc2NlbnQocGFyZW50LCBjaGlsZCkge1xuICAgIHZhciBub2RlID0gY2hpbGQucGFyZW50Tm9kZTtcbiAgICB3aGlsZSAobm9kZSAhPSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlID09IHBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBGaW5kIE5vZGUgRGVzY2VudFxuICovXG5leHBvcnQgZnVuY3Rpb24gRmluZFBhcmVudGFsKGNoaWxkLCB2YWxpZGF0b3IpIHtcbiAgICB2YXIgbm9kZSA9IGNoaWxkLnBhcmVudE5vZGU7XG4gICAgd2hpbGUgKG5vZGUgIT0gbnVsbCkge1xuICAgICAgICBpZiAodmFsaWRhdG9yKG5vZGUpID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogRml4IEpTT05cbiAqL1xuLy8gZXhwb3J0IGZ1bmN0aW9uIEpTT05TYWZlUGFyc2U8VCBleHRlbmRzIG9iamVjdD4oanNvbjogc3RyaW5nKSA6IFQgfCBudWxse1xuLy8gICAgIGxldCBmaXhlZCA6IFQgPSB7fSBhcyBUXG4vLyAgICAgLyoqXG4vLyAgICAgICogQFNvbHV0aW9uIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzU5MzI5NDk1LzE4MDU5NDExXG4vLyAgICAgICovXG4vLyAgICAgZnVuY3Rpb24gYnVsa1JlZ2V4KHN0cjogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24gfCBBcnJheTxGdW5jdGlvbj4pe1xuLy8gICAgICAgICBpZihjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpe1xuLy8gICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHN0cik7XG4vLyAgICAgICAgIH1lbHNlIGlmKGNhbGxiYWNrICYmIEFycmF5LmlzQXJyYXkoY2FsbGJhY2spKXtcbi8vICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBjYWxsYmFjay5sZW5ndGg7IGkrKyl7XG4vLyAgICAgICAgICAgICAgICAgaWYoY2FsbGJhY2tbaV0gJiYgdHlwZW9mIGNhbGxiYWNrW2ldID09PSAnZnVuY3Rpb24nKXtcbi8vICAgICAgICAgICAgICAgICAgICAgc3RyID0gY2FsbGJhY2tbaV0oc3RyKTtcbi8vICAgICAgICAgICAgICAgICB9ZWxzZXticmVhazt9XG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICByZXR1cm4gc3RyO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIHJldHVybiBzdHI7XG4vLyAgICAgfVxuLy8gICAgIGlmKGpzb24gJiYganNvbiAhPT0gJycpe1xuLy8gICAgICAgICBpZih0eXBlb2YganNvbiAhPT0gJ3N0cmluZycpe1xuLy8gICAgICAgICAgICAgdHJ5e1xuLy8gICAgICAgICAgICAgICAgIGpzb24gPSBKU09OLnN0cmluZ2lmeShqc29uKTtcbi8vICAgICAgICAgICAgIH1jYXRjaChlKXtyZXR1cm4gbnVsbDt9XG4vLyAgICAgICAgIH1cbi8vICAgICAgICAgaWYodHlwZW9mIGpzb24gPT09ICdzdHJpbmcnKXtcbi8vICAgICAgICAgICAgIGpzb24gPSBidWxrUmVnZXgoanNvbiwgW1xuLy8gICAgICAgICAgICAgICAgIChzdHI6c3RyaW5nKSA9PiBzdHIucmVwbGFjZSgvW1xcblxcdF0vZ20sICcnKSxcbi8vICAgICAgICAgICAgICAgICAoc3RyOnN0cmluZykgPT4gc3RyLnJlcGxhY2UoLyxcXH0vZ20sICd9JyksXG4vLyAgICAgICAgICAgICAgICAgKHN0cjpzdHJpbmcpID0+IHN0ci5yZXBsYWNlKC8sXFxdL2dtLCAnXScpLFxuLy8gICAgICAgICAgICAgICAgIChzdHI6c3RyaW5nKSA9PiB7XG4vLyAgICAgICAgICAgICAgICAgICAgIGxldCBhc3RyID0gc3RyLnNwbGl0KC8oPz1bLFxcfVxcXV0pL2cpO1xuLy8gICAgICAgICAgICAgICAgICAgICBhc3RyID0gYXN0ci5tYXAocyA9PiB7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpZihzLmluY2x1ZGVzKCc6JykgJiYgcyl7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0clAgPSBzLnNwbGl0KC86KC4rKS8sIDIpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0clBbMF0gPSBzdHJQWzBdLnRyaW0oKTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihzdHJQWzBdKXtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpcnN0UCA9IHN0clBbMF0uc3BsaXQoLyhbLFxce1xcW10pL2cpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdFBbZmlyc3RQLmxlbmd0aC0xXSA9IGJ1bGtSZWdleChmaXJzdFBbZmlyc3RQLmxlbmd0aC0xXSwgKHA6c3RyaW5nKSA9PiBwLnJlcGxhY2UoL1teQS1aYS16MC05XFwtX10vLCAnJykpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJQWzBdID0gZmlyc3RQLmpvaW4oJycpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFydCA9IHN0clBbMV0udHJpbSgpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKChwYXJ0LnN0YXJ0c1dpdGgoJ1wiJykgJiYgcGFydC5lbmRzV2l0aCgnXCInKSkgfHwgKHBhcnQuc3RhcnRzV2l0aCgnXFwnJykgJiYgcGFydC5lbmRzV2l0aCgnXFwnJykpIHx8IChwYXJ0LnN0YXJ0c1dpdGgoJ2AnKSAmJiBwYXJ0LmVuZHNXaXRoKCdgJykpKXtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydCA9IHBhcnQuc3Vic3RyKDEsIHBhcnQubGVuZ3RoIC0gMik7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQgPSBidWxrUmVnZXgocGFydCwgW1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocDpzdHJpbmcpID0+IHAucmVwbGFjZSgvKFtcIl0pL2dtLCAnXFxcXCQxJyksXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwOnN0cmluZykgPT4gcC5yZXBsYWNlKC9cXFxcJy9nbSwgJ1xcJycpLFxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocDpzdHJpbmcpID0+IHAucmVwbGFjZSgvXFxcXGAvZ20sICdgJyksXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyUFsxXSA9ICgnXCInK3BhcnQrJ1wiJykudHJpbSgpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgPSBzdHJQLmpvaW4oJzonKTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzO1xuLy8gICAgICAgICAgICAgICAgICAgICB9KTtcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFzdHIuam9pbignJyk7XG4vLyAgICAgICAgICAgICAgICAgfSxcbi8vICAgICAgICAgICAgICAgICAoc3RyOnN0cmluZykgPT4gc3RyLnJlcGxhY2UoLyhbJ1wiXSk/KFthLXpBLVowLTlcXC1fXSspKFsnXCJdKT86L2csICdcIiQyXCI6JyksXG4vLyAgICAgICAgICAgICAgICAgKHN0cjpzdHJpbmcpID0+IHtcbi8vICAgICAgICAgICAgICAgICAgICAgbGV0IGFzdHIgPSBzdHIuc3BsaXQoLyg/PVssXFx9XFxdXSkvZ2kpO1xuLy8gICAgICAgICAgICAgICAgICAgICBhc3RyID0gYXN0ci5tYXAocyA9PiB7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBpZihzLmluY2x1ZGVzKCc6JykgJiYgcyl7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0clAgPSBzLnNwbGl0KC86KC4rKS8sIDIpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0clBbMF0gPSBzdHJQWzBdLnRyaW0oKTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihzdHJQWzFdLmluY2x1ZGVzKCdcIicpICYmIHN0clBbMV0uaW5jbHVkZXMoJzonKSl7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJ0ID0gc3RyUFsxXS50cmltKCk7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHBhcnQuc3RhcnRzV2l0aCgnXCInKSAmJiBwYXJ0LmVuZHNXaXRoKCdcIicpKXtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQgPSBwYXJ0LnN1YnN0cmluZygxLCBwYXJ0Lmxlbmd0aCAtIDIpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydCA9IGJ1bGtSZWdleChwYXJ0LCAocDpzdHJpbmcpID0+IHAucmVwbGFjZSgvKD88IVxcXFwpXCIvZ20sICcnKSk7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyUFsxXSA9ICgnXCInK3BhcnQrJ1wiJykudHJpbSgpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzID0gc3RyUC5qb2luKCc6Jyk7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcztcbi8vICAgICAgICAgICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhc3RyLmpvaW4oJycpO1xuLy8gICAgICAgICAgICAgICAgIH0sXG4vLyAgICAgICAgICAgICBdKTtcbi8vICAgICAgICAgICAgIHRyeXtcbi8vICAgICAgICAgICAgICAgICBmaXhlZCA9IEpTT04ucGFyc2UoanNvbik7XG4vLyAgICAgICAgICAgICB9Y2F0Y2goZSl7cmV0dXJuIG51bGw7fVxuLy8gICAgICAgICB9XG4vLyAgICAgICAgIHJldHVybiBmaXhlZDtcbi8vICAgICB9XG4vLyAgICAgcmV0dXJuIG51bGw7XG4vLyB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/sensen-jutsu/utilities.js\n");

/***/ }),

/***/ "?a259":
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?a5fc":
/*!**********************!*\
  !*** path (ignored) ***!
  \**********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "./node_modules/ejs/package.json":
/*!***************************************!*\
  !*** ./node_modules/ejs/package.json ***!
  \***************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"name":"ejs","description":"Embedded JavaScript templates","keywords":["template","engine","ejs"],"version":"3.1.6","author":"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)","license":"Apache-2.0","bin":{"ejs":"./bin/cli.js"},"main":"./lib/ejs.js","jsdelivr":"ejs.min.js","unpkg":"ejs.min.js","repository":{"type":"git","url":"git://github.com/mde/ejs.git"},"bugs":"https://github.com/mde/ejs/issues","homepage":"https://github.com/mde/ejs","dependencies":{"jake":"^10.6.1"},"devDependencies":{"browserify":"^16.5.1","eslint":"^6.8.0","git-directory-deploy":"^1.5.1","jsdoc":"^3.6.4","lru-cache":"^4.0.1","mocha":"^7.1.1","uglify-js":"^3.3.16"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha"}}');

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ var __webpack_exports__ = (__webpack_exec__("./pipe/app/index.js"));
/******/ }
]);